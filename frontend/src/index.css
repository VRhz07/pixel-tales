@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@300;400;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Safe Area Insets for Mobile Devices (Status Bar) */
body.capacitor {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}

/* Ensure main content respects safe areas */
.capacitor #root {
  padding-top: env(safe-area-inset-top);
}

/* Fix keyboard gray gap issue on Android */
html, body {
  height: 100%;
  overflow: auto;
}

body {
  background-color: #0f172a;
}

#root {
  min-height: 100%;
  background-color: #0f172a;
}

/* Canvas pages should be full screen without status bar padding */
.capacitor .canvas-drawing-page,
.capacitor .cover-canvas-page {
  margin-top: calc(-1 * env(safe-area-inset-top));
  padding-top: 0 !important;
}

/* Child-Friendly Animations */
@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-15px);
  }
}

@keyframes bounce-soft {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes wiggle {
  0%, 100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(-5deg);
  }
  75% {
    transform: rotate(5deg);
  }
}

@keyframes sparkle {
  0%, 100% {
    transform: scale(1) rotate(0deg);
    opacity: 0.6;
  }
  50% {
    transform: scale(1.2) rotate(180deg);
    opacity: 1;
  }
}

/* Capacitor Safe Area Support */
:root {
  --sat: env(safe-area-inset-top);
  --sar: env(safe-area-inset-right);
  --sab: env(safe-area-inset-bottom);
  --sal: env(safe-area-inset-left);
}

/* Prevent status bar overlap for Capacitor apps */
body.capacitor {
  padding-top: var(--sat);
  padding-right: var(--sar);
  padding-bottom: var(--sab);
  padding-left: var(--sal);
}

/* Global font smoothing and base styles */
* {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family: 'Comic Neue', cursive, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

h1, h2, h3, h4, h5, h6 {
  font-family: 'Fredoka', sans-serif;
}

/* Design System CSS Variables */
:root {
  /* Color Palette */
  --primary: hsl(263, 85%, 60%);
  --primary-light: hsl(270, 75%, 75%);
  --primary-dark: hsl(258, 95%, 45%);
  --primary-foreground: hsl(0, 0%, 100%);
  
  --secondary: hsl(25, 95%, 63%);
  --secondary-light: hsl(30, 100%, 75%);
  --secondary-dark: hsl(20, 100%, 50%);
  --secondary-foreground: hsl(0, 0%, 100%);
  
  --accent: hsl(180, 85%, 55%);
  --accent-light: hsl(185, 75%, 70%);
  --accent-foreground: hsl(0, 0%, 100%);
  
  --success: hsl(142, 76%, 45%);
  --success-foreground: hsl(0, 0%, 100%);
  
  --warning: hsl(45, 93%, 58%);
  --warning-foreground: hsl(263, 25%, 12%);
  
  --destructive: hsl(0, 84%, 60%);
  --destructive-foreground: hsl(0, 0%, 100%);
  
  --background: hsl(245, 50%, 98%);
  --foreground: hsl(263, 25%, 12%);
  --muted: hsl(245, 20%, 94%);
  --muted-foreground: hsl(263, 15%, 45%);
  --border: hsl(240, 20%, 88%);
  --input: hsl(240, 15%, 92%);
  --card: hsl(0, 0%, 100%);
  --surface-elevated: hsl(245, 30%, 96%);

  /* Story Reader Design Profile Colors - Child-Friendly Theme */
  --story-reader-bg-light: hsl(270, 50%, 98%);
  --story-reader-bg-dark: hsl(270, 40%, 15%);
  --story-reader-card-light: hsl(0, 0%, 100%);
  --story-reader-card-dark: hsl(270, 40%, 18%);
  --story-reader-primary: hsl(270, 70%, 60%);
  --story-reader-primary-light: hsl(270, 60%, 85%);
  --story-reader-primary-dark: hsl(270, 80%, 40%);
  --story-reader-secondary: hsl(45, 100%, 65%);
  --story-reader-accent: hsl(320, 80%, 70%);
  --story-reader-text-primary-light: hsl(270, 30%, 20%);
  --story-reader-text-primary-dark: hsl(270, 30%, 95%);
  --story-reader-border-light: hsl(270, 30%, 90%);
  --story-reader-border-dark: hsl(270, 30%, 25%);
  --story-reader-accent-pink: #EC4899;
  --story-reader-accent-pink-dark: #F9A8D4;
  --story-reader-gray-900: #111827;
  --story-reader-gray-800: #1F2937;
  --story-reader-gray-700: #374151;
  --story-reader-gray-600: #4B5563;
  --story-reader-gray-500: #6B7280;
  --story-reader-gray-400: #9CA3AF;
  --story-reader-gray-300: #D1D5DB;
  --story-reader-gray-200: #E5E7EB;
  --story-reader-gray-100: #F3F4F6;
  --story-reader-gray-50: #F9FAFB;
}

/* ============================================
   DARK MODE STYLES - Comprehensive Coverage
   Based on reference screenshots
   ============================================ */

.dark {
  /* Dark Mode Color Palette - Matching Screenshots */
  --primary: hsl(263, 70%, 65%);
  --primary-light: hsl(270, 75%, 80%);
  --primary-dark: hsl(258, 95%, 50%);
  --primary-foreground: hsl(0, 0%, 100%);
  
  --secondary: hsl(25, 95%, 68%);
  --secondary-light: hsl(30, 100%, 80%);
  --secondary-dark: hsl(20, 100%, 55%);
  --secondary-foreground: hsl(0, 0%, 100%);
  
  --accent: hsl(263, 70%, 65%);
  --accent-light: hsl(270, 75%, 75%);
  --accent-foreground: hsl(0, 0%, 100%);
  
  --success: hsl(142, 76%, 50%);
  --success-foreground: hsl(0, 0%, 100%);
  
  --warning: hsl(45, 93%, 63%);
  --warning-foreground: hsl(263, 25%, 12%);
  
  --destructive: hsl(0, 84%, 65%);
  --destructive-foreground: hsl(0, 0%, 100%);
  
  /* Main backgrounds - Very dark purple-tinted */
  --background: #1a1625;
  --foreground: #ffffff;
  --muted: #2a2435;
  --muted-foreground: #a0a0b0;
  --border: #3a3445;
  --input: #2a2435;
  --card: #232030;
  --surface-elevated: #2a2435;
}

/* ============================================
   GLOBAL DARK MODE STYLES
   ============================================ */

.dark body {
  background-color: #1a1625 !important;
  color: #ffffff !important;
}

.dark {
  background-color: #1a1625 !important;
  color: #ffffff !important;
}

/* Background Colors */
.dark .bg-gray-50,
.dark .bg-gray-100 {
  background-color: #1a1625 !important;
}

.dark .bg-white {
  background-color: #232030 !important;
}

.dark .bg-gray-200 {
  background-color: #2a2435 !important;
}

.dark .bg-purple-50 {
  background-color: rgba(139, 92, 246, 0.1) !important;
}

.dark .bg-purple-100 {
  background-color: rgba(139, 92, 246, 0.15) !important;
}

.dark .bg-green-50 {
  background-color: rgba(34, 197, 94, 0.1) !important;
}

/* Text Colors */
.dark .text-gray-900,
.dark .text-gray-800,
.dark .text-gray-700 {
  color: #ffffff !important;
}

.dark .text-gray-600 {
  color: #d0d0d8 !important;
}

.dark .text-gray-500 {
  color: #a0a0b0 !important;
}

.dark .text-gray-400 {
  color: #808090 !important;
}

.dark .text-purple-900 {
  color: #e0d0ff !important;
}

.dark .text-purple-700 {
  color: #c0a0ff !important;
}

.dark .text-green-800 {
  color: #86efac !important;
}

.dark .text-green-600 {
  color: #4ade80 !important;
}

/* Border Colors */
.dark .border-gray-200,
.dark .border-gray-300 {
  border-color: #3a3445 !important;
}

.dark .border-purple-200 {
  border-color: rgba(139, 92, 246, 0.3) !important;
}

.dark .border-green-200 {
  border-color: rgba(34, 197, 94, 0.3) !important;
}

.dark .divide-gray-200 > * + * {
  border-color: #3a3445 !important;
}

/* ============================================
   CARDS AND CONTAINERS
   ============================================ */

.dark .rounded-lg,
.dark .rounded-xl,
.dark .rounded-2xl,
.dark .rounded-3xl {
  background-color: #232030 !important;
  border-color: #3a3445 !important;
}

.dark [class*="card"],
.dark [class*="container"] {
  background-color: #232030 !important;
  border-color: #3a3445 !important;
}

/* Force all white backgrounds to dark */
.dark div.bg-white,
.dark section.bg-white,
.dark article.bg-white,
.dark aside.bg-white {
  background-color: #232030 !important;
}

/* Force all rounded elements with white bg */
.dark div[class*="rounded"].bg-white,
.dark div[class*="rounded"][class*="bg-white"] {
  background-color: #232030 !important;
}

/* ============================================
   SETTINGS PAGE DARK MODE
   ============================================ */

.dark .settings-page {
  background-color: #1a1625 !important;
}

.dark .settings-header {
  background-color: #1a1625 !important;
  border-color: #3a3445 !important;
}

.dark .settings-card {
  background-color: #232030 !important;
  border-color: #3a3445 !important;
}

.dark .settings-section-header {
  background-color: transparent !important;
  border-bottom-color: #3a3445 !important;
}

.dark .settings-section-header h2 {
  color: #ffffff !important;
}

.dark .settings-item {
  border-bottom-color: #3a3445 !important;
  background-color: transparent !important;
}

.dark .settings-item-title {
  color: #ffffff !important;
}

.dark .settings-item-subtitle {
  color: #a0a0b0 !important;
}

.dark .settings-button-secondary {
  background-color: transparent !important;
  border-color: #8b5cf6 !important;
  color: #a78bfa !important;
}

.dark .settings-button-secondary:hover {
  background-color: rgba(139, 92, 246, 0.1) !important;
}

.dark .settings-button-destructive {
  background-color: #ef4444 !important;
  border-color: #ef4444 !important;
  color: #ffffff !important;
}

.dark .settings-sign-out-button {
  background-color: transparent !important;
  border-color: #3a3445 !important;
  color: #a0a0b0 !important;
}

.dark .settings-support-section {
  background-color: transparent !important;
}

.dark .settings-support-title {
  color: #ffffff !important;
}

.dark .settings-support-item {
  background-color: transparent !important;
  border-bottom-color: #3a3445 !important;
}

.dark .settings-support-text-title {
  color: #ffffff !important;
}

.dark .settings-support-text-subtitle {
  color: #a0a0b0 !important;
}

.dark .settings-app-info {
  background-color: transparent !important;
  color: #a0a0b0 !important;
}

.dark .settings-app-name {
  color: #ffffff !important;
}

.dark .settings-select-compact {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
  color: #ffffff !important;
}

/* Toggle Switches */
.dark .settings-toggle-enabled {
  background-color: #8b5cf6 !important;
  border-color: #7c3aed !important;
}

.dark .settings-toggle-disabled {
  background-color: #3a3445 !important;
  border-color: #4a4555 !important;
}

.dark .settings-toggle-enabled:hover {
  background-color: #7c3aed !important;
}

.dark .settings-toggle-disabled:hover {
  background-color: #4a4555 !important;
  border-color: #5a5565 !important;
}

/* Toggle Thumb Position - Force correct positioning in dark mode */
.dark .settings-toggle-thumb-enabled {
  transform: translateX(1.25rem) !important;
}

.dark .settings-toggle-thumb-disabled {
  transform: translateX(0) !important;
}

/* ============================================
   LIBRARY PAGE DARK MODE
   ============================================ */

.dark .library-page {
  background: #1a1625 !important;
  color: #ffffff !important;
}

/* Library header */
.dark .library-header {
  background-color: transparent !important;
  border-color: transparent !important;
}

.dark .library-title {
  color: #ffffff !important;
}

.dark .library-subtitle {
  color: #a0a0b0 !important;
}

/* Section headers and lists */
.dark .library-section {
  background-color: transparent !important;
}

.dark .library-page .library-story-list {
  background-color: #1a1625 !important;
  padding: 1rem !important;
  border-radius: 0.75rem !important;
}

body.dark .library-page .library-story-list {
  background-color: #1a1625 !important;
  padding: 1rem !important;
  border-radius: 0.75rem !important;
}

html.dark .library-page .library-story-list {
  background-color: #1a1625 !important;
  padding: 1rem !important;
  border-radius: 0.75rem !important;
}

.dark .library-section-header {
  background-color: transparent !important;
}

.dark .library-section-title {
  color: #ffffff !important;
}

.dark .library-section-icon {
  color: #a78bfa !important;
}

/* Story items/cards */
.dark .library-story-item,
.dark .library-character-item {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .library-story-title,
.dark .library-character-title {
  color: #ffffff !important;
}

.dark .library-story-metadata {
  color: #a0a0b0 !important;
}

.dark .library-story-content {
  color: #a0a0b0 !important;
}

.dark .library-story-stats {
  color: #a0a0b0 !important;
}

.dark .library-story-likes {
  color: #a0a0b0 !important;
}

/* Rating stars */
.dark .library-rating-star {
  color: #fbbf24 !important;
}

.dark .library-rating-value {
  color: #a0a0b0 !important;
}

/* Action buttons */
.dark .library-button-edit,
.dark .library-button-share {
  background-color: transparent !important;
  border-color: #3a3445 !important;
  color: #a78bfa !important;
}

.dark .library-button-edit:hover,
.dark .library-button-share:hover {
  background-color: rgba(139, 92, 246, 0.1) !important;
  border-color: #8b5cf6 !important;
}

.dark .library-button-read,
.dark .library-button-download {
  background-color: #8b5cf6 !important;
  border-color: #8b5cf6 !important;
  color: #ffffff !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.dark .library-button-view {
  background-color: #ec4899 !important;
  border-color: #ec4899 !important;
  color: #ffffff !important;
  font-weight: 700 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.dark .library-button-view svg {
  color: #ffffff !important;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.5)) !important;
}

.dark .library-button-view span {
  color: #ffffff !important;
  font-weight: 700 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
}

.dark .library-page .library-button-view {
  background-color: #ec4899 !important;
  border-color: #ec4899 !important;
  color: #ffffff !important;
  font-weight: 700 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
}

.dark .library-page .library-button-view svg {
  color: #ffffff !important;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.5)) !important;
}

.dark .library-page .library-button-view span {
  color: #ffffff !important;
  font-weight: 700 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
}

.dark .library-button-read:hover,
.dark .library-button-download:hover {
  background-color: #7c3aed !important;
  border-color: #7c3aed !important;
  color: #ffffff !important;
  transform: translateY(-1px) scale(1.05) !important;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4) !important;
}

.dark .library-button-view:hover {
  background-color: #db2777 !important;
  border-color: #db2777 !important;
  color: #ffffff !important;
  font-weight: 700 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6) !important;
  transform: translateY(-1px) scale(1.05) !important;
  box-shadow: 0 4px 12px rgba(236, 72, 153, 0.4) !important;
}

.dark .library-button-view:hover svg {
  color: #ffffff !important;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.6)) !important;
}

.dark .library-button-view:hover span {
  color: #ffffff !important;
  font-weight: 700 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6) !important;
}

.dark .library-page .library-button-view:hover {
  background-color: #db2777 !important;
  border-color: #db2777 !important;
  color: #ffffff !important;
  font-weight: 700 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6) !important;
}

.dark .library-page .library-button-view:hover svg {
  color: #ffffff !important;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.6)) !important;
}

.dark .library-page .library-button-view:hover span {
  color: #ffffff !important;
  font-weight: 700 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6) !important;
}

/* Browse button */
.dark .library-browse-button {
  background-color: transparent !important;
  border-color: #8b5cf6 !important;
  color: #a78bfa !important;
}

.dark .library-browse-button:hover {
  background-color: rgba(139, 92, 246, 0.1) !important;
}

.dark .library-page .library-section-header::after {
  background: linear-gradient(to right, #3a3445, transparent) !important;
}

.dark .library-page .library-download-icon {
  color: #a0a0b0 !important;
}

.dark .library-page .library-download-count {
  color: #a0a0b0 !important;
}

.dark .library-page .library-download-container {
  color: #a0a0b0 !important;
  background-color: #1a1625 !important;
  border-radius: 0.375rem !important;
  padding: 0.25rem 0.5rem !important;
}

.dark .library-page .library-rating-container {
  color: #a0a0b0 !important;
  background-color: #1a1625 !important;
  border-radius: 0.375rem !important;
  padding: 0.25rem 0.5rem !important;
}

.dark .library-page .library-metadata-separator {
  color: #6b7280 !important;
}

/* Library page specific overrides */
.dark .library-page .bg-white,
.dark .library-page .rounded-lg,
.dark .library-page .rounded-xl,
.dark .library-page .rounded-2xl,
.dark .library-page .rounded-3xl {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

/* Additional library page dark mode fixes */
.dark .library-page .library-story-item {
  background-color: #1a1625 !important;
  border-color: #3a3445 !important;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.3), 0 1px 3px 0 rgba(0, 0, 0, 0.2) !important;
}

.dark .library-page .library-story-item:hover {
  background-color: #2a2435 !important;
  border-color: #8b5cf6 !important;
  transform: translateY(-2px) scale(1.01) !important;
  box-shadow: 0 8px 25px 0 rgba(139, 92, 246, 0.3), 0 4px 12px 0 rgba(0, 0, 0, 0.4) !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.dark .library-page .library-character-section {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .library-page .library-character-button {
  background-color: #8b5cf6 !important;
  border-color: #8b5cf6 !important;
  color: #ffffff !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.dark .library-page .library-character-button:hover {
  background-color: #7c3aed !important;
  border-color: #7c3aed !important;
  color: #ffffff !important;
  transform: translateY(-1px) scale(1.05) !important;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4) !important;
}

.dark .library-character-button {
  background-color: #8b5cf6 !important;
  border-color: #8b5cf6 !important;
  color: #ffffff !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.dark .library-character-button:hover {
  background-color: #7c3aed !important;
  border-color: #7c3aed !important;
  color: #ffffff !important;
  transform: translateY(-1px) scale(1.05) !important;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4) !important;
}

.dark .library-page .library-character-description {
  color: #a0a0b0 !important;
}

.dark .library-page h1,
.dark .library-page h2,
.dark .library-page h3 {
  color: #ffffff !important;
}

.dark .library-page p,
.dark .library-page span {
  color: #a0a0b0 !important;
}

/* Story cards in library */
.dark .library-page [class*="story"],
.dark .library-page [class*="card"] {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

/* All icons in library */
.dark .library-page svg {
  color: #a78bfa !important;
}

/* Override for star icons (should be gold) */
.dark .library-rating-star {
  color: #fbbf24 !important;
}

/* Stats Overview Dark Mode */
.dark .library-stats {
  background: #2a2435 !important;
  border-color: #3a3445 !important;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.3), 0 1px 3px 0 rgba(0, 0, 0, 0.2) !important;
}

.dark .library-stat-label {
  color: #a0a0b0 !important;
}

/* Settings/Manage Button Dark Mode */
.dark .library-settings-button {
  background: #2a2435 !important;
  border-color: #3a3445 !important;
  color: #a78bfa !important;
}

.dark .library-settings-button:hover {
  background: rgba(139, 92, 246, 0.1) !important;
  border-color: #8b5cf6 !important;
}

/* Create Button Secondary Dark Mode */
.dark .library-create-button-secondary {
  background: #2a2435 !important;
  color: #a78bfa !important;
  border-color: #8b5cf6 !important;
}

.dark .library-create-button-secondary:hover {
  background: rgba(139, 92, 246, 0.1) !important;
  border-color: #7c3aed !important;
}

/* Empty State Dark Mode */
.dark .library-empty-state {
  background: #2a2435 !important;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.3), 0 1px 3px 0 rgba(0, 0, 0, 0.2) !important;
}

.dark .library-empty-icon {
  color: #6b7280 !important;
}

.dark .library-empty-title {
  color: #ffffff !important;
}

.dark .library-empty-description {
  color: #a0a0b0 !important;
}

/* Story Tags Dark Mode */
.dark .library-story-tag {
  background: #3a3445 !important;
  color: #a78bfa !important;
}

.dark .library-story-date {
  color: #6b7280 !important;
}

/* Draft and Published Badges Dark Mode */
.dark .library-draft-badge {
  background: hsl(45, 80%, 50%) !important;
  color: hsl(263, 25%, 12%) !important;
}

.dark .library-published-badge {
  background: hsl(142, 70%, 40%) !important;
  color: white !important;
}

.dark .library-saved-badge {
  background: hsl(263, 85%, 55%) !important;
  color: white !important;
}

/* Delete Button Dark Mode */
.dark .library-button-delete {
  background: hsl(0, 84%, 55%) !important;
  color: white !important;
}

.dark .library-button-delete:hover {
  background: hsl(0, 84%, 45%) !important;
  box-shadow: 0 2px 8px hsl(0, 84%, 55% / 0.4) !important;
}

/* ============================================
   CREATE STORY PAGE DARK MODE
   ============================================ */

/* Page Container */
.dark .create-story-page {
  background-color: #1a1625 !important;
}

/* Page Header */
.dark .page-header-container {
  background-color: #2a2435 !important;
  border-bottom-color: #3a3445 !important;
}

.dark .page-header-back-icon {
  color: #a0a0b0 !important;
}

.dark .page-header-back-icon:hover {
  color: #ffffff !important;
}

.dark .page-header-title {
  color: #ffffff !important;
}

.dark .page-header-subtitle {
  color: #a0a0b0 !important;
}

/* Story Title Section */
.dark .story-title-section-container {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .story-title-section-label {
  color: #e0e0e8 !important;
}

.dark .story-title-section-input {
  background-color: #1a1625 !important;
  border-color: #3a3445 !important;
  color: #ffffff !important;
}

.dark .story-title-section-input::placeholder {
  color: #6b7280 !important;
}

.dark .story-title-section-input:focus {
  border-color: #8b5cf6 !important;
  box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.3) !important;
}

/* Canvas Section */
.dark .canvas-section-container {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .canvas-section-text {
  color: #ffffff !important;
}

.dark .canvas-section-edit-button {
  background-color: #1a1625 !important;
  color: #a78bfa !important;
  border-color: #8b5cf6 !important;
}

.dark .canvas-section-edit-button:hover {
  background-color: rgba(139, 92, 246, 0.1) !important;
}

.dark .canvas-section-canvas-area {
  background-color: #1a1625 !important;
  border-color: #3a3445 !important;
}

.dark .canvas-section-canvas-area:hover {
  background-color: #232030 !important;
}

.dark .canvas-section-empty-state {
  color: #6b7280 !important;
}

/* Page Editor Section */
.dark .page-editor-section-container {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .page-editor-section-text {
  color: #ffffff !important;
}

.dark .page-editor-section-ai-button {
  background-color: #1a1625 !important;
  color: #a78bfa !important;
  border-color: #8b5cf6 !important;
}

.dark .page-editor-section-ai-button:hover {
  background-color: rgba(139, 92, 246, 0.1) !important;
}

.dark .page-editor-section-text-area {
  background-color: #1a1625 !important;
  border-color: #3a3445 !important;
  color: #ffffff !important;
}

.dark .page-editor-section-text-area::placeholder {
  color: #6b7280 !important;
}

.dark .page-editor-section-text-area:focus {
  background-color: #232030 !important;
  border-color: #8b5cf6 !important;
  box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.3) !important;
}

.dark .page-editor-section-character-count {
  color: #6b7280 !important;
}

/* Page Management Compact */
.dark .page-management-compact-container {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .page-management-compact-button {
  background-color: #3a3445 !important;
  color: #a0a0b0 !important;
}

.dark .page-management-compact-button:hover:not(:disabled) {
  background-color: #4a4555 !important;
}

.dark .page-management-compact-info {
  color: #e0e0e8 !important;
}

.dark .page-management-compact-delete-button {
  background-color: hsl(0, 84%, 55%) !important;
}

.dark .page-management-compact-delete-button:hover {
  background-color: hsl(0, 84%, 45%) !important;
}

/* Bottom Actions */
.dark .bottom-actions-container {
  background-color: #2a2435 !important;
  border-top-color: #3a3445 !important;
}

.dark .bottom-actions-characters-button,
.dark .bottom-actions-ai-assistant-button {
  background-color: #1a1625 !important;
  color: #a78bfa !important;
  border-color: #8b5cf6 !important;
}

.dark .bottom-actions-characters-button:hover,
.dark .bottom-actions-ai-assistant-button:hover {
  background-color: rgba(139, 92, 246, 0.1) !important;
}

/* ============================================
   ACCOUNT MODALS DARK MODE
   ============================================ */

/* Modal Container */
.dark .account-modal-container {
  background: #2a2435 !important;
}

/* Modal Header */
.dark .account-modal-header {
  border-bottom-color: #3a3445 !important;
}

.dark .account-modal-title {
  color: #ffffff !important;
}

.dark .account-modal-close {
  color: #a0a0b0 !important;
}

.dark .account-modal-close:hover {
  background-color: #3a3445 !important;
  color: #ffffff !important;
}

/* Form Labels */
.dark .account-modal-label {
  color: #e0e0e8 !important;
}

/* Form Inputs */
.dark .account-modal-input {
  background: #1a1625 !important;
  border-color: #3a3445 !important;
  color: #ffffff !important;
}

.dark .account-modal-input:focus {
  border-color: #8b5cf6 !important;
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2) !important;
}

.dark .account-modal-input:disabled {
  background-color: #232030 !important;
  color: #6b7280 !important;
}

.dark .account-modal-input::placeholder {
  color: #6b7280 !important;
}

/* Password Input Icon */
.dark .account-modal-input-icon {
  color: #6b7280 !important;
}

.dark .account-modal-input-icon:hover {
  color: #a78bfa !important;
  background: rgba(139, 92, 246, 0.1) !important;
}

/* Helper Text */
.dark .account-modal-helper,
.dark .account-modal-char-count {
  color: #6b7280 !important;
}

/* Avatar Grid */
.dark .account-modal-avatar-button {
  background: #1a1625 !important;
}

.dark .account-modal-avatar-button:hover {
  background: #3a3445 !important;
}

.dark .account-modal-avatar-button-selected {
  background: rgba(139, 92, 246, 0.2) !important;
  border-color: #8b5cf6 !important;
}

/* Preview Box */
.dark .account-modal-preview {
  background: #1a1625 !important;
  border-color: #3a3445 !important;
}

.dark .account-modal-preview-title {
  color: #a0a0b0 !important;
}

.dark .account-modal-preview-avatar {
  background: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .account-modal-preview-name {
  color: #ffffff !important;
}

.dark .account-modal-preview-subtitle {
  color: #a0a0b0 !important;
}

/* Info Box */
.dark .account-modal-info {
  background: rgba(59, 130, 246, 0.1) !important;
  border-color: rgba(59, 130, 246, 0.2) !important;
}

.dark .account-modal-info-text {
  color: #93c5fd !important;
}

/* Error Box */
.dark .account-modal-error {
  background: rgba(220, 38, 38, 0.1) !important;
  border-color: rgba(220, 38, 38, 0.3) !important;
}

.dark .account-modal-error-text {
  color: #f87171 !important;
}

/* Password Requirements */
.dark .account-modal-requirements {
  background: #1a1625 !important;
  border-color: #3a3445 !important;
}

.dark .account-modal-requirements-title {
  color: #e0e0e8 !important;
}

.dark .account-modal-requirement {
  color: #a0a0b0 !important;
}

.dark .account-modal-requirement-met {
  color: #10b981 !important;
}

.dark .account-modal-requirement-unmet {
  color: #6b7280 !important;
}

/* Password Strength Indicator */
.dark .account-modal-strength-label {
  color: #a0a0b0 !important;
}

.dark .account-modal-strength-bar {
  background: #3a3445 !important;
}

/* Modal Footer */
.dark .account-modal-footer {
  border-top-color: #3a3445 !important;
}

.dark .account-modal-button-cancel {
  background: #1a1625 !important;
  color: #e0e0e8 !important;
  border-color: #3a3445 !important;
}

.dark .account-modal-button-cancel:hover {
  background: #232030 !important;
}

/* ============================================
   PROFILE PAGE DARK MODE
   ============================================ */

.dark .profile-page,
.dark .profile-page-container {
  background-color: #1a1625 !important;
}

/* Page header */
.dark .profile-page-header {
  color: #ffffff !important;
}

/* User profile card */
.dark .profile-user-card {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .profile-user-title {
  color: #ffffff !important;
}

.dark .profile-level-info,
.dark .profile-progress-text {
  color: #a0a0b0 !important;
}

/* Avatar */
.dark .profile-avatar-container {
  background-color: #3a3445 !important;
}

/* Progress bar */
.dark .profile-progress-container {
  background-color: #3a3445 !important;
}

.dark .profile-progress-fill {
  background-color: #22c55e !important;
}

/* Stats cards */
.dark .profile-stat-card {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .profile-stat-value {
  color: #ffffff !important;
}

.dark .profile-stat-label {
  color: #a0a0b0 !important;
}

.dark .profile-stat-icon {
  color: #a78bfa !important;
}

/* Achievements section */
.dark .profile-achievements-header {
  background-color: transparent !important;
}

.dark .profile-achievements-title {
  color: #ffffff !important;
}

/* Achievement cards - completed */
.dark .profile-achievement-completed {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .profile-achievement-icon-completed {
  background-color: #22c55e !important;
}

.dark .profile-achievement-content-title {
  color: #ffffff !important;
}

.dark .profile-achievement-content-description {
  color: #a0a0b0 !important;
}

/* Achievement cards - in progress */
.dark .profile-achievement-progress {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .profile-achievement-icon-progress {
  background-color: #3a3445 !important;
}

.dark .profile-achievement-progress-container {
  background-color: transparent !important;
}

.dark .profile-achievement-progress-bar {
  background-color: #3a3445 !important;
}

.dark .profile-achievement-progress-fill {
  background-color: #8b5cf6 !important;
}

.dark .profile-achievement-progress-text {
  color: #a0a0b0 !important;
  background-color: transparent !important;
}

/* Trophy shelf - Dark Mode */
.dark .profile-trophy-shelf-title {
  color: #ffffff !important;
}

.dark .profile-trophy-shelf-container {
  background: linear-gradient(135deg, #2a2435 0%, #1a1625 100%) !important;
  border: 2px solid #3a3445 !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2) !important;
}

.dark .profile-trophy-shelf-container::before {
  background: linear-gradient(90deg, #f59e0b, #eab308, #f59e0b) !important;
}

.dark .profile-trophy-grid {
  background: rgba(58, 52, 69, 0.5) !important;
}

.dark .profile-trophy-emoji {
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3)) !important;
}

.dark .profile-trophy-description {
  color: #9ca3af !important;
}

.dark .profile-trophy-description {
  color: #a0a0b0 !important;
}

/* Generic overrides for any remaining white backgrounds */
.dark .profile-page-container .bg-white,
.dark .profile-page-container .rounded-lg,
.dark .profile-page-container .rounded-xl,
.dark .profile-page-container .rounded-2xl,
.dark .profile-page-container .rounded-3xl {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

/* All icons in profile page */
.dark .profile-page-container svg {
  color: #a78bfa !important;
}

/* Override for completed achievement icons (should be white on green) */
.dark .profile-achievement-icon-completed svg {
  color: #ffffff !important;
}

/* ============================================
   SOCIAL PAGE DARK MODE
   ============================================ */

.dark .social-page,
.dark .social-page-container {
  background-color: #1a1625 !important;
}

/* Social list items - Friend cards and request cards */
.dark .social-list-item {
  background-color: #232030 !important;
  border-color: #3a3445 !important;
}

.dark .social-list-container {
  background-color: transparent !important;
}

/* User info text */
.dark .user-info-name {
  color: #ffffff !important;
}

.dark .user-info-activity,
.dark .user-info-stats {
  color: #a0a0b0 !important;
}

/* Section headers */
.dark .social-section-header {
  background-color: transparent !important;
}

.dark .social-section-title {
  color: #ffffff !important;
}

.dark .social-section-subtitle {
  color: #a0a0b0 !important;
}

/* Friend items and cards */
.dark [class*="friend"],
.dark [class*="user-item"],
.dark .friend-card,
.dark .friend-item,
.dark .user-card {
  background-color: #232030 !important;
  border-color: #3a3445 !important;
}

/* Social page specific elements */
.dark .social-page .bg-white,
.dark .social-page .rounded-lg,
.dark .social-page .rounded-xl,
.dark .social-page .rounded-2xl,
.dark .social-page-container .bg-white,
.dark .social-page-container .rounded-lg,
.dark .social-page-container .rounded-xl,
.dark .social-page-container .rounded-2xl {
  background-color: #232030 !important;
  border-color: #3a3445 !important;
}

.dark .social-page h1,
.dark .social-page h2,
.dark .social-page h3,
.dark .social-page-container h1,
.dark .social-page-container h2,
.dark .social-page-container h3 {
  color: #ffffff !important;
}

.dark .social-page p,
.dark .social-page-container p {
  color: #a0a0b0 !important;
}

/* Buttons in social page */
.dark .add-friends-button {
  background-color: #8b5cf6 !important;
  color: #ffffff !important;
  border-color: #8b5cf6 !important;
}

.dark .message-button {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
  color: #a78bfa !important;
}

.dark .message-button svg {
  color: #a78bfa !important;
}

.dark .message-button:hover {
  background-color: rgba(139, 92, 246, 0.2) !important;
  border-color: #8b5cf6 !important;
}

.dark .accept-button {
  background-color: #22c55e !important;
  border-color: #22c55e !important;
  color: #ffffff !important;
}

.dark .decline-button {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
  color: #ef4444 !important;
}

.dark .decline-button svg {
  color: #ef4444 !important;
}

.dark .decline-button:hover {
  background-color: rgba(239, 68, 68, 0.2) !important;
  border-color: #ef4444 !important;
}

/* Rank badges */
.dark .rank-badge {
  background-color: #2a2435 !important;
  color: #ffffff !important;
}

.dark .rank-badge-first {
  background-color: #fbbf24 !important;
  color: #1a1625 !important;
}

.dark .rank-badge-second {
  background-color: #94a3b8 !important;
  color: #1a1625 !important;
}

.dark .rank-badge-third {
  background-color: #fb923c !important;
  color: #1a1625 !important;
}

/* Modal */
.dark .modal-overlay {
  background-color: rgba(0, 0, 0, 0.85) !important;
}

.dark .glassmorphism-modal {
  background-color: #232030 !important;
  border-color: #3a3445 !important;
}

.dark .modal-title {
  color: #ffffff !important;
}

.dark .modal-search-input {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
  color: #ffffff !important;
}

.dark .modal-search-input::placeholder {
  color: #808090 !important;
}

.dark .modal-user-item {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .modal-user-name {
  color: #ffffff !important;
}

.dark .modal-user-bio,
.dark .modal-mutual-friends {
  color: #a0a0b0 !important;
}

.dark .modal-add-friend-button {
  background-color: #8b5cf6 !important;
  border-color: #8b5cf6 !important;
  color: #ffffff !important;
}

.dark .modal-no-results-text {
  color: #a0a0b0 !important;
}

/* ============================================
   YOUR WORKS PAGE DARK MODE
   ============================================ */

.dark .your-works-page {
  background-color: #1a1625 !important;
}

/* Page header */
.dark .your-works-header {
  background-color: transparent !important;
}

.dark .your-works-title {
  color: #ffffff !important;
}

.dark .your-works-subtitle {
  color: #a0a0b0 !important;
}

/* New Story button */
.dark .your-works-page button[class*="new"],
.dark .your-works-page button[class*="New"] {
  background-color: #8b5cf6 !important;
  border-color: #8b5cf6 !important;
  color: #ffffff !important;
}

/* Search bar */
.dark .your-works-page input[type="search"],
.dark .your-works-page input[type="text"] {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
  color: #ffffff !important;
}

.dark .your-works-page input::placeholder {
  color: #808090 !important;
}

/* Dropdowns/Filters */
.dark .your-works-page select {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
  color: #ffffff !important;
}

/* Dropdown buttons */
.dark .your-works-dropdown-container {
  background-color: transparent !important;
}

.dark .your-works-dropdown-button {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
  color: #ffffff !important;
}

.dark .your-works-dropdown-button:hover {
  background-color: #3a3445 !important;
}

.dark .your-works-dropdown-icon {
  color: #a0a0b0 !important;
}

/* Dropdown menu */
.dark .your-works-dropdown-menu {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .your-works-dropdown-item {
  color: #ffffff !important;
  background-color: transparent !important;
}

.dark .your-works-dropdown-item:hover {
  background-color: #3a3445 !important;
}

/* Selected genre (pink highlight) */
.dark .your-works-dropdown-item-selected {
  background-color: #ec4899 !important;
  color: #ffffff !important;
}

.dark .your-works-dropdown-checkmark {
  color: #ffffff !important;
}

/* Stories count */
.dark .your-works-page h2 {
  color: #ffffff !important;
}

/* Story cards */
.dark .your-works-story-card {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .your-works-card-header {
  background-color: transparent !important;
}

/* Story icon container */
.dark .your-works-story-icon {
  background-color: #3a3445 !important;
  border-color: #4a4555 !important;
}

/* Story info container */
.dark .your-works-story-info {
  background-color: transparent !important;
}

.dark .your-works-card-left-content {
  background-color: transparent !important;
}

.dark .your-works-story-title-row {
  background-color: transparent !important;
}

.dark .your-works-story-title {
  color: #ffffff !important;
}

.dark .your-works-story-meta,
.dark .your-works-story-date,
.dark .your-works-story-pages,
.dark .your-works-story-genre,
.dark .your-works-story-separator {
  color: #a0a0b0 !important;
}

/* Status badges */
.dark .your-works-badge-published {
  background-color: #22c55e !important;
  color: #ffffff !important;
}

.dark .your-works-badge-draft {
  background-color: #fbbf24 !important;
  color: #1a1625 !important;
}

.dark .your-works-badge-review {
  background-color: #3b82f6 !important;
  color: #ffffff !important;
}

/* Likes */
.dark .your-works-stat-text {
  color: #ec4899 !important;
}

.dark .your-works-likes-icon {
  color: #ec4899 !important;
}

/* Action icon buttons */
.dark .your-works-action-button {
  background-color: #3a3445 !important;
  border-color: #3a3445 !important;
}

.dark .your-works-action-button:hover {
  background-color: #4a4555 !important;
}

.dark .your-works-action-icon {
  color: #a0a0b0 !important;
}

.dark .your-works-action-button:hover .your-works-action-icon {
  color: #ffffff !important;
}

/* Delete button - red icon */
.dark .your-works-delete-button .your-works-action-icon {
  color: #ef4444 !important;
}

.dark .your-works-delete-button:hover .your-works-action-icon {
  color: #ff5555 !important;
}

/* Generic overrides */
.dark .your-works-page .bg-white,
.dark .your-works-page .rounded-lg,
.dark .your-works-page .rounded-xl,
.dark .your-works-page .rounded-2xl {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .your-works-page svg {
  color: #a0a0b0 !important;
}

/* ============================================
   INPUTS AND FORMS
   ============================================ */

.dark input,
.dark textarea,
.dark select {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
  color: #ffffff !important;
}

.dark input::placeholder,
.dark textarea::placeholder {
  color: #808090 !important;
}

.dark input:focus,
.dark textarea:focus,
.dark select:focus {
  border-color: #8b5cf6 !important;
  background-color: #2a2435 !important;
  outline: none !important;
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1) !important;
}

/* Search inputs */
.dark input[type="search"] {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
  color: #ffffff !important;
}

/* ============================================
   BUTTONS
   ============================================ */

.dark button {
  color: #ffffff !important;
}

.dark .bg-purple-500,
.dark .bg-purple-600 {
  background-color: #8b5cf6 !important;
  color: #ffffff !important;
}

.dark .bg-purple-500:hover,
.dark .bg-purple-600:hover {
  background-color: #7c3aed !important;
}

.dark .text-purple-500,
.dark .text-purple-600 {
  color: #a78bfa !important;
}

.dark .border-purple-500 {
  border-color: #8b5cf6 !important;
}

/* ============================================
   MODALS
   ============================================ */

.dark .modal-backdrop,
.dark .profile-edit-modal-backdrop,
.dark .email-change-modal-backdrop,
.dark .password-update-modal-backdrop,
.dark .delete-modal-backdrop {
  background-color: rgba(0, 0, 0, 0.85) !important;
}

.dark .modal-container,
.dark .profile-edit-modal-container,
.dark .email-change-modal-container,
.dark .password-update-modal-container,
.dark .delete-modal-container {
  background-color: #232030 !important;
  border-color: #3a3445 !important;
}

.dark .modal-header,
.dark .modal-title {
  color: #ffffff !important;
}

.dark .modal-content,
.dark .modal-text {
  color: #a0a0b0 !important;
}

/* ============================================
   BOTTOM NAVIGATION
   ============================================ */

.dark nav {
  background-color: #232030 !important;
  border-top-color: #3a3445 !important;
}

.dark nav button {
  color: #a0a0b0 !important;
}

.dark nav button.active,
.dark nav button:hover {
  color: #a78bfa !important;
}

/* Enhanced dark mode navigation styles */
.dark .nav-glass {
  background: rgba(26, 22, 37, 0.95) !important;
  backdrop-filter: blur(20px) !important;
  border-top: 1px solid rgba(58, 52, 69, 0.8) !important;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.4) !important;
}

.dark .nav-item {
  color: #a0a0b0 !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.dark .nav-item.active {
  background: rgba(139, 92, 246, 0.3) !important;
  color: #ffffff !important;
  transform: scale(1.05) !important;
  border-radius: 12px !important;
}

.dark .nav-item.active svg {
  color: #ffffff !important;
  filter: drop-shadow(0 2px 4px rgba(139, 92, 246, 0.5)) !important;
}

.dark .nav-item.active span {
  color: #ffffff !important;
  font-weight: 600 !important;
}

.dark .nav-item:not(.active):hover {
  background: rgba(58, 52, 69, 0.5) !important;
  color: #c4b5fd !important;
  transform: translateY(-2px) scale(1.02) !important;
  border-radius: 12px !important;
}

.dark .nav-item:not(.active):hover svg {
  color: #c4b5fd !important;
}

.dark .nav-item:not(.active):hover span {
  color: #c4b5fd !important;
}

.dark .nav-item svg {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.dark .nav-item span {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* Light mode navigation styles (default) */
.nav-glass {
  background: rgba(255, 255, 255, 0.95) !important;
  backdrop-filter: blur(20px) !important;
  border-top: 1px solid rgba(0, 0, 0, 0.1) !important;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1) !important;
}

.nav-item {
  color: #6b7280 !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.nav-item.active {
  background: linear-gradient(135deg, #8B5CF6 0%, #A855F7 100%) !important;
  color: #ffffff !important;
  transform: scale(1.05) !important;
  border-radius: 12px !important;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3) !important;
}

.nav-item.active svg {
  color: #ffffff !important;
  filter: drop-shadow(0 2px 4px rgba(139, 92, 246, 0.5)) !important;
}

.nav-item.active span {
  color: #ffffff !important;
  font-weight: 600 !important;
}

.nav-item:not(.active):hover {
  background: rgba(139, 92, 246, 0.1) !important;
  color: #8B5CF6 !important;
  transform: translateY(-1px) scale(1.02) !important;
  border-radius: 12px !important;
}

.nav-item:not(.active):hover svg {
  color: #8B5CF6 !important;
}

.nav-item:not(.active):hover span {
  color: #8B5CF6 !important;
}

.nav-item svg {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.nav-item span {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* ============================================
   BADGES AND LABELS
   ============================================ */

.dark .badge,
.dark .label,
.dark .tag {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
  color: #a0a0b0 !important;
}

.dark .badge-success {
  background-color: rgba(34, 197, 94, 0.2) !important;
  color: #4ade80 !important;
}

.dark .badge-warning {
  background-color: rgba(251, 146, 60, 0.2) !important;
  color: #fb923c !important;
}

/* ============================================
   SCROLLBARS (Webkit browsers)
   ============================================ */

.dark ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.dark ::-webkit-scrollbar-track {
  background: #1a1625;
}

.dark ::-webkit-scrollbar-thumb {
  background: #3a3445;
  border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: #4a4555;
}

/* ============================================
   OFFLINE STORIES PAGE
   ============================================ */

.dark .offline-stories-page {
  background-color: #1a1625 !important;
}

.dark .offline-stories-header {
  background-color: transparent !important;
}

.dark .offline-stories-title {
  color: #ffffff !important;
}

.dark .offline-stories-subtitle {
  color: #a0a0b0 !important;
}

.dark .offline-stories-search-container {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .offline-stories-back-icon {
  color: #a0a0b0 !important;
}

/* Offline story cards */
.dark .offline-stories-page .bg-white,
.dark .offline-stories-page .rounded-lg,
.dark .offline-stories-page .rounded-xl,
.dark .offline-stories-page .rounded-2xl,
.dark .offline-stories-page .rounded-3xl {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .offline-stories-page h1,
.dark .offline-stories-page h2,
.dark .offline-stories-page h3 {
  color: #ffffff !important;
}

.dark .offline-stories-page p,
.dark .offline-stories-page span {
  color: #a0a0b0 !important;
}

/* Browse button */
.dark .offline-stories-page button {
  background-color: transparent !important;
  border-color: #8b5cf6 !important;
  color: #a78bfa !important;
}

.dark .offline-stories-page button:hover {
  background-color: rgba(139, 92, 246, 0.1) !important;
}

/* View buttons (purple filled) */
.dark .offline-stories-page button[class*="view"],
.dark .offline-stories-page button[class*="View"] {
  background-color: #8b5cf6 !important;
  border-color: #8b5cf6 !important;
  color: #ffffff !important;
}

/* ============================================
   MANUAL STORY CREATION PAGE
   ============================================ */

.dark .manual-story-page {
  background-color: #1a1625 !important;
}

.dark .manual-story-header {
  background-color: #232030 !important;
  border-color: #3a3445 !important;
}

.dark .manual-story-section {
  background-color: #232030 !important;
  border-color: #3a3445 !important;
}

.dark .manual-story-title {
  color: #ffffff !important;
}

/* ============================================
   MISCELLANEOUS
   ============================================ */

.dark hr {
  border-color: #3a3445 !important;
}

.dark .shadow,
.dark .shadow-sm,
.dark .shadow-md,
.dark .shadow-lg,
.dark .shadow-xl {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2) !important;
}

/* Icons */
.dark svg {
  color: inherit !important;
}

/* Links */
.dark a {
  color: #a78bfa !important;
}

.dark a:hover {
  color: #c4b5fd !important;
}

/* Exclude Home Page from Dark Mode */
.home-page-wrapper {
  /* Home page keeps its original styling */
  background: inherit !important;
}

.home-page-wrapper * {
  /* Prevent dark mode from affecting home page children */
  color: inherit !important;
}

/* Offline Stories Page Styles - Strictly following design profile */

/* Page Container */
.offline-stories-page {
  min-height: 100vh !important;
  background-color: #F9FAFB !important;
  padding: 1.5rem !important;
  padding-bottom: 6rem !important;
}

/* Page Header */
.offline-stories-header {
  margin-bottom: 1.5rem !important;
}

.offline-stories-back-button {
  margin-bottom: 1rem !important;
  background: none !important;
  border: none !important;
  cursor: pointer !important;
}

.offline-stories-back-icon {
  height: 1.5rem !important;
  width: 1.5rem !important;
  color: #374151 !important;
}

.offline-stories-back-icon:hover {
  color: #111827 !important;
}

.offline-stories-title {
  color: #111827 !important;
  font-size: 1.5rem !important;
  font-weight: 700 !important;
  margin-bottom: 0.25rem !important;
}

.offline-stories-subtitle {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
  margin-bottom: 1rem !important;
}

/* Search Bar */
.offline-stories-search-container {
  background-color: #FFFFFF !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 0.5rem !important;
  padding: 0.75rem 1rem !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  margin-bottom: 1rem !important;
}

.offline-stories-search-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
  color: #9CA3AF !important;
}

.offline-stories-search-input {
  background: transparent !important;
  border: none !important;
  color: #111827 !important;
  font-size: 0.875rem !important;
  width: 100% !important;
  outline: none !important;
}

.offline-stories-search-input::placeholder {
  color: #9CA3AF !important;
}

/* Filter Bar */
.offline-stories-filter-bar {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
  margin-bottom: 1rem !important;
}

.offline-stories-filter-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
  color: #374151 !important;
}

/* Filter Dropdowns */
.offline-stories-dropdown-container {
  position: relative !important;
}

.offline-stories-dropdown-button {
  background-color: #FFFFFF !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  color: #374151 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 0.5rem !important;
  min-width: 6rem !important;
  cursor: pointer !important;
}

.offline-stories-dropdown-button:hover {
  background-color: #F9FAFB !important;
}

.offline-stories-dropdown-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #6B7280 !important;
}

.offline-stories-dropdown-menu {
  position: absolute !important;
  z-index: 10 !important;
  background-color: #FFFFFF !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 0.5rem !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  padding: 0.5rem 0 !important;
  margin-top: 0.5rem !important;
  min-width: 100% !important;
}

.offline-stories-dropdown-item {
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  color: #374151 !important;
  cursor: pointer !important;
}

.offline-stories-dropdown-item:hover {
  background-color: #F9FAFB !important;
}

.offline-stories-dropdown-item-selected {
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  color: #111827 !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  cursor: pointer !important;
  background-color: #FDF2F8 !important;
}

.offline-stories-dropdown-checkmark {
  height: 1rem !important;
  width: 1rem !important;
  color: #EC4899 !important;
}

/* Dark mode styles for offline stories dropdown */
.dark .offline-stories-dropdown-menu {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
  box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.3) !important;
}

.dark .offline-stories-dropdown-item {
  color: #ffffff !important;
}

.dark .offline-stories-dropdown-item:hover {
  background-color: #3a3445 !important;
  color: #ffffff !important;
}

.dark .offline-stories-dropdown-item-selected {
  background-color: #ec4899 !important;
  color: #ffffff !important;
  font-weight: 600 !important;
}

.dark .offline-stories-dropdown-item-selected:hover {
  background-color: #db2777 !important;
  color: #ffffff !important;
}

.dark .offline-stories-dropdown-checkmark {
  color: #ffffff !important;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3)) !important;
}

/* Dark mode badge styles */
.dark .offline-stories-badge-fantasy {
  background-color: #ea580c !important;
  color: #ffffff !important;
  border: 1px solid #f97316 !important;
}

.dark .offline-stories-badge-adventure {
  background-color: #dc2626 !important;
  color: #ffffff !important;
  border: 1px solid #ea580c !important;
  font-weight: 600 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) !important;
}

.dark .offline-stories-badge-scifi {
  background-color: #0891b2 !important;
  color: #ffffff !important;
  border: 1px solid #06b6d4 !important;
}

.dark .offline-stories-badge-comedy {
  background-color: #f59e0b !important;
  color: #111827 !important;
  border: 1px solid #fbbf24 !important;
}

.dark .offline-stories-badge-mystery {
  background-color: #7c3aed !important;
  color: #ffffff !important;
  border: 1px solid #8b5cf6 !important;
}

.dark .offline-stories-badge-calm {
  background-color: #059669 !important;
  color: #ffffff !important;
  border: 1px solid #10b981 !important;
}

.dark .offline-stories-age-badge,
.dark .offline-stories-difficulty-badge {
  background-color: #2a2435 !important;
  color: #ffffff !important;
  border: 1px solid #3a3445 !important;
}

.dark .offline-stories-results-count {
  color: #a0a0b0 !important;
}

/* Match Your Works dropdown styling exactly */
.dark .offline-stories-dropdown-container {
  background-color: transparent !important;
}

.dark .offline-stories-dropdown-button {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
  color: #ffffff !important;
}

.dark .offline-stories-dropdown-button:hover {
  background-color: #3a3445 !important;
}

.dark .offline-stories-dropdown-icon {
  color: #a0a0b0 !important;
}

/* ============================================
   ONLINE STORIES PAGE DARK MODE
   Matching the consistent dark theme
   ============================================ */

/* Page Container */
.dark .online-stories-page {
  background-color: #1a1625 !important;
  color: #ffffff !important;
}

/* Header Elements */
.dark .online-stories-back-icon {
  color: #a0a0b0 !important;
}

.dark .online-stories-back-icon:hover {
  color: #ffffff !important;
}

.dark .online-stories-title {
  color: #ffffff !important;
}

.dark .online-stories-subtitle {
  color: #a0a0b0 !important;
}

/* Search Bar */
.dark .online-stories-search-container {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
}

.dark .online-stories-search-icon {
  color: #a0a0b0 !important;
}

.dark .online-stories-search-input {
  color: #ffffff !important;
}

.dark .online-stories-search-input::placeholder {
  color: #6b7280 !important;
}

/* Filter Elements */
.dark .online-stories-filter-icon {
  color: #a0a0b0 !important;
}

.dark .online-stories-dropdown-container {
  background-color: transparent !important;
}

.dark .online-stories-dropdown-button {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
  color: #ffffff !important;
}

.dark .online-stories-dropdown-button:hover {
  background-color: #3a3445 !important;
}

.dark .online-stories-dropdown-icon {
  color: #a0a0b0 !important;
}

.dark .online-stories-dropdown-menu {
  background-color: #2a2435 !important;
  border-color: #3a3445 !important;
  box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.3) !important;
}

.dark .online-stories-dropdown-item {
  color: #ffffff !important;
}

.dark .online-stories-dropdown-item:hover {
  background-color: #3a3445 !important;
  color: #ffffff !important;
}

.dark .online-stories-dropdown-item-selected {
  background-color: #ec4899 !important;
  color: #ffffff !important;
  font-weight: 600 !important;
}

.dark .online-stories-dropdown-item-selected:hover {
  background-color: #db2777 !important;
  color: #ffffff !important;
}

.dark .online-stories-dropdown-checkmark {
  color: #ffffff !important;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3)) !important;
}

/* Results Count */
.dark .online-stories-results-count {
  color: #a0a0b0 !important;
}

/* Story List */
.dark .online-stories-story-list {
  background-color: #1a1625 !important;
  padding: 1rem !important;
  border-radius: 0.75rem !important;
}

/* Story Cards */
.dark .online-stories-story-card {
  background-color: #1a1625 !important;
  border-color: #3a3445 !important;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.3), 0 1px 3px 0 rgba(0, 0, 0, 0.2) !important;
}

.dark .online-stories-story-card {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.dark .online-stories-story-card:hover {
  background-color: #2a2435 !important;
  border-color: #8b5cf6 !important;
  transform: translateY(-4px) scale(1.02) !important;
  box-shadow: 0 12px 30px 0 rgba(139, 92, 246, 0.4), 0 8px 16px 0 rgba(0, 0, 0, 0.5) !important;
  cursor: pointer !important;
}

.dark .online-stories-story-card:hover .online-stories-card-header {
  background-color: #2a2435 !important;
}

.dark .online-stories-story-card:hover .online-stories-card-title {
  background-color: #2a2435 !important;
  color: #ffffff !important;
}

.dark .online-stories-story-card:hover .online-stories-card-author {
  background-color: #2a2435 !important;
  color: #c4b5fd !important;
}

.dark .online-stories-story-card:hover .online-stories-card-description {
  background-color: #2a2435 !important;
  color: #c4b5fd !important;
}

.dark .online-stories-story-card:hover .online-stories-read-button {
  background-color: #a855f7 !important;
  border-color: #a855f7 !important;
  transform: translateY(-1px) scale(1.05) !important;
  box-shadow: 0 6px 16px rgba(168, 85, 247, 0.5) !important;
}

.dark .online-stories-story-card:hover .online-stories-metadata-item {
  background-color: #2a2435 !important;
  color: #c4b5fd !important;
}

.dark .online-stories-card-header {
  background-color: #1a1625 !important;
}

.dark .online-stories-card-title {
  color: #ffffff !important;
  background-color: #1a1625 !important;
}

.dark .online-stories-card-author {
  color: #a0a0b0 !important;
  background-color: #1a1625 !important;
}

.dark .online-stories-card-description {
  color: #a0a0b0 !important;
  background-color: #1a1625 !important;
}

/* Read Button */
.dark .online-stories-read-button {
  background-color: #8b5cf6 !important;
  border-color: #8b5cf6 !important;
  color: #ffffff !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.dark .online-stories-read-button:hover {
  background-color: #7c3aed !important;
  border-color: #7c3aed !important;
  color: #ffffff !important;
  transform: translateY(-1px) scale(1.05) !important;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4) !important;
}

/* Genre Badges - Dark Mode */
.dark .online-stories-badge-fantasy {
  background-color: #ea580c !important;
  color: #ffffff !important;
  border: 1px solid #f97316 !important;
}

.dark .online-stories-badge-adventure {
  background-color: #dc2626 !important;
  color: #ffffff !important;
  border: 1px solid #ea580c !important;
  font-weight: 600 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) !important;
}

.dark .online-stories-badge-scifi {
  background-color: #0891b2 !important;
  color: #ffffff !important;
  border: 1px solid #06b6d4 !important;
}

.dark .online-stories-badge-comedy {
  background-color: #f59e0b !important;
  color: #111827 !important;
  border: 1px solid #fbbf24 !important;
}

.dark .online-stories-badge-mystery {
  background-color: #7c3aed !important;
  color: #ffffff !important;
  border: 1px solid #8b5cf6 !important;
}

.dark .online-stories-badge-calm {
  background-color: #059669 !important;
  color: #ffffff !important;
  border: 1px solid #10b981 !important;
}

.dark .online-stories-badge-action {
  background-color: #dc2626 !important;
  color: #ffffff !important;
  border: 1px solid #ef4444 !important;
}

.dark .online-stories-badge-friendship {
  background-color: #db2777 !important;
  color: #ffffff !important;
  border: 1px solid #ec4899 !important;
}

.dark .online-stories-badge-educational {
  background-color: #059669 !important;
  color: #ffffff !important;
  border: 1px solid #10b981 !important;
}

/* Age Badge */
.dark .online-stories-age-badge {
  background-color: #2a2435 !important;
  color: #ffffff !important;
  border: 1px solid #3a3445 !important;
}

/* Metadata Items */
.dark .online-stories-metadata-item {
  color: #a0a0b0 !important;
  background-color: #1a1625 !important;
  border-radius: 0.375rem !important;
  padding: 0.25rem 0.5rem !important;
}

.dark .online-stories-rating-text {
  color: #a0a0b0 !important;
}

.dark .online-stories-downloads-icon {
  color: #a0a0b0 !important;
}

.dark .online-stories-downloads-text {
  color: #a0a0b0 !important;
}

.dark .online-stories-likes-text {
  color: #a0a0b0 !important;
}

.dark .online-stories-time-text {
  color: #a0a0b0 !important;
}

/* Rating Stars */
.dark .online-stories-rating-icon {
  color: #fbbf24 !important;
}

/* Likes Icon */
.dark .online-stories-likes-icon {
  color: #ec4899 !important;
}

/* Results Count */
.offline-stories-results-count {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
  margin-bottom: 1rem !important;
}

/* Collection List */
.offline-stories-collection-list {
  display: flex !important;
  flex-direction: column !important;
  gap: 1rem !important;
}

/* Collection Cards */
.offline-stories-collection-card {
  background-color: #FFFFFF !important;
  border-radius: 0.75rem !important;
  padding: 1rem !important;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
  border: 1px solid #F3F4F6 !important;
}

.offline-stories-card-header {
  display: flex !important;
  align-items: flex-start !important;
  justify-content: space-between !important;
  margin-bottom: 0.75rem !important;
}

.offline-stories-card-title {
  color: #111827 !important;
  font-size: 1.125rem !important;
  font-weight: 700 !important;
  margin-bottom: 0.5rem !important;
}

.offline-stories-card-description {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
  line-height: 1.625 !important;
  margin-bottom: 0.75rem !important;
}

.offline-stories-download-button {
  background-color: #EC4899 !important;
  color: #FFFFFF !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1.5rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  border: none !important;
  cursor: pointer !important;
  margin-top: 0.5rem !important;
  flex-shrink: 0 !important;
}

.offline-stories-download-button:hover {
  background-color: #DB2777 !important;
}

/* Badges Row */
.offline-stories-badges-row {
  display: flex !important;
  align-items: center !important;
  flex-wrap: wrap !important;
  gap: 0.5rem !important;
  margin-bottom: 0.75rem !important;
}

/* Genre Badges */
.offline-stories-badge-fantasy {
  background-color: #F97316 !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.offline-stories-badge-adventure {
  background-color: #EA580C !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.offline-stories-badge-scifi {
  background-color: #06B6D4 !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.offline-stories-badge-comedy {
  background-color: #FBBF24 !important;
  color: #111827 !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.offline-stories-badge-mystery {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.offline-stories-badge-calm {
  background-color: #10B981 !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

/* Age and Difficulty Badges */
.offline-stories-age-badge,
.offline-stories-difficulty-badge {
  background-color: #F3F4F6 !important;
  color: #374151 !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

/* Metadata Row */
.offline-stories-metadata-row {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
}

.offline-stories-metadata-item {
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
}

.offline-stories-metadata-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #8B5CF6 !important;
}

.offline-stories-metadata-text {
  color: #374151 !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
}

/* Online Stories Page Styles - Strictly following design profile */

/* Page Container */
.online-stories-page {
  min-height: 100vh !important;
  background-color: #F9FAFB !important;
  padding: 1.5rem !important;
  padding-bottom: 6rem !important;
}

/* Page Header */
.online-stories-header {
  margin-bottom: 1.5rem !important;
}

.online-stories-back-button {
  margin-bottom: 1rem !important;
  background: none !important;
  border: none !important;
  cursor: pointer !important;
}

.online-stories-back-icon {
  height: 1.5rem !important;
  width: 1.5rem !important;
  color: #374151 !important;
}

.online-stories-back-icon:hover {
  color: #111827 !important;
}

.online-stories-title {
  color: #111827 !important;
  font-size: 1.5rem !important;
  font-weight: 700 !important;
  margin-bottom: 0.25rem !important;
}

.online-stories-subtitle {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
  margin-bottom: 1rem !important;
}

/* Search Bar */
.online-stories-search-container {
  background-color: #FFFFFF !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 0.5rem !important;
  padding: 0.75rem 1rem !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  margin-bottom: 1rem !important;
}

.online-stories-search-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
  color: #9CA3AF !important;
}

.online-stories-search-input {
  background: transparent !important;
  border: none !important;
  color: #111827 !important;
  font-size: 0.875rem !important;
  width: 100% !important;
  outline: none !important;
}

.online-stories-search-input::placeholder {
  color: #9CA3AF !important;
}

/* Filter Bar */
.online-stories-filter-bar {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
  margin-bottom: 1rem !important;
  flex-wrap: wrap !important;
}

/* Mobile responsive filter bar */
@media (max-width: 640px) {
  .online-stories-filter-bar {
    gap: 0.5rem !important;
  }
  
  .online-stories-dropdown-button {
    min-width: auto !important;
    flex: 1 !important;
    padding: 0.5rem 0.75rem !important;
    font-size: 0.8rem !important;
  }
  
  .online-stories-filter-icon {
    display: none !important;
  }
}

.online-stories-filter-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
  color: #374151 !important;
}

/* Filter Dropdowns */
.online-stories-dropdown-container {
  position: relative !important;
}

.online-stories-dropdown-button {
  background-color: #FFFFFF !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  color: #374151 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 0.5rem !important;
  min-width: 8rem !important;
  cursor: pointer !important;
  white-space: nowrap !important;
}

.online-stories-dropdown-button:hover {
  background-color: #F9FAFB !important;
}

.online-stories-dropdown-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #6B7280 !important;
}

.online-stories-dropdown-menu {
  position: absolute !important;
  z-index: 10 !important;
  background-color: #FFFFFF !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 0.5rem !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  padding: 0.5rem 0 !important;
  margin-top: 0.5rem !important;
  min-width: 100% !important;
}

.online-stories-dropdown-item {
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  color: #374151 !important;
  cursor: pointer !important;
}

.online-stories-dropdown-item:hover {
  background-color: #F9FAFB !important;
}

.online-stories-dropdown-item-selected {
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  color: #111827 !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  cursor: pointer !important;
  background-color: #FDF2F8 !important;
}

.online-stories-dropdown-checkmark {
  height: 1rem !important;
  width: 1rem !important;
  color: #EC4899 !important;
}

/* Results Count */
.online-stories-results-count {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
  margin-bottom: 1rem !important;
}

/* Story List */
.online-stories-story-list {
  display: flex !important;
  flex-direction: column !important;
  gap: 1rem !important;
}

/* Story Cards */
.online-stories-story-card {
  background-color: #FFFFFF !important;
  border-radius: 0.75rem !important;
  padding: 1rem !important;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
  border: 1px solid #F3F4F6 !important;
}

.online-stories-card-header {
  display: flex !important;
  align-items: flex-start !important;
  justify-content: space-between !important;
  margin-bottom: 0.5rem !important;
}

.online-stories-card-title {
  color: #111827 !important;
  font-size: 1.125rem !important;
  font-weight: 700 !important;
}

.online-stories-card-author {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
  margin-bottom: 0.5rem !important;
}

.online-stories-read-button {
  background-color: #FFFFFF !important;
  color: #8B5CF6 !important;
  border: 1px solid #E9D5FF !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  margin-top: 0.5rem !important;
  flex-shrink: 0 !important;
}

.online-stories-read-button:hover {
  background-color: #FAF5FF !important;
}

/* Badges Row */
.online-stories-badges-row {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  margin-bottom: 0.75rem !important;
}

/* Genre Badges */
.online-stories-badge-fantasy {
  background-color: #F97316 !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.online-stories-badge-adventure {
  background-color: #EA580C !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.online-stories-badge-scifi {
  background-color: #06B6D4 !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.online-stories-badge-comedy {
  background-color: #FBBF24 !important;
  color: #111827 !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.online-stories-badge-mystery {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.online-stories-badge-calm {
  background-color: #10B981 !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.online-stories-badge-action {
  background-color: #EF4444 !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.online-stories-badge-friendship {
  background-color: #EC4899 !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.online-stories-badge-educational {
  background-color: #10B981 !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

/* Age Badge */
.online-stories-age-badge {
  background-color: #F3F4F6 !important;
  color: #374151 !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

/* Card Description */
.online-stories-card-description {
  color: #4B5563 !important;
  font-size: 0.875rem !important;
  line-height: 1.625 !important;
  margin-bottom: 0.75rem !important;
}

/* Metadata Row */
.online-stories-metadata-row {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
}

.online-stories-metadata-left {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
}

.online-stories-metadata-right {
  display: flex !important;
  align-items: center !important;
}

.online-stories-metadata-item {
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
}

/* Rating */
.online-stories-rating-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #F59E0B !important;
}

.online-stories-rating-text {
  color: #374151 !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
}

/* Downloads */
.online-stories-downloads-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #9CA3AF !important;
}

.online-stories-downloads-text {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
}

/* Likes */
.online-stories-likes-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #EC4899 !important;
}

.online-stories-likes-text {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
}

/* Reading Time */
.online-stories-time-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #9CA3AF !important;
}

.online-stories-time-text {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
}

/* Characters Library Page Styles - Strictly following design profile */

/* Page Container */
.characters-library-page {
  min-height: 100vh !important;
  background-color: #F9FAFB !important;
  padding: 1.5rem !important;
  padding-bottom: 6rem !important;
}

/* Page Header */
.characters-header {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  margin-bottom: 1.5rem !important;
}

.characters-header-left {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
}

.characters-back-button {
  background: none !important;
  border: none !important;
  cursor: pointer !important;
}

.characters-back-icon {
  height: 1.5rem !important;
  width: 1.5rem !important;
  color: #374151 !important;
}

.characters-back-icon:hover {
  color: #111827 !important;
}

.characters-title-group {
  display: flex !important;
  flex-direction: column !important;
}

.characters-title {
  color: #111827 !important;
  font-size: 1.5rem !important;
  font-weight: 700 !important;
  margin: 0 !important;
}

.characters-subtitle {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
  margin: 0.25rem 0 0 0 !important;
}

.characters-create-button {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border: none !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  cursor: pointer !important;
}

.characters-create-button:hover {
  background-color: #7C3AED !important;
}

.characters-create-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #FFFFFF !important;
}

/* Search Bar */
.characters-search-container {
  background-color: #FFFFFF !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 0.5rem !important;
  padding: 0.75rem 1rem !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  margin-bottom: 1rem !important;
}

.characters-search-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
  color: #9CA3AF !important;
}

.characters-search-input {
  background: transparent !important;
  border: none !important;
  color: #111827 !important;
  font-size: 0.875rem !important;
  width: 100% !important;
  outline: none !important;
}

.characters-search-input::placeholder {
  color: #9CA3AF !important;
}

/* Filter Bar */
.characters-filter-bar {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
  margin-bottom: 1rem !important;
  flex-wrap: wrap !important;
}

/* Mobile responsive filter bar */
@media (max-width: 640px) {
  .characters-filter-bar {
    gap: 0.5rem !important;
  }
  
  .characters-dropdown-button {
    min-width: auto !important;
    flex: 1 !important;
    padding: 0.5rem 0.75rem !important;
    font-size: 0.8rem !important;
  }
  
  .characters-filter-icon {
    display: none !important;
  }
}

.characters-filter-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
  color: #374151 !important;
}

/* Filter Dropdowns */
.characters-dropdown-container {
  position: relative !important;
}

.characters-dropdown-button {
  background-color: #FFFFFF !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  color: #374151 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 0.5rem !important;
  min-width: 6rem !important;
  cursor: pointer !important;
  white-space: nowrap !important;
}

.characters-dropdown-button:hover {
  background-color: #F9FAFB !important;
}

.characters-dropdown-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #6B7280 !important;
}

.characters-dropdown-menu {
  position: absolute !important;
  z-index: 10 !important;
  background-color: #FFFFFF !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 0.5rem !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  padding: 0.5rem 0 !important;
  margin-top: 0.5rem !important;
  min-width: 100% !important;
}

.characters-dropdown-item {
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  color: #374151 !important;
  cursor: pointer !important;
}

.characters-dropdown-item:hover {
  background-color: #F9FAFB !important;
}

.characters-dropdown-item-selected {
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  color: #111827 !important;
  font-weight: 500 !important;
  background-color: #FDF2F8 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  cursor: pointer !important;
}

.characters-dropdown-checkmark {
  height: 1rem !important;
  width: 1rem !important;
  color: #EC4899 !important;
}

/* Results Count */
.characters-results-count {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
  margin-bottom: 1rem !important;
}

/* Character List */
.characters-character-list {
  display: flex !important;
  flex-direction: column !important;
  gap: 1rem !important;
}

/* Character Cards */
.characters-character-card {
  background-color: #FFFFFF !important;
  border-radius: 0.75rem !important;
  padding: 1rem !important;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
  border: 1px solid #F3F4F6 !important;
}

.characters-card-header {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  margin-bottom: 0.75rem !important;
}

.characters-card-left-content {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
}

.characters-avatar {
  width: 3rem !important;
  height: 3rem !important;
  border-radius: 0.5rem !important;
  font-size: 1.5rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.characters-character-info {
  display: flex !important;
  flex-direction: column !important;
}

.characters-character-name {
  color: #111827 !important;
  font-size: 1rem !important;
  font-weight: 700 !important;
  margin: 0 0 0.25rem 0 !important;
}

.characters-character-type {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
  margin: 0 !important;
}

.characters-edit-button {
  background-color: #F3F4F6 !important;
  color: #4B5563 !important;
  border: none !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem !important;
  cursor: pointer !important;
}

.characters-edit-button:hover {
  background-color: #E5E7EB !important;
}

.characters-edit-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #4B5563 !important;
}

/* Traits Row */
.characters-traits-row {
  display: flex !important;
  align-items: center !important;
  flex-wrap: wrap !important;
  gap: 0.5rem !important;
  margin-bottom: 0.75rem !important;
}

/* Genre Badges */
.characters-badge-fantasy {
  background-color: #F97316 !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.characters-badge-adventure {
  background-color: #EA580C !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.characters-badge-scifi {
  background-color: #06B6D4 !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.characters-badge-comedy {
  background-color: #FBBF24 !important;
  color: #111827 !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.characters-badge-mystery {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.characters-badge-calm {
  background-color: #10B981 !important;
  color: #FFFFFF !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

/* Personality Badges */
.characters-personality-badge {
  background-color: #F3F4F6 !important;
  color: #374151 !important;
  border-radius: 9999px !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

/* Card Description */
.characters-card-description {
  color: #4B5563 !important;
  font-size: 0.875rem !important;
  line-height: 1.625 !important;
  margin-bottom: 0.75rem !important;
}

/* Metadata Row */
.characters-metadata-row {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
}

.characters-metadata-left {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
}

.characters-metadata-item {
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
}

.characters-usage-text {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
}

/* Likes */
.characters-likes-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #EC4899 !important;
}

.characters-likes-text {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
}

/* Use in Story Button */
.characters-use-button {
  background-color: #FFFFFF !important;
  color: #8B5CF6 !important;
  border: 1px solid #E9D5FF !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  cursor: pointer !important;
}

.characters-use-button:hover {
  background-color: #FAF5FF !important;
}

/* Library Page Enhanced Styles */

/* Header Layout */
.library-header-content {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 1rem !important;
  margin-bottom: 1rem !important;
}

.library-settings-button {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  background: white !important;
  color: #8B5CF6 !important;
  border: 1px solid #8B5CF6 !important;
  padding: 0.5rem 1rem !important;
  border-radius: 8px !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
}

.library-settings-button:hover {
  background: #F3F4F6 !important;
  transform: translateY(-1px) !important;
}

/* Stats Overview */
.library-stats {
  display: grid !important;
  grid-template-columns: repeat(4, 1fr) !important;
  gap: 1rem !important;
  margin: 1.5rem 0 !important;
  padding: 1rem !important;
  background: white !important;
  border-radius: 12px !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
}

.library-stat-item {
  text-align: center !important;
}

.library-stat-number {
  display: block !important;
  font-size: 1.5rem !important;
  font-weight: 700 !important;
  color: #8B5CF6 !important;
  line-height: 1.2 !important;
}

.library-stat-label {
  display: block !important;
  font-size: 0.75rem !important;
  color: #6B7280 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
  margin-top: 0.25rem !important;
}

/* Story Date and Tags */
.library-story-date {
  font-size: 0.75rem !important;
  color: #9CA3AF !important;
  margin: 0.25rem 0 !important;
}

.library-story-tags {
  display: flex !important;
  gap: 0.5rem !important;
  margin-top: 0.5rem !important;
}

.library-story-tag {
  background: #F3F4F6 !important;
  color: #374151 !important;
  padding: 0.125rem 0.5rem !important;
  border-radius: 9999px !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

/* Empty State */
.library-empty-state {
  text-align: center !important;
  padding: 3rem 1rem !important;
  background: white !important;
  border-radius: 12px !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
}

.library-empty-icon {
  width: 3rem !important;
  height: 3rem !important;
  color: #D1D5DB !important;
  margin: 0 auto 1rem !important;
}

.library-empty-title {
  font-size: 1.125rem !important;
  font-weight: 600 !important;
  color: #374151 !important;
  margin-bottom: 0.5rem !important;
}

.library-empty-description {
  color: #6B7280 !important;
  margin-bottom: 1.5rem !important;
}

.library-create-button {
  background: #8B5CF6 !important;
  color: white !important;
  padding: 0.75rem 1.5rem !important;
  border-radius: 8px !important;
  font-weight: 600 !important;
  border: none !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
}

.library-create-button:hover {
  background: #7C3AED !important;
  transform: translateY(-1px) !important;
}

.library-create-button-secondary {
  background: white !important;
  color: #8B5CF6 !important;
  border: 2px solid #8B5CF6 !important;
  padding: 0.75rem 1.5rem !important;
  border-radius: 8px !important;
  font-weight: 600 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  margin-top: 1rem !important;
  width: 100% !important;
}

.library-create-button-secondary:hover {
  background: #F3F4F6 !important;
  transform: translateY(-1px) !important;
}

/* Responsive Stats */
@media (max-width: 768px) {
  .library-stats {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 0.75rem !important;
  }
  
  .library-stat-number {
    font-size: 1.25rem !important;
  }
}

/* Export/Import Modal Styles */
.export-import-modal-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  background: rgba(0, 0, 0, 0.5) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  z-index: 1000 !important;
  padding: 1rem !important;
}

.export-import-modal {
  background: white !important;
  border-radius: 16px !important;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1) !important;
  max-width: 500px !important;
  width: 100% !important;
  max-height: 90vh !important;
  overflow-y: auto !important;
}

.export-import-header {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  padding: 1.5rem !important;
  border-bottom: 1px solid #E5E7EB !important;
}

.export-import-title {
  font-size: 1.25rem !important;
  font-weight: 600 !important;
  color: #111827 !important;
  margin: 0 !important;
}

.export-import-close {
  background: none !important;
  border: none !important;
  color: #6B7280 !important;
  cursor: pointer !important;
  padding: 0.5rem !important;
  border-radius: 6px !important;
  transition: all 0.2s ease !important;
}

.export-import-close:hover {
  background: #F3F4F6 !important;
  color: #374151 !important;
}

.export-import-status {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  padding: 1rem 1.5rem !important;
  margin: 0 !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
}

.export-import-status.success {
  background: #ECFDF5 !important;
  color: #065F46 !important;
  border-left: 4px solid #10B981 !important;
}

.export-import-status.error {
  background: #FEF2F2 !important;
  color: #991B1B !important;
  border-left: 4px solid #EF4444 !important;
}

.export-import-section {
  padding: 1.5rem !important;
  border-bottom: 1px solid #F3F4F6 !important;
}

.export-import-section:last-child {
  border-bottom: none !important;
}

.export-import-section-title {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
  color: #374151 !important;
  margin-bottom: 1rem !important;
}

.export-option {
  margin-bottom: 1.5rem !important;
}

.export-option:last-child {
  margin-bottom: 0 !important;
}

.export-label {
  display: block !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  color: #374151 !important;
  margin-bottom: 0.5rem !important;
}

.export-description {
  font-size: 0.75rem !important;
  color: #6B7280 !important;
  margin-bottom: 0.75rem !important;
}

.export-controls {
  display: flex !important;
  gap: 0.75rem !important;
  align-items: center !important;
}

.export-select {
  flex: 1 !important;
  padding: 0.5rem 0.75rem !important;
  border: 1px solid #D1D5DB !important;
  border-radius: 6px !important;
  font-size: 0.875rem !important;
  background: white !important;
  color: #374151 !important;
}

.export-select:focus {
  outline: none !important;
  border-color: #8B5CF6 !important;
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1) !important;
}

.export-button {
  background: white !important;
  color: #8B5CF6 !important;
  border: 1px solid #8B5CF6 !important;
  padding: 0.5rem 1rem !important;
  border-radius: 6px !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  white-space: nowrap !important;
}

.export-button:hover:not(:disabled) {
  background: #F3F4F6 !important;
}

.export-button:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

.export-button-primary {
  background: #8B5CF6 !important;
  color: white !important;
  border: 1px solid #8B5CF6 !important;
  padding: 0.75rem 1rem !important;
  border-radius: 6px !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  width: 100% !important;
  justify-content: center !important;
}

.export-button-primary:hover {
  background: #7C3AED !important;
  border-color: #7C3AED !important;
}

.export-empty {
  text-align: center !important;
  padding: 2rem !important;
  color: #6B7280 !important;
  font-style: italic !important;
}

.import-option {
  margin-bottom: 1rem !important;
}

.import-controls {
  display: flex !important;
  align-items: center !important;
}

.import-file-input {
  display: none !important;
}

.import-button {
  background: white !important;
  color: #8B5CF6 !important;
  border: 2px dashed #8B5CF6 !important;
  padding: 0.75rem 1rem !important;
  border-radius: 6px !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  width: 100% !important;
  justify-content: center !important;
}

.import-button:hover {
  background: #F9FAFB !important;
  border-color: #7C3AED !important;
}

.export-import-stats {
  display: flex !important;
  justify-content: space-between !important;
  padding: 1rem 1.5rem !important;
  background: #F9FAFB !important;
  border-bottom-left-radius: 16px !important;
  border-bottom-right-radius: 16px !important;
}

.export-stat {
  text-align: center !important;
}

.export-stat-label {
  display: block !important;
  font-size: 0.75rem !important;
  color: #6B7280 !important;
  margin-bottom: 0.25rem !important;
}

.export-stat-value {
  display: block !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
  color: #8B5CF6 !important;
}

@media (max-width: 640px) {
  .export-controls {
    flex-direction: column !important;
    align-items: stretch !important;
  }
  
  .export-import-stats {
    flex-direction: column !important;
    gap: 1rem !important;
  }
}

/* Canvas Preview Styles */
.canvas-section-preview {
  position: relative;
  width: 100%;
  height: 100%;
  border-radius: 8px;
  overflow: hidden;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.canvas-section-preview img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  image-rendering: auto !important;
}

/* Scale canvas elements to fill the preview container */
.canvas-section-preview .realtime-preview-canvas {
  width: 100% !important;
  height: 100% !important;
  position: relative !important;
}

.canvas-section-preview .preview-canvas-layer {
  position: absolute !important;
  bottom: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  display: block !important;
  transform-origin: bottom left !important;
}

.canvas-section-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.canvas-section-preview:hover .canvas-section-overlay {
  opacity: 1;
}

/* Page Management Delete Button */
.page-management-compact-delete-button {
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
  padding: 0.5rem 0.75rem !important;
  background-color: #ef4444 !important;
  color: white !important;
  border: none !important;
  border-radius: 0.5rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
}

.page-management-compact-delete-button:hover {
  background-color: #dc2626 !important;
  transform: translateY(-1px) !important;
}

/* Page Container */
.create-story-page {
  min-height: 100vh !important;
  background-color: #F9FAFB !important;
  padding: 0 !important;
}

/* Sticky Header */
.page-header-container {
  background-color: #FFFFFF !important;
  border-bottom: 1px solid #E5E7EB !important;
  padding: 1rem 1.5rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  position: sticky !important;
  top: 0 !important;
  z-index: 10 !important;
}

.page-header-left-section {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
}

.page-header-back-button {
  background: none !important;
  border: none !important;
  cursor: pointer !important;
  padding: 0 !important;
}

.page-header-back-icon {
  height: 1.5rem !important;
  width: 1.5rem !important;
  color: #374151 !important;
}

.page-header-back-icon:hover {
  color: #111827 !important;
}

.page-header-title-group {
  display: flex !important;
  flex-direction: column !important;
}

.page-header-title {
  color: #111827 !important;
  font-size: 1.25rem !important;
  font-weight: 700 !important;
  margin: 0 !important;
}

.page-header-subtitle {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
  margin: 0.25rem 0 0 0 !important;
}

.page-header-save-button {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  border: none !important;
  cursor: pointer !important;
}

.page-header-save-button:hover {
  background-color: #7C3AED !important;
}

.page-header-save-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #FFFFFF !important;
}

/* Content Area */
.content-area-container {
  padding: 1.5rem !important;
  max-width: 64rem !important;
  margin: 0 auto !important;
}

/* Story Title Section */
.story-title-section-container {
  background-color: #FFFFFF !important;
  border-radius: 0.75rem !important;
  padding: 1.5rem !important;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
  border: 1px solid #F3F4F6 !important;
  margin-bottom: 1.5rem !important;
}

.story-title-section-label {
  color: #374151 !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  margin-bottom: 0.5rem !important;
  display: block !important;
}

.story-title-section-input {
  background-color: #FFFFFF !important;
  border: 1px solid #D1D5DB !important;
  border-radius: 0.5rem !important;
  padding: 0.75rem 1rem !important;
  font-size: 1rem !important;
  color: #111827 !important;
  width: 100% !important;
}

.story-title-section-input::placeholder {
  color: #9CA3AF !important;
}

.story-title-section-input:focus {
  outline: none !important;
  box-shadow: 0 0 0 2px #8B5CF6 !important;
  border-color: #8B5CF6 !important;
}

/* Canvas Section */
.canvas-section-container {
  background-color: #FFFFFF !important;
  border-radius: 0.75rem !important;
  padding: 1.5rem !important;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
  border: 1px solid #F3F4F6 !important;
  margin-bottom: 1.5rem !important;
}

.canvas-section-header {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  margin-bottom: 1rem !important;
}

.canvas-section-title {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

.canvas-section-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
  color: #8B5CF6 !important;
}

.canvas-section-text {
  color: #111827 !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
}

.canvas-section-edit-button {
  background-color: #FFFFFF !important;
  color: #8B5CF6 !important;
  border: 1px solid #E9D5FF !important;
  border-radius: 0.5rem !important;
  padding: 0.375rem 0.75rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
  cursor: pointer !important;
}

.canvas-section-edit-button:hover {
  background-color: #FAF5FF !important;
}

.canvas-section-canvas-area {
  background-color: #F9FAFB !important;
  border: 2px dashed #D1D5DB !important;
  border-radius: 0.5rem !important;
  width: 100% !important;
  aspect-ratio: 1 / 1 !important; /* Maintain square 1:1 ratio */
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: background-color 0.2s ease-in-out !important;
  position: relative !important;
  overflow: hidden !important;
}

.canvas-section-canvas-area:hover {
  background-color: #F3F4F6 !important;
}

.canvas-section-empty-state {
  color: #9CA3AF !important;
  font-size: 0.875rem !important;
  text-align: center !important;
}

/* Page Management Section */
.page-management-section-container {
  background-color: #FFFFFF !important;
  border-radius: 0.75rem !important;
  padding: 1.5rem !important;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
  border: 1px solid #F3F4F6 !important;
  margin-bottom: 1.5rem !important;
}

.page-management-section-header {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  margin-bottom: 1rem !important;
}

.page-management-section-title {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

.page-management-section-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
  color: #EC4899 !important;
}

.page-management-section-text {
  color: #111827 !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
}

.page-management-section-add-page-button {
  background-color: #FFFFFF !important;
  color: #8B5CF6 !important;
  border: 1px solid #E9D5FF !important;
  border-radius: 0.5rem !important;
  padding: 0.375rem 0.75rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
  cursor: pointer !important;
}

.page-management-section-add-page-button:hover {
  background-color: #FAF5FF !important;
}

.page-management-pagination-container {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 0.75rem !important;
  margin-bottom: 1rem !important;
}

.page-management-pagination-button {
  background-color: #F3F4F6 !important;
  color: #6B7280 !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem !important;
  border: none !important;
  cursor: pointer !important;
}

.page-management-pagination-button:hover:not(:disabled) {
  background-color: #E5E7EB !important;
}

.page-management-pagination-button:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

.page-management-pagination-page-info {
  color: #374151 !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
}

.page-management-page-thumbnail-container {
  background-color: #FFFFFF !important;
  border: 2px solid #8B5CF6 !important;
  border-radius: 0.5rem !important;
  padding: 1rem !important;
  width: 4rem !important;
  height: 5rem !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  margin: 0 auto 0.75rem auto !important;
  cursor: pointer !important;
}

.page-management-page-thumbnail-container:hover {
  background-color: #FAF5FF !important;
}

.page-management-page-thumbnail-icon {
  height: 1.5rem !important;
  width: 1.5rem !important;
  color: #8B5CF6 !important;
  margin-bottom: 0.25rem !important;
}

.page-management-page-thumbnail-page-number {
  color: #6B7280 !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.page-management-help-text {
  color: #6B7280 !important;
  font-size: 0.75rem !important;
  text-align: center !important;
  margin: 0 !important;
}

/* Compact Page Management */
.page-management-compact-container {
  background-color: #F9FAFB !important;
  border-radius: 0.5rem !important;
  padding: 0.75rem !important;
  margin-bottom: 1.5rem !important;
  border: 1px solid #E5E7EB !important;
}

.page-management-compact-controls {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 0.75rem !important;
  max-width: 1200px !important;
  margin: 0 auto !important;
}

.page-management-compact-button {
  background-color: #F3F4F6 !important;
  color: #6B7280 !important;
  border-radius: 0.375rem !important;
  padding: 0.5rem !important;
  border: none !important;
  cursor: pointer !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.page-management-compact-button:hover:not(:disabled) {
  background-color: #E5E7EB !important;
}

.page-management-compact-button:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

.page-management-compact-info {
  color: #374151 !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  min-width: 80px !important;
  text-align: center !important;
}

.page-management-compact-add-button {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border-radius: 0.375rem !important;
  padding: 0.5rem 0.75rem !important;
  border: none !important;
  cursor: pointer !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
}

.page-management-compact-add-button:hover {
  background-color: #7C3AED !important;
}

/* Page Editor Section */
.page-editor-section-container {
  background-color: #FFFFFF !important;
  border-radius: 0.75rem !important;
  padding: 1.5rem !important;
  padding-bottom: 3rem !important;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06) !important;
  margin-bottom: 3rem !important;
  overflow: visible !important;
  position: relative !important;
}

.page-editor-section-header {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  margin-bottom: 1rem !important;
}

.page-editor-section-title {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

.page-editor-section-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
  color: #F97316 !important;
}

.page-editor-section-text {
  color: #111827 !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
}

.page-editor-section-ai-button {
  background-color: #FFFFFF !important;
  color: #8B5CF6 !important;
  border: 1px solid #E9D5FF !important;
  border-radius: 0.5rem !important;
  padding: 0.375rem 0.75rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
  cursor: pointer !important;
}

.page-editor-section-ai-button:hover {
  background-color: #FAF5FF !important;
}

.page-editor-section-text-area {
  background-color: #F9FAFB !important;
  border: 1px solid #D1D5DB !important;
  border-radius: 0.5rem !important;
  padding: 1rem !important;
  font-size: 1rem !important;
  color: #111827 !important;
  min-height: 12rem !important;
  width: 100% !important;
  resize: none !important;
}

.page-editor-section-text-area::placeholder {
  color: #9CA3AF !important;
}

.page-editor-section-text-area:focus {
  outline: none !important;
  box-shadow: 0 0 0 2px #8B5CF6 !important;
  border-color: #8B5CF6 !important;
  background-color: #FFFFFF !important;
}

.page-editor-section-character-count {
  color: #9CA3AF !important;
  font-size: 0.75rem !important;
  margin-top: 0.5rem !important;
}

/* Sticky Bottom Actions */
.bottom-actions-container {
  background-color: #FFFFFF !important;
  border-top: 1px solid #E5E7EB !important;
  padding: 1rem !important;
  display: grid !important;
  grid-template-columns: 1fr 1fr !important;
  gap: 0.75rem !important;
  position: sticky !important;
  bottom: 0 !important;
}

.bottom-actions-characters-button,
.bottom-actions-ai-assistant-button {
  background-color: #FFFFFF !important;
  color: #8B5CF6 !important;
  border: 1px solid #E9D5FF !important;
  border-radius: 0.5rem !important;
  padding: 0.75rem 1rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 0.5rem !important;
  cursor: pointer !important;
}

.bottom-actions-characters-button:hover,
.bottom-actions-ai-assistant-button:hover {
  background-color: #FAF5FF !important;
}

.bottom-actions-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
  color: #8B5CF6 !important;
}

/* Close Button - Top right corner */
.canvas-close-button {
  position: fixed !important;
  top: 1rem !important;
  right: 1rem !important;
  background-color: rgba(239, 68, 68, 0.9) !important;
  color: #FFFFFF !important;
  border-radius: 50% !important;
  padding: 0.75rem !important;
  width: 3rem !important;
  height: 3rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  border: none !important;
  cursor: pointer !important;
  z-index: 1001 !important;
  transition: all 0.2s ease-in-out !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
}

.canvas-close-button:hover {
  background-color: rgba(220, 38, 38, 0.95) !important;
  transform: scale(1.05) !important;
  box-shadow: 0 6px 8px -1px rgba(0, 0, 0, 0.15) !important;
}

.canvas-close-icon {
  height: 1.5rem !important;
  width: 1.5rem !important;
  color: #FFFFFF !important;
  stroke-width: 2 !important;
}

/* Canvas Slider Styles */
.canvas-slider-group {
  margin-bottom: 1rem !important;
  padding: 0 0.5rem !important;
}

.canvas-slider-label {
  display: block !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  color: #E5E7EB !important;
  margin-bottom: 0.5rem !important;
}

.canvas-slider {
  width: 100% !important;
  height: 6px !important;
  border-radius: 3px !important;
  background: #374151 !important;
  outline: none !important;
  -webkit-appearance: none !important;
  appearance: none !important;
}

.canvas-slider::-webkit-slider-thumb {
  -webkit-appearance: none !important;
  appearance: none !important;
  width: 18px !important;
  height: 18px !important;
  border-radius: 50% !important;
  background: #8B5CF6 !important;
  cursor: pointer !important;
  border: 2px solid #FFFFFF !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
}

.canvas-slider::-webkit-slider-thumb:hover {
  background: #7C3AED !important;
  transform: scale(1.1) !important;
}

.canvas-slider::-moz-range-thumb {
  width: 18px !important;
  height: 18px !important;
  border-radius: 50% !important;
  background: #8B5CF6 !important;
  cursor: pointer !important;
  border: 2px solid #FFFFFF !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
}

.canvas-slider::-moz-range-thumb:hover {
  background: #7C3AED !important;
  transform: scale(1.1) !important;
}

.canvas-slider::-moz-range-track {
  width: 100% !important;
  height: 6px !important;
  cursor: pointer !important;
  background: #374151 !important;
  border-radius: 3px !important;
}

/* Canvas Brush Preview Styles */
.canvas-brush-preview-container {
  margin-bottom: 1rem !important;
  padding: 0.75rem !important;
  background: rgba(55, 65, 81, 0.5) !important;
  border-radius: 8px !important;
  border: 1px solid #4B5563 !important;
}

.canvas-brush-preview-label {
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  color: #E5E7EB !important;
  margin-bottom: 0.5rem !important;
}

.canvas-brush-preview-area {
  width: 100% !important;
  height: 60px !important;
  background: #1F2937 !important;
  border-radius: 6px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  border: 1px solid #374151 !important;
  position: relative !important;
}

.canvas-brush-preview-dot {
  border-radius: 50% !important;
  transition: all 0.2s ease !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
  min-width: 4px !important;
  min-height: 4px !important;
}

.canvas-brush-preview-area::before {
  content: '' !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  background-image: 
    linear-gradient(45deg, #374151 25%, transparent 25%), 
    linear-gradient(-45deg, #374151 25%, transparent 25%), 
    linear-gradient(45deg, transparent 75%, #374151 75%), 
    linear-gradient(-45deg, transparent 75%, #374151 75%) !important;
  background-size: 8px 8px !important;
  background-position: 0 0, 0 4px, 4px -4px, -4px 0px !important;
  border-radius: 6px !important;
  opacity: 0.3 !important;
  z-index: 1 !important;
}

.canvas-brush-preview-dot {
  z-index: 2 !important;
  position: relative !important;
}

/* Canvas Section Header with Reset Button */
.canvas-drawer-section-header {
  display: flex !important;
  justify-content: space-between !important;
  margin-bottom: 1rem !important;
}

.canvas-r.social-item-right {
  display: flex !important;
  gap: 0.5rem !important;
}

.message-button {
  background: #8B5CF6 !important;
  color: white !important;
  border: none !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem !important;
  cursor: pointer !important;
  transition: background-color 0.2s !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.message-button:hover {
  background: #7C3AED !important;
}

.unfriend-button {
  background: #EF4444 !important;
  color: white !important;
  border: none !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem !important;
  cursor: pointer !important;
  transition: background-color 0.2s !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.unfriend-button:hover {
  background: #DC2626 !important;
}

.dark .unfriend-button {
  background: #DC2626 !important;
}

.dark .unfriend-button:hover {
  background: #B91C1C !important;
}

.canvas-reset-button {
  background: rgba(139, 92, 246, 0.2) !important;
  border: 1px solid #8B5CF6 !important;
  border-radius: 6px !important;
  padding: 0.375rem !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.canvas-reset-button:hover {
  background: rgba(139, 92, 246, 0.3) !important;
  transform: scale(1.05) !important;
}

.canvas-reset-button:active {
  transform: scale(0.95) !important;
}

.canvas-reset-icon {
  width: 1rem !important;
  height: 1rem !important;
  color: #8B5CF6 !important;
}

/* Canvas Area - Orientation Aware */
.canvas-area {
  height: 100vh !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  overflow: hidden !important;
  position: relative !important;
}

.canvas-area-portrait {
  padding: 2rem 1rem 8rem 1rem !important; /* Bottom padding for toolbar */
}

.canvas-area-landscape {
  padding: 2rem !important;
}

/* Canvas Container for Zoom/Pan */
.canvas-container {
  transition: transform 0.2s ease-out !important;
  will-change: transform !important;
  position: relative !important;
}

/* Drawing Canvas Styles */
.drawing-canvas {
  background-color: #FFFFFF !important;
  border-radius: 2rem !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  aspect-ratio: 1 / 1 !important;
  display: block !important;
}

/* Canvas Instructions - Minimized Help Icon */
.canvas-instructions {
  position: fixed !important;
  top: 5rem !important;
  right: 1rem !important;
  background: rgba(0, 0, 0, 0.8) !important;
  border-radius: 50% !important;
  width: 2.5rem !important;
  height: 2.5rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 1rem !important;
  color: white !important;
  z-index: 999 !important;
  opacity: 0.7 !important;
  transition: all 0.3s ease !important;
  cursor: pointer !important;
}

.canvas-instructions:hover {
  opacity: 1 !important;
  transform: scale(1.1) !important;
}

/* Instructions Tooltip */
.canvas-instructions-tooltip {
  position: absolute !important;
  top: 0 !important;
  right: 3rem !important;
  background: rgba(0, 0, 0, 0.9) !important;
  border-radius: 8px !important;
  padding: 0.75rem !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 0.5rem !important;
  font-size: 0.75rem !important;
  color: white !important;
  white-space: nowrap !important;
  opacity: 0 !important;
  visibility: hidden !important;
  transition: all 0.3s ease !important;
  transform: translateX(10px) !important;
}

.canvas-instructions:hover .canvas-instructions-tooltip {
  opacity: 1 !important;
  visibility: visible !important;
  transform: translateX(0) !important;
}

.canvas-instruction-item {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 0.75rem !important;
}

.canvas-instruction-key {
  background: rgba(255, 255, 255, 0.2) !important;
  padding: 0.125rem 0.375rem !important;
  border-radius: 4px !important;
  font-weight: 500 !important;
  min-width: 4rem !important;
  text-align: center !important;
}

.canvas-instruction-action {
  color: #D1D5DB !important;
  font-weight: 400 !important;
}

/* Pan Mode Indicator */
.canvas-pan-indicator {
  position: fixed !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  background: rgba(139, 92, 246, 0.95) !important;
  color: white !important;
  padding: 0.75rem 1.5rem !important;
  border-radius: 12px !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
  pointer-events: none !important;
  z-index: 1000 !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
  animation: panIndicatorPulse 1.5s ease-in-out infinite !important;
}

@keyframes panIndicatorPulse {
  0%, 100% {
    opacity: 0.9 !important;
    transform: translate(-50%, -50%) scale(1) !important;
  }
  50% {
    opacity: 1 !important;
    transform: translate(-50%, -50%) scale(1.05) !important;
  }
}

/* Fill Toggle Styles */
.canvas-drawer-fill-section {
  margin-top: 12px !important;
  padding-top: 12px !important;
  border-top: 1px solid #374151 !important;
}

.canvas-fill-toggle {
  width: 100% !important;
  padding: 8px 12px !important;
  background: #374151 !important;
  border: 1px solid #4B5563 !important;
  border-radius: 6px !important;
  color: #D1D5DB !important;
  font-size: 0.875rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 8px !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
}

.canvas-fill-toggle:hover {
  background: #4B5563 !important;
  border-color: #6B7280 !important;
}

.canvas-fill-toggle-active {
  background: #8B5CF6 !important;
  border-color: #8B5CF6 !important;
  color: white !important;
}

.canvas-fill-toggle-active:hover {
  background: #7C3AED !important;
  border-color: #7C3AED !important;
}

.canvas-fill-icon {
  font-size: 1.2rem !important;
  line-height: 1 !important;
}

.canvas-fill-label {
  font-weight: 500 !important;
}

/* Canvas - White square with rounded corners */
.canvas {
  background-color: #FFFFFF !important;
  border-radius: 2rem !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  aspect-ratio: 1 / 1 !important;
}

/* Ensure drawing canvas inherits proper styles */
.drawing-canvas.canvas-portrait {
  max-width: 100% !important;
  width: 100% !important;
  max-height: calc(100vh - 8rem) !important;
}

.drawing-canvas.canvas-landscape {
  aspect-ratio: 1 / 1 !important;
  width: auto !important;
  height: 85vh !important;
  max-width: 85vh !important;
}

.canvas-portrait {
  max-width: 100% !important;
  width: 100% !important;
  max-height: calc(100vh - 8rem) !important;
}

.canvas-landscape {
  aspect-ratio: 1 / 1 !important;
  width: auto !important;
  height: 85vh !important;
  max-width: 85vh !important;
  max-height: 85vh !important;
}

/* Drawer Toggle Button */
.canvas-drawer-toggle {
  position: fixed !important;
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border: 2px solid #A855F7 !important;
  border-radius: 1rem !important;
  padding: 0.75rem !important;
  cursor: pointer !important;
  box-shadow: 0 10px 15px -3px rgba(139, 92, 246, 0.3) !important;
  z-index: 1000 !important;
  transition: all 0.2s ease-in-out !important;
}

.canvas-drawer-toggle:hover {
  background-color: #7C3AED !important;
  transform: scale(1.05) translateY(-2px) !important;
  box-shadow: 0 15px 25px -5px rgba(139, 92, 246, 0.4) !important;
}



.canvas-drawer-toggle-icon {
  height: 1.5rem !important;
  width: 1.5rem !important;
}

/* Top-Left Controls - Undo, Redo, Zoom */
.canvas-top-left-controls {
  position: fixed !important;
  display: flex !important;
  gap: 0.5rem !important;
  align-items: center !important;
  z-index: 999 !important;
}

.canvas-top-left-controls-portrait {
  top: 1rem !important;
  left: 1rem !important;
  flex-direction: row !important;
}

.canvas-top-left-controls-landscape {
  top: 1rem !important;
  left: 1rem !important;
  flex-direction: row !important;
}

/* Inline Zoom Controls in Top-Left */
.canvas-zoom-controls-inline {
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
  background-color: rgba(31, 41, 55, 0.9) !important;
  border-radius: 0.5rem !important;
  padding: 0.25rem !important;
}

.canvas-zoom-button-inline {
  width: 2rem !important;
  height: 2rem !important;
  background-color: #374151 !important;
  color: #FFFFFF !important;
  border: none !important;
  border-radius: 0.375rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: all 0.2s ease-in-out !important;
}

.canvas-zoom-button-inline:hover {
  background-color: #4B5563 !important;
  transform: scale(1.05) !important;
}

.canvas-zoom-level-inline {
  min-width: 3rem !important;
  text-align: center !important;
  color: #FFFFFF !important;
  font-size: 0.75rem !important;
  font-weight: 600 !important;
  padding: 0 0.25rem !important;
}

.canvas-history-button {
  background-color: #1F2937 !important;
  color: #FFFFFF !important;
  border: 1px solid #374151 !important;
  border-radius: 0.75rem !important;
  padding: 0.75rem !important;
  cursor: pointer !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
  transition: all 0.2s ease-in-out !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  width: 3rem !important;
  height: 3rem !important;
}

.canvas-history-button:hover {
  background-color: #374151 !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 6px 8px -1px rgba(0, 0, 0, 0.15) !important;
}

.canvas-history-button:active {
  transform: translateY(0) !important;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1) !important;
}

.canvas-history-button:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
  transform: none !important;
}

.canvas-history-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
}

/* Basic Tools Bar - Always Visible at Bottom */
.canvas-basic-tools {
  position: fixed !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 1.5rem !important;
  background: linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%) !important;
  border-radius: 2rem !important;
  padding: 1rem 2rem !important;
  box-shadow: 0 10px 25px -5px rgba(99, 102, 241, 0.4), 0 8px 10px -6px rgba(0, 0, 0, 0.1) !important;
  z-index: 1001 !important;
  min-width: 280px !important;
}

.canvas-basic-tools-portrait {
  bottom: 1.5rem !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
}

.canvas-basic-tools-landscape {
  bottom: 1.5rem !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
}

.canvas-basic-tool-button {
  width: 3.5rem !important;
  height: 3.5rem !important;
  background-color: rgba(255, 255, 255, 0.2) !important;
  color: #FFFFFF !important;
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
  border-radius: 1rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: all 0.2s ease-in-out !important;
  backdrop-filter: blur(10px) !important;
}

.canvas-basic-tool-button:hover {
  background-color: rgba(255, 255, 255, 0.3) !important;
  transform: scale(1.1) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

.canvas-basic-tool-button.canvas-basic-tool-active {
  background-color: rgba(255, 255, 255, 0.4) !important;
  border: 2px solid rgba(255, 255, 255, 0.8) !important;
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.3) !important;
}

.canvas-basic-tool-icon {
  font-size: 1.25rem !important;
  font-weight: 600 !important;
}

.canvas-basic-tool-icon-svg {
  width: 1.75rem !important;
  height: 1.75rem !important;
  stroke-width: 2 !important;
}

.canvas-eraser-icon-small {
  width: 1.5rem !important;
  height: 1.5rem !important;
  background-color: #FFFFFF !important;
  border: 2px solid #FFFFFF !important;
  border-radius: 0.375rem !important;
  position: relative !important;
}

.canvas-eraser-icon-small::after {
  content: '' !important;
  position: absolute !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) rotate(45deg) !important;
  width: 60% !important;
  height: 3px !important;
  background-color: rgba(139, 92, 246, 0.8) !important;
}

.canvas-basic-zoom-display {
  min-width: 3.5rem !important;
  text-align: center !important;
  color: #FFFFFF !important;
  font-size: 0.875rem !important;
  font-weight: 700 !important;
  padding: 0 0.5rem !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
}

.canvas-basic-color-button {
  padding: 0.375rem !important;
}

.canvas-basic-color-swatch {
  width: 2.5rem !important;
  height: 2.5rem !important;
  border-radius: 0.625rem !important;
  border: 3px solid rgba(255, 255, 255, 0.9) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
}

/* Adjust drawer toggle position to avoid overlap with basic tools */
.canvas-drawer-toggle-portrait {
  bottom: 1.5rem !important;
  right: 1rem !important;
  z-index: 1002 !important;
}

.canvas-drawer-toggle-landscape {
  bottom: 1.5rem !important;
  right: 1rem !important;
  z-index: 1002 !important;
}

/* Responsive adjustments for history buttons */
@media (max-width: 480px) {
  .canvas-close-button {
    top: 0.5rem !important;
    right: 0.5rem !important;
    width: 2.5rem !important;
    height: 2.5rem !important;
    padding: 0.5rem !important;
  }
  
  .canvas-close-icon {
    height: 1.25rem !important;
    width: 1.25rem !important;
  }
  
  .canvas-top-left-controls-portrait {
    top: 0.5rem !important;
    left: 0.5rem !important;
    gap: 0.25rem !important;
  }
  
  .canvas-top-left-controls-landscape {
    top: 0.5rem !important;
    left: 0.5rem !important;
    gap: 0.25rem !important;
  }
  
  .canvas-basic-tools {
    padding: 0.5rem 1rem !important;
    gap: 0.5rem !important;
  }
  
  .canvas-basic-tool-button {
    width: 2rem !important;
    height: 2rem !important;
  }
  
  .canvas-basic-zoom-display {
    min-width: 3rem !important;
    font-size: 0.75rem !important;
  }
  
  .canvas-basic-color-swatch {
    width: 1.5rem !important;
    height: 1.5rem !important;
  }
  
  .canvas-basic-tool-icon-svg {
    width: 1rem !important;
    height: 1rem !important;
  }
  
  .canvas-eraser-icon-small {
    width: 0.75rem !important;
    height: 0.75rem !important;
  }
  
  .canvas-history-button {
    width: 2.5rem !important;
    height: 2.5rem !important;
    padding: 0.5rem !important;
  }
  
  .canvas-history-icon {
    height: 1rem !important;
    width: 1rem !important;
  }
  
  .canvas-drawer-toggle-portrait {
    bottom: 7rem !important;
    right: 0.5rem !important;
  }
  
  .canvas-drawer-toggle-landscape {
    bottom: 0.5rem !important;
    right: 0.5rem !important;
  }
  

  
  .canvas-bottom-action-button {
    padding: 0.875rem !important;
    font-size: 0.875rem !important;
  }
}

/* Zoom Controls */
.canvas-zoom-controls {
  position: absolute !important;
  display: flex !important;
  align-items: center !important;
  background: rgba(31, 41, 55, 0.9) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border-radius: 2rem !important;
  padding: 0.5rem !important;
  gap: 0.5rem !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
  z-index: 998 !important;
}

.canvas-zoom-controls-portrait {
  bottom: 10rem !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  flex-direction: row !important;
}

.canvas-zoom-controls-landscape {
  bottom: 1rem !important;
  left: 1rem !important;
  flex-direction: column !important;
}

/* Adjust canvas area padding for side controls */
.canvas-area-landscape {
  padding-left: 5rem !important;
}

/* Desktop specific adjustments */
@media (min-width: 1200px) {
  .canvas-area-landscape {
    padding-left: 6rem !important;
  }
  
  .canvas-landscape {
    height: 75vh !important;
    max-width: 75vh !important;
    max-height: 75vh !important;
  }
}

.canvas-zoom-button {
  background: rgba(139, 92, 246, 0.8) !important;
  color: #FFFFFF !important;
  border: none !important;
  border-radius: 50% !important;
  width: 2.5rem !important;
  height: 2.5rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: all 0.2s ease-in-out !important;
  font-weight: bold !important;
}

.canvas-zoom-button:hover {
  background: rgba(139, 92, 246, 1) !important;
  transform: scale(1.05) !important;
}

.canvas-zoom-button:active {
  transform: scale(0.95) !important;
}

.canvas-zoom-icon {
  font-size: 1.125rem !important;
  line-height: 1 !important;
}

.canvas-zoom-level {
  color: #FFFFFF !important;
  font-size: 0.75rem !important;
  font-weight: 600 !important;
  min-width: 3rem !important;
  text-align: center !important;
  background: rgba(0, 0, 0, 0.3) !important;
  border-radius: 1rem !important;
  padding: 0.375rem 0.5rem !important;
}

.canvas-zoom-reset {
  background: rgba(239, 68, 68, 0.8) !important;
  color: #FFFFFF !important;
  border: none !important;
  border-radius: 0.5rem !important;
  width: 2.5rem !important;
  height: 2.5rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: all 0.2s ease-in-out !important;
}

.canvas-zoom-reset:hover {
  background: rgba(239, 68, 68, 1) !important;
  transform: scale(1.05) !important;
}

.canvas-zoom-reset:active {
  transform: scale(0.95) !important;
}

.canvas-zoom-reset-icon {
  font-size: 1rem !important;
  line-height: 1 !important;
}

/* Mobile Zoom Controls */
@media (max-width: 480px) {
  .canvas-zoom-controls {
    padding: 0.375rem !important;
    gap: 0.375rem !important;
  }
  
  .canvas-zoom-controls-portrait {
    bottom: 9rem !important;
  }
  
  .canvas-zoom-controls-landscape {
    bottom: 1rem !important;
    left: 0.5rem !important;
    flex-direction: column !important;
  }
  
  .canvas-zoom-button,
  .canvas-zoom-reset {
    width: 2rem !important;
    height: 2rem !important;
  }
  
  .canvas-zoom-icon {
    font-size: 1rem !important;
  }
  
  .canvas-zoom-reset-icon {
    font-size: 0.875rem !important;
  }
  
  .canvas-zoom-level {
    font-size: 0.625rem !important;
    min-width: 2.5rem !important;
    padding: 0.25rem 0.375rem !important;
  }
  
  .canvas-area-landscape {
    padding: 1rem !important;
    padding-left: 4rem !important;
  }
  
  .canvas-landscape {
    height: 70vh !important;
    max-width: 70vh !important;
    max-height: 70vh !important;
  }
}

/* Tablet landscape adjustments */
@media (min-width: 481px) and (max-width: 1199px) {
  .canvas-landscape {
    height: 80vh !important;
    max-width: 80vh !important;
    max-height: 80vh !important;
  }
}

/* Color Picker Modal - Glassmorphism */
.canvas-color-modal-overlay {
  position: fixed !important;
  inset: 0 !important;
  background-color: rgba(0, 0, 0, 0.4) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 1rem !important;
  z-index: 1003 !important;
  animation: fadeIn 0.2s ease-out !important;
}

@keyframes fadeIn {
  from {
    opacity: 0 !important;
  }
  to {
    opacity: 1 !important;
  }
}

.canvas-color-modal {
  background: rgba(255, 255, 255, 0.95) !important;
  backdrop-filter: blur(20px) !important;
  -webkit-backdrop-filter: blur(20px) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-radius: 1.5rem !important;
  padding: 1.5rem !important;
  max-width: 24rem !important;
  width: 100% !important;
  max-height: 80vh !important;
  overflow-y: auto !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1) !important;
  animation: slideIn 0.3s ease-out !important;
}

@keyframes slideIn {
  from {
    opacity: 0 !important;
    transform: translateY(20px) scale(0.95) !important;
  }
  to {
    opacity: 1 !important;
    transform: translateY(0) scale(1) !important;
  }
}

/* Dark mode support for glassmorphism */
@media (prefers-color-scheme: dark) {
  .canvas-color-modal {
    background: rgba(31, 41, 55, 0.95) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
  }
}

.canvas-color-modal-header {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  margin-bottom: 1.5rem !important;
}

.canvas-color-modal-title {
  color: #111827 !important;
  font-size: 1.125rem !important;
  font-weight: 600 !important;
  margin: 0 !important;
}

@media (prefers-color-scheme: dark) {
  .canvas-color-modal-title {
    color: #FFFFFF !important;
  }
}

.canvas-color-modal-close {
  background: rgba(0, 0, 0, 0.1) !important;
  border: none !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem !important;
  cursor: pointer !important;
  transition: background-color 0.2s ease-in-out !important;
}

.canvas-color-modal-close:hover {
  background: rgba(0, 0, 0, 0.2) !important;
}

.canvas-color-modal-close-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #6B7280 !important;
}

/* Current Color Section */
.canvas-color-current-section {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
  margin-bottom: 1.5rem !important;
  padding: 1rem !important;
  background: rgba(0, 0, 0, 0.05) !important;
  border-radius: 0.75rem !important;
}

.canvas-color-current-label {
  color: #374151 !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
}

@media (prefers-color-scheme: dark) {
  .canvas-color-current-section {
    background: rgba(255, 255, 255, 0.1) !important;
  }
  
  .canvas-color-current-label {
    color: #D1D5DB !important;
  }
}

.canvas-color-current-swatch {
  width: 2.5rem !important;
  height: 2.5rem !important;
  border-radius: 0.5rem !important;
  border: 3px solid rgba(255, 255, 255, 0.8) !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
}

/* Color Sections */
.canvas-color-section {
  margin-bottom: 1.5rem !important;
}

.canvas-color-section:last-child {
  margin-bottom: 0 !important;
}

.canvas-color-section-title {
  color: #374151 !important;
  font-size: 0.875rem !important;
  font-weight: 600 !important;
  margin: 0 0 0.75rem 0 !important;
}

@media (prefers-color-scheme: dark) {
  .canvas-color-section-title {
    color: #D1D5DB !important;
  }
}

/* Color Grids */
.canvas-color-grid {
  display: grid !important;
  gap: 0.5rem !important;
}

.canvas-color-grid {
  grid-template-columns: repeat(6, 1fr) !important;
}

.canvas-color-grid-large {
  grid-template-columns: repeat(8, 1fr) !important;
}

.canvas-color-swatch-button {
  width: 2rem !important;
  height: 2rem !important;
  border-radius: 0.375rem !important;
  border: 2px solid rgba(255, 255, 255, 0.8) !important;
  cursor: pointer !important;
  transition: all 0.2s ease-in-out !important;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1) !important;
}

.canvas-color-swatch-button:hover {
  transform: scale(1.1) !important;
  box-shadow: 0 4px 8px -2px rgba(0, 0, 0, 0.2) !important;
}

.canvas-color-swatch-active {
  border-color: #8B5CF6 !important;
  border-width: 3px !important;
  transform: scale(1.05) !important;
  box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.3), 0 4px 8px -2px rgba(0, 0, 0, 0.2) !important;
}

/* Custom Color Picker Input */
.canvas-color-picker-input {
  width: 100% !important;
  height: 3rem !important;
  border: none !important;
  border-radius: 0.75rem !important;
  cursor: pointer !important;
  background: transparent !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
}

.canvas-color-picker-input::-webkit-color-swatch-wrapper {
  padding: 0 !important;
  border: none !important;
  border-radius: 0.75rem !important;
}

.canvas-color-picker-input::-webkit-color-swatch {
  border: none !important;
  border-radius: 0.75rem !important;
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1) !important;
}

/* Mobile Responsiveness */
@media (max-width: 480px) {
  .canvas-color-modal {
    margin: 0.5rem !important;
    padding: 1rem !important;
    max-height: 90vh !important;
  }
  
  .canvas-color-grid {
    grid-template-columns: repeat(5, 1fr) !important;
  }
  
  .canvas-color-grid-large {
    grid-template-columns: repeat(6, 1fr) !important;
  }
  
  .canvas-color-swatch-button {
    width: 1.75rem !important;
    height: 1.75rem !important;
  }
}

/* Brush Picker Modal - Glassmorphism */
.canvas-brush-modal-overlay {
  position: fixed !important;
  inset: 0 !important;
  background-color: rgba(0, 0, 0, 0.4) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 1rem !important;
  z-index: 1003 !important;
  animation: fadeIn 0.2s ease-out !important;
}

.canvas-brush-modal {
  background: rgba(255, 255, 255, 0.95) !important;
  backdrop-filter: blur(20px) !important;
  -webkit-backdrop-filter: blur(20px) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-radius: 1.5rem !important;
  padding: 1.5rem !important;
  max-width: 20rem !important;
  width: 100% !important;
  max-height: 80vh !important;
  overflow-y: auto !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1) !important;
  animation: slideIn 0.3s ease-out !important;
}

@media (prefers-color-scheme: dark) {
  .canvas-brush-modal {
    background: rgba(31, 41, 55, 0.95) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
  }
}

.canvas-brush-modal-header {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  margin-bottom: 1.5rem !important;
}

.canvas-brush-modal-title {
  color: #111827 !important;
  font-size: 1.125rem !important;
  font-weight: 600 !important;
  margin: 0 !important;
}

@media (prefers-color-scheme: dark) {
  .canvas-brush-modal-title {
    color: #FFFFFF !important;
  }
}

.canvas-brush-modal-close {
  background: rgba(0, 0, 0, 0.1) !important;
  border: none !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem !important;
  cursor: pointer !important;
  transition: background-color 0.2s ease-in-out !important;
}

.canvas-brush-modal-close:hover {
  background: rgba(0, 0, 0, 0.2) !important;
}

.canvas-brush-modal-close-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #6B7280 !important;
}

/* Current Brush Section */
.canvas-brush-current-section {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
  margin-bottom: 1.5rem !important;
  padding: 1rem !important;
  background: rgba(0, 0, 0, 0.05) !important;
  border-radius: 0.75rem !important;
}

.canvas-brush-current-label {
  color: #374151 !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
}

.canvas-brush-current-display {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
}

.canvas-brush-current-name {
  color: #111827 !important;
  font-size: 0.875rem !important;
  font-weight: 600 !important;
}

@media (prefers-color-scheme: dark) {
  .canvas-brush-current-section {
    background: rgba(255, 255, 255, 0.1) !important;
  }
  
  .canvas-brush-current-label {
    color: #D1D5DB !important;
  }
  
  .canvas-brush-current-name {
    color: #FFFFFF !important;
  }
}

.canvas-brush-preview-large {
  width: 2rem !important;
  height: 2rem !important;
}

/* Brush Sections */
.canvas-brush-section {
  margin-bottom: 1.5rem !important;
}

.canvas-brush-section:last-child {
  margin-bottom: 0 !important;
}

.canvas-brush-section-title {
  color: #374151 !important;
  font-size: 0.875rem !important;
  font-weight: 600 !important;
  margin: 0 0 0.75rem 0 !important;
}

@media (prefers-color-scheme: dark) {
  .canvas-brush-section-title {
    color: #D1D5DB !important;
  }
}

/* Brush Grid */
.canvas-brush-grid {
  display: grid !important;
  grid-template-columns: 1fr !important;
  gap: 0.5rem !important;
}

.canvas-brush-option {
  background: rgba(0, 0, 0, 0.05) !important;
  border: 1px solid rgba(0, 0, 0, 0.1) !important;
  border-radius: 0.75rem !important;
  padding: 0.75rem !important;
  cursor: pointer !important;
  transition: all 0.2s ease-in-out !important;
  width: 100% !important;
}

.canvas-brush-option-default {
  color: #374151 !important;
}

.canvas-brush-option-default:hover {
  background: rgba(0, 0, 0, 0.1) !important;
  border-color: rgba(0, 0, 0, 0.2) !important;
  transform: translateY(-1px) !important;
}

.canvas-brush-option-active {
  background: rgba(139, 92, 246, 0.1) !important;
  color: #8B5CF6 !important;
  border-color: #8B5CF6 !important;
  transform: translateY(-1px) !important;
}

@media (prefers-color-scheme: dark) {
  .canvas-brush-option {
    background: rgba(255, 255, 255, 0.05) !important;
    border-color: rgba(255, 255, 255, 0.1) !important;
  }
  
  .canvas-brush-option-default {
    color: #D1D5DB !important;
  }
  
  .canvas-brush-option-default:hover {
    background: rgba(255, 255, 255, 0.1) !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
  }
}

.canvas-brush-option-content {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
  position: relative !important;
}

.canvas-brush-option-label {
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  flex: 1 !important;
}

.canvas-brush-option-check {
  height: 1rem !important;
  width: 1rem !important;
  position: absolute !important;
  right: 0 !important;
  color: #8B5CF6 !important;
}

/* Mobile Responsiveness for Brush Modal */
/* Mobile Responsiveness for Character Modal */
@media (max-width: 480px) {
  .canvas-character-modal-overlay {
    padding: 0.5rem !important;
    padding-top: 4rem !important;
    padding-bottom: 4rem !important;
  }
  
  .canvas-character-modal {
    padding: 0.875rem !important;
    max-height: 85vh !important;
  }
  
  .canvas-character-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 0.5rem !important;
  }
  
  .canvas-character-info {
    padding: 0.5rem !important;
  }
  
  .canvas-character-name {
    font-size: 0.75rem !important;
  }
  
  .canvas-character-date {
    font-size: 0.5625rem !important;
  }
  
  .canvas-character-import-button {
    padding: 0.25rem 0.375rem !important;
    font-size: 0.6875rem !important;
  }
  
  .canvas-brush-modal {
    margin: 0.5rem !important;
    padding: 1rem !important;
    max-height: 90vh !important;
  }
  
  /* Extra compact tool groups on small phones */
  .canvas-drawer-tool-group {
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 0.375rem !important;
  }
  
  .canvas-tool-button {
    min-width: 2.5rem !important;
    min-height: 2.5rem !important;
    padding: 0.375rem !important;
  }
  
  .canvas-tool-label {
    font-size: 0.5rem !important;
  }
  
  .canvas-tool-sublabel {
    font-size: 0.4375rem !important;
  }
}

/* Drawer Overlay */
.canvas-drawer-overlay {
  position: fixed !important;
  inset: 0 !important;
  background-color: rgba(0, 0, 0, 0.3) !important;
  z-index: 1001 !important;
}

/* Toolbar Drawer */
.canvas-toolbar-drawer {
  position: fixed !important;
  background-color: #1F2937 !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  border: 1px solid #374151 !important;
  z-index: 1002 !important;
  transition: transform 0.3s ease-in-out !important;
  overflow-y: auto !important;
}

.canvas-toolbar-drawer-portrait {
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  max-height: 70vh !important;
  border-radius: 1.5rem 1.5rem 0 0 !important;
  padding: 1.5rem !important;
}

/* More compact on mobile */
@media (max-width: 768px) {
  .canvas-toolbar-drawer-portrait {
    padding: 1rem !important;
    max-height: 75vh !important;
  }
  
  .canvas-drawer-section {
    margin-bottom: 1rem !important;
  }
  
  .canvas-drawer-header {
    margin-bottom: 1rem !important;
    padding-bottom: 0.75rem !important;
  }
  
  .canvas-drawer-title {
    font-size: 1rem !important;
  }
  
  .canvas-drawer-section-title {
    font-size: 0.75rem !important;
    margin-bottom: 0.5rem !important;
  }
}

.canvas-toolbar-drawer-landscape {
  top: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 20rem !important;
  border-radius: 1.5rem 0 0 1.5rem !important;
  padding: 1.5rem !important;
}

@media (max-width: 480px) {
  .canvas-toolbar-drawer-landscape {
    width: 100vw !important;
    border-radius: 0 !important;
  }
}

.canvas-toolbar-drawer-closed.canvas-toolbar-drawer-portrait {
  transform: translateY(100%) !important;
}

.canvas-toolbar-drawer-closed.canvas-toolbar-drawer-landscape {
  transform: translateX(100%) !important;
}

.canvas-toolbar-drawer-open {
  transform: translateY(0) translateX(0) !important;
}

/* Drawer Header */
.canvas-drawer-header {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  margin-bottom: 1.5rem !important;
  padding-bottom: 1rem !important;
  border-bottom: 1px solid #374151 !important;
}

.canvas-drawer-title {
  color: #FFFFFF !important;
  font-size: 1.125rem !important;
  font-weight: 600 !important;
  margin: 0 !important;
}

.canvas-drawer-close {
  background: none !important;
  border: none !important;
  color: #9CA3AF !important;
  cursor: pointer !important;
  padding: 0.25rem !important;
  border-radius: 0.375rem !important;
  transition: color 0.2s ease-in-out !important;
}

.canvas-drawer-close:hover {
  color: #FFFFFF !important;
}

/* Drawer Sections */
.canvas-drawer-section {
  margin-bottom: 1.5rem !important;
}

.canvas-drawer-section:last-child {
  margin-bottom: 0 !important;
}

.canvas-drawer-section-title {
  color: #D1D5DB !important;
  font-size: 0.875rem !important;
  font-weight: 600 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
  margin: 0 0 0.75rem 0 !important;
}

/* Tool Groups */
.canvas-drawer-tool-group {
  display: grid !important;
  gap: 0.75rem !important;
}



/* Brush Preview Icons */
.canvas-brush-preview {
  width: 1.5rem !important;
  height: 1.5rem !important;
  border-radius: 0.25rem !important;
  background-color: currentColor !important;
  position: relative !important;
}

.canvas-brush-preview-soft {
  border-radius: 50% !important;
  opacity: 0.7 !important;
}

.canvas-brush-preview-round {
  border-radius: 50% !important;
}

.canvas-brush-preview-pencil {
  border-radius: 0.125rem !important;
}

.canvas-brush-preview-marker {
  border-radius: 0.375rem !important;
  transform: rotate(45deg) !important;
}

.canvas-brush-preview-airbrush {
  border-radius: 50% !important;
  opacity: 0.5 !important;
  box-shadow: 0 0 8px currentColor !important;
}

@media (max-width: 768px) {
  .canvas-drawer-tool-group {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

@media (min-width: 769px) {
  .canvas-drawer-tool-group {
    grid-template-columns: repeat(3, 1fr) !important;
  }

  .canvas-toolbar-drawer-landscape .canvas-drawer-tool-group {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

@media (min-width: 1200px) {
  .canvas-drawer-tool-group {
    grid-template-columns: repeat(3, 1fr) !important;
  }

  .canvas-toolbar-drawer-landscape .canvas-drawer-tool-group {
    grid-template-columns: repeat(3, 1fr) !important;
  }
}

/* Tool Buttons */
.canvas-tool-button {
  border-radius: 0.75rem !important;
  padding: 0.75rem !important;
  min-width: 4rem !important;
  min-height: 4rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  transition: all 0.2s ease-in-out !important;
  border: none !important;
  cursor: pointer !important;
  position: relative !important;
}

/* Compact mobile buttons */
@media (max-width: 768px) {
  .canvas-tool-button {
    min-width: 3rem !important;
    min-height: 3rem !important;
    padding: 0.5rem !important;
  }
  
  .canvas-tool-label {
    font-size: 0.625rem !important;
  }
  
  .canvas-tool-sublabel {
    font-size: 0.5rem !important;
  }
}

.canvas-tool-content {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 0.25rem !important;
}

.canvas-tool-label {
  font-size: 0.75rem !important;
  font-weight: 500 !important;
  text-align: center !important;
  line-height: 1 !important;
  color: inherit !important;
}

.canvas-tool-sublabel {
  font-size: 0.625rem !important;
  font-weight: 400 !important;
  text-align: center !important;
  line-height: 1 !important;
  color: inherit !important;
  opacity: 0.7 !important;
  text-transform: capitalize !important;
}

.canvas-tool-button-default {
  background-color: #374151 !important;
  color: #9CA3AF !important;
  border: 1px solid #4B5563 !important;
}

.canvas-tool-button-default:hover {
  background-color: #4B5563 !important;
  border-color: #6B7280 !important;
  transform: translateY(-1px) !important;
}

.canvas-tool-button-active {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border: 1px solid #A855F7 !important;
  box-shadow: 0 10px 15px -3px rgba(139, 92, 246, 0.5), 0 0 0 3px rgba(139, 92, 246, 0.1) !important;
  transform: translateY(-2px) !important;
}

.canvas-tool-button-active::after {
  content: '' !important;
  position: absolute !important;
  top: -2px !important;
  right: -2px !important;
  width: 8px !important;
  height: 8px !important;
  background-color: #10B981 !important;
  border-radius: 50% !important;
  border: 2px solid #1F2937 !important;
}

.canvas-tool-button-destructive {
  background-color: #374151 !important;
  color: #EF4444 !important;
  border: 1px solid #7F1D1D !important;
}

.canvas-tool-button-destructive:hover {
  background-color: #7F1D1D !important;
  color: #FFFFFF !important;
  transform: translateY(-1px) !important;
}

.canvas-tool-button-large {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border: 1px solid #A855F7 !important;
  border-radius: 1rem !important;
  padding: 1rem !important;
  min-width: 5rem !important;
  min-height: 5rem !important;
  box-shadow: 0 10px 15px -3px rgba(139, 92, 246, 0.3) !important;
  grid-column: span 2 !important;
}

.canvas-tool-button-large .canvas-tool-content {
  gap: 0.5rem !important;
}

.canvas-tool-button-large .canvas-tool-label {
  font-size: 0.875rem !important;
  font-weight: 600 !important;
}

.canvas-tool-button-large:hover {
  background-color: #7C3AED !important;
  transform: translateY(-2px) !important;
  box-shadow: 0 15px 25px -5px rgba(139, 92, 246, 0.4) !important;
}

/* Tool Icons */
.canvas-tool-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
  transition: transform 0.2s ease-in-out !important;
}

.canvas-tool-button:hover .canvas-tool-icon {
  transform: scale(1.1) !important;
}

.canvas-tool-button-large .canvas-tool-icon {
  height: 1.5rem !important;
  width: 1.5rem !important;
}

/* Custom Tool Icons (CSS-based) */
.canvas-eraser-icon {
  width: 1.25rem !important;
  height: 1.25rem !important;
  border: 2px solid currentColor !important;
  border-radius: 0.25rem !important;
  position: relative !important;
  transition: transform 0.2s ease-in-out !important;
  transform: rotate(-15deg) !important;
}

.canvas-eraser-icon::after {
  content: '' !important;
  position: absolute !important;
  top: -2px !important;
  left: -2px !important;
  right: -2px !important;
  height: 30% !important;
  border-bottom: 2px solid currentColor !important;
}

.canvas-fill-icon {
  width: 1.25rem !important;
  height: 1.25rem !important;
  background-color: currentColor !important;
  border-radius: 50% 50% 50% 0 !important;
  transform: rotate(-45deg) !important;
  transition: transform 0.2s ease-in-out !important;
}

.canvas-tool-button:hover .canvas-fill-icon {
  transform: rotate(-45deg) scale(1.1) !important;
}

.canvas-square-icon {
  width: 1.25rem !important;
  height: 1.25rem !important;
  border: 2px solid currentColor !important;
  border-radius: 0.125rem !important;
  transition: transform 0.2s ease-in-out !important;
}

.canvas-circle-icon {
  width: 1.25rem !important;
  height: 1.25rem !important;
  border: 2px solid currentColor !important;
  border-radius: 50% !important;
  transition: transform 0.2s ease-in-out !important;
}

.canvas-line-icon {
  width: 1.25rem !important;
  height: 2px !important;
  background-color: currentColor !important;
  transform: rotate(45deg) !important;
  transition: transform 0.2s ease-in-out !important;
}

.canvas-tool-button:hover .canvas-line-icon {
  transform: rotate(45deg) scale(1.1) !important;
}

.canvas-triangle-icon {
  width: 0 !important;
  height: 0 !important;
  border-left: 0.625rem solid transparent !important;
  border-right: 0.625rem solid transparent !important;
  border-bottom: 1.25rem solid currentColor !important;
  transition: transform 0.2s ease-in-out !important;
}

.canvas-tool-button:hover .canvas-triangle-icon {
  transform: scale(1.1) !important;
}

.canvas-star-icon {
  width: 1.25rem !important;
  height: 1.25rem !important;
  position: relative !important;
  background-color: currentColor !important;
  clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%) !important;
  transition: transform 0.2s ease-in-out !important;
}

.canvas-tool-button:hover .canvas-star-icon {
  transform: scale(1.1) !important;
}

.canvas-arrow-icon {
  width: 1.25rem !important;
  height: 1.25rem !important;
  position: relative !important;
  background-color: currentColor !important;
  clip-path: polygon(0% 40%, 60% 40%, 60% 20%, 100% 50%, 60% 80%, 60% 60%, 0% 60%) !important;
  transition: transform 0.2s ease-in-out !important;
}

.canvas-tool-button:hover .canvas-arrow-icon {
  transform: scale(1.1) !important;
}

.canvas-heart-icon {
  width: 1.25rem !important;
  height: 1.125rem !important;
  position: relative !important;
  background-color: currentColor !important;
  border-radius: 0 0 1.25rem 1.25rem !important;
  transform: rotate(-45deg) !important;
  transition: transform 0.2s ease-in-out !important;
}

.canvas-heart-icon::before {
  content: '' !important;
  width: 0.625rem !important;
  height: 1rem !important;
  position: absolute !important;
  left: 0.625rem !important;
  top: -0.5rem !important;
  background-color: currentColor !important;
  border-radius: 0.625rem 0.625rem 0 0 !important;
  transform: rotate(-45deg) !important;
  transform-origin: 0 100% !important;
}

.canvas-heart-icon::after {
  content: '' !important;
  width: 0.625rem !important;
  height: 1rem !important;
  position: absolute !important;
  left: 0 !important;
  top: -0.5rem !important;
  background-color: currentColor !important;
  border-radius: 0.625rem 0.625rem 0 0 !important;
  transform: rotate(45deg) !important;
  transform-origin: 100% 100% !important;
}

.canvas-tool-button:hover .canvas-heart-icon {
  transform: rotate(-45deg) scale(1.1) !important;
}

/* ============================================
   BRUSH TYPE ICONS - Dynamic Icons
   ============================================ */

/* Soft Brush - Fuzzy circle with gradient */
.canvas-brush-soft-icon {
  width: 1.25rem !important;
  height: 1.25rem !important;
  border-radius: 50% !important;
  background: radial-gradient(circle, currentColor 30%, transparent 70%) !important;
  opacity: 0.8 !important;
  transition: transform 0.2s ease-in-out !important;
}

/* Marker Brush - Thick angled stroke */
.canvas-brush-marker-icon {
  width: 1.25rem !important;
  height: 0.5rem !important;
  background-color: currentColor !important;
  border-radius: 0.125rem !important;
  transform: rotate(-30deg) !important;
  transition: transform 0.2s ease-in-out !important;
}

/* Airbrush - Spray pattern */
.canvas-brush-airbrush-icon {
  width: 1.25rem !important;
  height: 1.25rem !important;
  position: relative !important;
  transition: transform 0.2s ease-in-out !important;
}

.canvas-brush-airbrush-icon::before {
  content: '' !important;
  position: absolute !important;
  width: 0.75rem !important;
  height: 0.75rem !important;
  border-radius: 50% !important;
  background: radial-gradient(circle, currentColor 20%, transparent 60%) !important;
  opacity: 0.6 !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
}

.canvas-brush-airbrush-icon::after {
  content: '' !important;
  position: absolute !important;
  width: 0.375rem !important;
  height: 0.375rem !important;
  border-radius: 50% !important;
  background-color: currentColor !important;
  opacity: 0.4 !important;
  top: 20% !important;
  left: 70% !important;
}

/* Shape Emoji Icons - For star, heart, arrow */
.canvas-shape-emoji-icon {
  font-size: 1.25rem !important;
  line-height: 1 !important;
  display: inline-block !important;
  transition: transform 0.2s ease-in-out !important;
}

/* Hover effects for brush icons */
.canvas-studio-tool-btn:hover .canvas-brush-soft-icon,
.canvas-studio-tool-btn:hover .canvas-brush-marker-icon,
.canvas-studio-tool-btn:hover .canvas-brush-airbrush-icon,
.canvas-studio-tool-btn:hover .canvas-shape-emoji-icon {
  transform: scale(1.1) !important;
}

.canvas-studio-mobile-tool:hover .canvas-brush-soft-icon,
.canvas-studio-mobile-tool:hover .canvas-brush-marker-icon,
.canvas-studio-mobile-tool:hover .canvas-brush-airbrush-icon,
.canvas-studio-mobile-tool:hover .canvas-shape-emoji-icon {
  transform: scale(1.1) !important;
}

/* Color Picker Button in Drawer */
.canvas-color-picker {
  position: relative !important;
  background-color: #374151 !important;
  border: 2px solid #4B5563 !important;
}

.canvas-color-picker:hover {
  border-color: #8B5CF6 !important;
  transform: translateY(-1px) !important;
}

.canvas-color-swatch {
  width: 2rem !important;
  height: 2rem !important;
  border-radius: 0.5rem !important;
  border: 3px solid #FFFFFF !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
}

/* Brush Selection Menu */
.canvas-brush-menu {
  background-color: #1F2937 !important;
  border-radius: 0.75rem !important;
  padding: 0.75rem !important;
  position: absolute !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  border: 1px solid #374151 !important;
  z-index: 20 !important;
}

.canvas-brush-menu-portrait {
  bottom: 5rem !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
}

.canvas-brush-menu-landscape {
  right: 6rem !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
}

.canvas-brush-menu-item {
  padding: 0.5rem 1rem !important;
  border-radius: 0.5rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  cursor: pointer !important;
  transition: background-color 0.2s ease-in-out !important;
  margin-bottom: 0.25rem !important;
}

.canvas-brush-menu-item:last-child {
  margin-bottom: 0 !important;
}

.canvas-brush-menu-item-default {
  background-color: #374151 !important;
  color: #9CA3AF !important;
}

.canvas-brush-menu-item-default:hover {
  background-color: #4B5563 !important;
}

.canvas-brush-menu-item-active {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
}

.canvas-brush-check-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #FFFFFF !important;
}

/* Character Import Modal - Responsive with proper spacing */
.canvas-character-modal-overlay {
  position: fixed !important;
  inset: 0 !important;
  background-color: rgba(0, 0, 0, 0.4) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 1rem !important;
  padding-top: 5rem !important;
  padding-bottom: 5rem !important;
  z-index: 1003 !important;
  animation: fadeIn 0.2s ease-out !important;
}

.canvas-character-modal {
  background: rgba(31, 41, 55, 0.95) !important;
  backdrop-filter: blur(20px) !important;
  -webkit-backdrop-filter: blur(20px) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: 1.5rem !important;
  padding: 1rem !important;
  max-width: 28rem !important;
  width: 100% !important;
  max-height: 80vh !important;
  overflow-y: auto !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.05) !important;
  animation: slideIn 0.3s ease-out !important;
}

.canvas-character-modal-header {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  margin-bottom: 1rem !important;
  padding-bottom: 0.75rem !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.canvas-character-modal-title-group {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

.canvas-character-modal-icon {
  height: 1.5rem !important;
  width: 1.5rem !important;
  color: #8B5CF6 !important;
}

.canvas-character-modal-title {
  color: #FFFFFF !important;
  font-size: 1.125rem !important;
  font-weight: 600 !important;
  margin: 0 !important;
}

.canvas-character-modal-close {
  color: #9CA3AF !important;
  background: rgba(0, 0, 0, 0.2) !important;
  border: none !important;
  border-radius: 0.375rem !important;
  cursor: pointer !important;
  padding: 0.375rem !important;
  transition: all 0.2s ease-in-out !important;
}

.canvas-character-modal-close:hover {
  color: #FFFFFF !important;
  background: rgba(0, 0, 0, 0.4) !important;
}

.canvas-character-modal-subtitle {
  color: #9CA3AF !important;
  font-size: 0.8125rem !important;
  margin-bottom: 1rem !important;
  line-height: 1.4 !important;
}

.canvas-character-upload-button {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border-radius: 0.75rem !important;
  padding: 0.75rem 1rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  width: 100% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 0.5rem !important;
  border: none !important;
  cursor: pointer !important;
  margin-bottom: 1rem !important;
  transition: all 0.2s ease-in-out !important;
}

.canvas-character-upload-button:hover {
  background-color: #7C3AED !important;
}

.canvas-character-grid {
  display: grid !important;
  grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  gap: 0.75rem !important;
}

@media (min-width: 480px) {
  .canvas-character-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
  }
}

.canvas-character-card {
  background-color: rgba(55, 65, 81, 0.8) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: 0.75rem !important;
  overflow: hidden !important;
  transition: all 0.2s ease-in-out !important;
}

.canvas-character-card:hover {
  background-color: rgba(55, 65, 81, 1) !important;
  border-color: rgba(139, 92, 246, 0.3) !important;
  transform: translateY(-1px) !important;
}

.canvas-character-image {
  aspect-ratio: 1 / 1 !important;
  background-color: #4B5563 !important;
  overflow: hidden !important;
  position: relative !important;
}

.canvas-character-img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
}

.canvas-character-info {
  padding: 0.75rem !important;
}

.canvas-character-name {
  color: #FFFFFF !important;
  font-size: 0.875rem !important;
  font-weight: 600 !important;
  margin: 0 0 0.25rem 0 !important;
  line-height: 1.2 !important;
}

.canvas-character-date {
  color: #9CA3AF !important;
  font-size: 0.625rem !important;
  margin: 0 0 0.5rem 0 !important;
}

.canvas-character-actions {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

.canvas-character-import-button {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border-radius: 0.375rem !important;
  padding: 0.375rem 0.5rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
  flex: 1 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 0.25rem !important;
  border: none !important;
  cursor: pointer !important;
  transition: all 0.2s ease-in-out !important;
}

.canvas-character-import-button:hover {
  background-color: #7C3AED !important;
  transform: translateY(-1px) !important;
}

.canvas-character-delete-button {
  background-color: rgba(239, 68, 68, 0.8) !important;
  color: #FFFFFF !important;
  border-radius: 0.375rem !important;
  padding: 0.375rem !important;
  border: none !important;
  cursor: pointer !important;
  transition: all 0.2s ease-in-out !important;
}

.canvas-character-delete-button:hover {
  background-color: #DC2626 !important;
  transform: translateY(-1px) !important;
}

.canvas-character-action-icon {
  height: 0.875rem !important;
  width: 0.875rem !important;
}

/* Portrait Mode Bottom Actions */
.canvas-bottom-actions {
  position: fixed !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  background-color: #1F2937 !important;
  border-radius: 2rem 2rem 0 0 !important;
  padding: 1rem !important;
  display: flex !important;
  box-shadow: 0 -10px 15px -3px rgba(0, 0, 0, 0.1) !important;
}

.canvas-bottom-action-button {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border-radius: 0.75rem !important;
  padding: 1rem !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 0.5rem !important;
  border: none !important;
  cursor: pointer !important;
  transition: all 0.2s ease-in-out !important;
}

.canvas-bottom-action-button:hover {
  background-color: #7C3AED !important;
  transform: translateY(-1px) !important;
}

.canvas-bottom-action-full {
  width: 100% !important;
}

/* Your Works Page Styles - Strictly following design profile */

/* Page Container */
.your-works-page {
  min-height: 100vh !important;
  background-color: #F9FAFB !important;
  padding: 1.5rem !important;
  padding-bottom: 6rem !important;
}

/* Page Header */
.your-works-header {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  margin-bottom: 1.5rem !important;
}

.your-works-header-left {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
}

.your-works-back-button {
  background: none !important;
  border: none !important;
  cursor: pointer !important;
}

.your-works-back-icon {
  height: 1.5rem !important;
  width: 1.5rem !important;
  color: #374151 !important;
}

.your-works-back-icon:hover {
  color: #111827 !important;
}

.your-works-title-group {
  display: flex !important;
  flex-direction: column !important;
}

.your-works-title {
  color: #111827 !important;
  font-size: 1.5rem !important;
  font-weight: 700 !important;
  margin: 0 !important;
}

.your-works-subtitle {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
  margin: 0.25rem 0 0 0 !important;
}

.your-works-new-button {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border: none !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  cursor: pointer !important;
}

.your-works-new-button:hover {
  background-color: #7C3AED !important;
}

.your-works-new-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #FFFFFF !important;
}

/* Search Bar */
.your-works-search-container {
  background-color: #FFFFFF !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 0.5rem !important;
  padding: 0.75rem 1rem !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  margin-bottom: 1rem !important;
}

.your-works-search-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
  color: #9CA3AF !important;
}

.your-works-search-input {
  background: transparent !important;
  border: none !important;
  color: #111827 !important;
  font-size: 0.875rem !important;
  width: 100% !important;
  outline: none !important;
}

.your-works-search-input::placeholder {
  color: #9CA3AF !important;
}

/* Filter Bar */
.your-works-filter-bar {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
  margin-bottom: 1rem !important;
  flex-wrap: wrap !important;
}

/* Mobile responsive filter bar */
@media (max-width: 640px) {
  .your-works-filter-bar {
    gap: 0.5rem !important;
  }
  
  .your-works-dropdown-button {
    min-width: auto !important;
    flex: 1 !important;
    padding: 0.5rem 0.75rem !important;
    font-size: 0.8rem !important;
  }
  
  .your-works-filter-icon {
    display: none !important;
  }
}

.your-works-filter-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
  color: #374151 !important;
}

/* Filter Dropdowns */
.your-works-dropdown-container {
  position: relative !important;
}

.your-works-dropdown-button {
  background-color: #FFFFFF !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  color: #374151 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 0.5rem !important;
  min-width: 6rem !important;
  cursor: pointer !important;
  white-space: nowrap !important;
}

.your-works-dropdown-button:hover {
  background-color: #F9FAFB !important;
}

.your-works-dropdown-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #6B7280 !important;
}

.your-works-dropdown-menu {
  position: absolute !important;
  z-index: 10 !important;
  background-color: #FFFFFF !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 0.5rem !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  padding: 0.5rem 0 !important;
  margin-top: 0.5rem !important;
  min-width: 100% !important;
}

.your-works-dropdown-item {
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  color: #374151 !important;
  cursor: pointer !important;
}

.your-works-dropdown-item:hover {
  background-color: #F9FAFB !important;
}

.your-works-dropdown-item-selected {
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  color: #111827 !important;
  font-weight: 500 !important;
  background-color: #FDF2F8 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  cursor: pointer !important;
}

.your-works-dropdown-checkmark {
  height: 1rem !important;
  width: 1rem !important;
  color: #EC4899 !important;
}

/* Results Count */
.your-works-results-count {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
  margin-bottom: 1rem !important;
  font-weight: 600 !important;
}

/* Story List */
.your-works-story-list {
  display: flex !important;
  flex-direction: column !important;
  gap: 1rem !important;
}

/* Story Cards */
.your-works-story-card {
  background-color: #FFFFFF !important;
  border-radius: 0.75rem !important;
  padding: 1rem !important;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
  border: 1px solid #F3F4F6 !important;
}

.your-works-card-header {
  display: flex !important;
  align-items: flex-start !important;
  justify-content: space-between !important;
  margin-bottom: 0.75rem !important;
}

.your-works-card-left-content {
  display: flex !important;
  align-items: flex-start !important;
  gap: 0.75rem !important;
  flex: 1 !important;
}

.your-works-story-icon {
  width: 2.5rem !important;
  height: 2.5rem !important;
  border-radius: 0.5rem !important;
  font-size: 1.25rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  background-color: #F3F4F6 !important;
  flex-shrink: 0 !important;
}

.your-works-story-info {
  display: flex !important;
  flex-direction: column !important;
  flex: 1 !important;
}

.your-works-story-title-row {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  margin-bottom: 0.25rem !important;
  flex-wrap: wrap !important;
}

.your-works-story-title {
  color: #111827 !important;
  font-size: 1rem !important;
  font-weight: 700 !important;
  margin: 0 !important;
}

.your-works-story-meta {
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
  margin-bottom: 0.25rem !important;
}

.your-works-story-pages {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
}

.your-works-story-separator {
  color: #9CA3AF !important;
  font-size: 0.875rem !important;
}

.your-works-story-genre {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
}

.your-works-story-date {
  color: #9CA3AF !important;
  font-size: 0.875rem !important;
  margin: 0 !important;
}

/* Status Badges */
.your-works-badge-published {
  background-color: #10B981 !important;
  color: #FFFFFF !important;
  border-radius: 0.25rem !important;
  padding: 0.125rem 0.5rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.your-works-badge-draft {
  background-color: #F59E0B !important;
  color: #FFFFFF !important;
  border-radius: 0.25rem !important;
  padding: 0.125rem 0.5rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

.your-works-badge-review {
  background-color: #3B82F6 !important;
  color: #FFFFFF !important;
  border-radius: 0.25rem !important;
  padding: 0.125rem 0.5rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

/* Story Stats */
.your-works-story-stats {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
  margin-bottom: 0.75rem !important;
}

.your-works-stat-item {
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
}

.your-works-likes-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #EC4899 !important;
}

.your-works-stat-text {
  color: #6B7280 !important;
  font-size: 0.875rem !important;
}

/* Action Buttons */
.your-works-action-buttons {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  justify-content: flex-end !important;
}

.your-works-action-button {
  background-color: #F3F4F6 !important;
  border: none !important;
  border-radius: 0.375rem !important;
  padding: 0.5rem !important;
  cursor: pointer !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.your-works-action-button:hover {
  background-color: #E5E7EB !important;
}

.your-works-view-button {
  color: #6B7280 !important;
}

.your-works-edit-button {
  color: #6B7280 !important;
}

.your-works-share-button {
  color: #6B7280 !important;
}

.your-works-delete-button {
  color: #EF4444 !important;
}

.your-works-delete-button:hover {
  background-color: #FEE2E2 !important;
}

.your-works-action-icon {
  height: 1rem !important;
  width: 1rem !important;
}

/* Library Page Specific Styles - Design Profile Compliance */
/* Scoped to library page only to avoid affecting other pages */
.library-page {
  min-height: 100vh !important;
  background: linear-gradient(135deg, #F9FAFB 0%, #F3F4F6 100%) !important;
  padding: 1.5rem !important;
  padding-bottom: 6rem !important;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

.library-page .library-header {
  margin-bottom: 1.5rem !important;
}

.library-page .library-title {
  font-size: 1.5rem !important;
  font-weight: 700 !important;
  color: #111827 !important;
  margin-bottom: 0.5rem !important;
}

.library-page .library-subtitle {
  font-size: 0.875rem !important;
  color: #6B7280 !important;
  margin-bottom: 1.5rem !important;
}

.library-page .library-section {
  margin-bottom: 1.5rem !important;
}

.library-page .library-section-header {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  margin-bottom: 1rem !important;
  padding: 0.5rem 0 !important;
}

.library-page .library-section-header::after {
  content: '' !important;
  flex: 1 !important;
  height: 1px !important;
  background: linear-gradient(to right, #E5E7EB, transparent) !important;
  margin-left: 1rem !important;
}

.library-page .library-section-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
  color: #8B5CF6 !important;
}

.library-page .library-section-title {
  font-size: 1.125rem !important;
  font-weight: 700 !important;
  color: #111827 !important;
}

.library-page .library-story-list {
  display: flex !important;
  flex-direction: column !important;
  gap: 0.75rem !important;
  margin-bottom: 1.5rem !important;
}

.library-page .library-story-item {
  background-color: #FFFFFF !important;
  border-radius: 0.75rem !important;
  padding: 1rem !important;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 1px 3px 0 rgba(0, 0, 0, 0.06) !important;
  border: 1px solid #E5E7EB !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  transition: all 0.2s ease-in-out !important;
}

.library-page .library-story-item:hover {
  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.12), 0 2px 6px 0 rgba(0, 0, 0, 0.08) !important;
  transform: translateY(-1px) !important;
}

.library-page .library-story-content {
  flex: 1 !important;
}

.library-page .library-story-title {
  font-size: 1rem !important;
  font-weight: 600 !important;
  color: #111827 !important;
  margin-bottom: 0.25rem !important;
}

.library-story-metadata {
  font-size: 0.875rem !important;
  color: #6B7280 !important;
  margin-bottom: 0.5rem !important;
}

.library-story-stats {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
}

.library-story-rating {
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
}

.library-rating-star {
  height: 1rem !important;
  width: 1rem !important;
  color: #F59E0B !important;
}

.library-rating-value {
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  color: #374151 !important;
}

.library-story-downloads {
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
}

.library-download-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #9CA3AF !important;
}

.library-download-count {
  font-size: 0.875rem !important;
  color: #6B7280 !important;
}

.library-story-actions {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

.library-button-read {
  background-color: #FFFFFF !important;
  color: #8B5CF6 !important;
  border: 1px solid #D8B4FE !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  transition: all 0.2s ease-in-out !important;
  box-shadow: 0 1px 2px 0 rgba(139, 92, 246, 0.1) !important;
}

.library-button-read:hover {
  background-color: #F3E8FF !important;
  border-color: #C084FC !important;
  box-shadow: 0 2px 4px 0 rgba(139, 92, 246, 0.2) !important;
  transform: translateY(-1px) !important;
}

.library-button-view {
  background-color: #FFFFFF !important;
  color: #BE185D !important;
  border: 1px solid #F3B4D1 !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
  transition: all 0.2s ease-in-out !important;
  box-shadow: 0 2px 4px 0 rgba(236, 72, 153, 0.1) !important;
}

.library-button-view:hover {
  background-color: #FCE7F3 !important;
  color: #BE185D !important;
  border: 1px solid #EC4899 !important;
  box-shadow: 0 2px 4px 0 rgba(236, 72, 153, 0.2) !important;
  transform: translateY(-1px) !important;
}

.library-button-edit {
  background-color: #F9FAFB !important;
  color: #4B5563 !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem !important;
  transition: all 0.2s ease-in-out !important;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
}

.library-button-edit:hover {
  background-color: #F3F4F6 !important;
  border-color: #D1D5DB !important;
  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1) !important;
  transform: translateY(-1px) !important;
}

.library-button-share {
  background-color: #F9FAFB !important;
  color: #4B5563 !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem !important;
  transition: all 0.2s ease-in-out !important;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
}

.library-button-share:hover {
  background-color: #F3F4F6 !important;
  border-color: #D1D5DB !important;
  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1) !important;
  transform: translateY(-1px) !important;
}

.library-browse-button {
  width: 100% !important;
  background-color: #FFFFFF !important;
  color: #8B5CF6 !important;
  border: 1px solid #D8B4FE !important;
  border-radius: 0.5rem !important;
  padding: 0.75rem 1.5rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  text-align: center !important;
  margin-bottom: 1.5rem !important;
  transition: all 0.2s ease-in-out !important;
  box-shadow: 0 1px 3px 0 rgba(139, 92, 246, 0.1) !important;
}

.library-browse-button:hover {
  background-color: #F3E8FF !important;
  border-color: #C084FC !important;
  box-shadow: 0 2px 6px 0 rgba(139, 92, 246, 0.15) !important;
  transform: translateY(-1px) !important;
}

.library-character-section {
  background-color: #FFFFFF !important;
  border-radius: 1rem !important;
  padding: 1.5rem !important;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 1px 3px 0 rgba(0, 0, 0, 0.06) !important;
  border: 1px solid #E5E7EB !important;
  text-align: center !important;
  margin-bottom: 1.5rem !important;
  transition: all 0.2s ease-in-out !important;
}

.library-character-section:hover {
  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.12), 0 2px 6px 0 rgba(0, 0, 0, 0.08) !important;
  transform: translateY(-2px) !important;
}

.library-character-illustration {
  height: 4rem !important;
  width: 4rem !important;
  margin: 0 auto 1rem auto !important;
  font-size: 3.75rem !important;
}

.library-character-title {
  font-size: 1.125rem !important;
  font-weight: 700 !important;
  color: #111827 !important;
  margin-bottom: 0.5rem !important;
}

.library-character-description {
  font-size: 0.875rem !important;
  color: #6B7280 !important;
  margin-bottom: 1rem !important;
}

.library-character-button {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border: none !important;
  border-radius: 0.5rem !important;
  padding: 0.75rem 1.5rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 0.5rem !important;
  margin: 0 auto !important;
  transition: all 0.2s ease-in-out !important;
  box-shadow: 0 2px 4px 0 rgba(139, 92, 246, 0.2) !important;
}

.library-character-button:hover {
  background-color: #7C3AED !important;
  box-shadow: 0 4px 8px 0 rgba(139, 92, 246, 0.3) !important;
  transform: translateY(-1px) !important;
}

/* Animation keyframes for subtle entrance effects */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.library-page .library-section {
  animation: fadeInUp 0.6s ease-out !important;
}

.library-page .library-section:nth-child(1) { animation-delay: 0.1s !important; }
.library-page .library-section:nth-child(2) { animation-delay: 0.2s !important; }
.library-page .library-section:nth-child(3) { animation-delay: 0.3s !important; }
.library-page .library-section:nth-child(4) { animation-delay: 0.4s !important; }

/* Subtle pulse animation for section icons */
@keyframes iconPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.library-page .library-section-icon {
  animation: iconPulse 2s ease-in-out infinite !important;
}

/* Additional styling to match screenshots exactly - Library page only */
.library-page .library-story-stats {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
  margin-top: 0.5rem !important;
}

.library-page .library-story-likes {
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
  font-size: 0.875rem !important;
  color: #6B7280 !important;
}

.library-page .library-story-metadata {
  font-size: 0.875rem !important;
  color: #6B7280 !important;
  margin-bottom: 0.5rem !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

.library-page .library-metadata-separator {
  color: #D1D5DB !important;
}

/* Enhanced section styling to match screenshots */
.library-section-title {
  font-size: 1.125rem !important;
  font-weight: 700 !important;
  color: #111827 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

/* Remove automatic emoji addition - we'll use the actual icons */

/* Character section emoji styling */
.library-character-illustration {
  height: 4rem !important;
  width: 4rem !important;
  margin: 0 auto 1rem auto !important;
  font-size: 3.75rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Enhanced button styling for better visual hierarchy */
.library-button-read {
  background-color: #FFFFFF !important;
  color: #8B5CF6 !important;
  border: 1px solid #D8B4FE !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  transition: all 0.2s ease-in-out !important;
  box-shadow: 0 1px 2px 0 rgba(139, 92, 246, 0.1) !important;
  min-width: 60px !important;
  text-align: center !important;
}

.library-button-view {
  background-color: #FFFFFF !important;
  color: #BE185D !important;
  border: 1px solid #F3B4D1 !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
  transition: all 0.2s ease-in-out !important;
  box-shadow: 0 2px 4px 0 rgba(236, 72, 153, 0.1) !important;
  min-width: 60px !important;
  justify-content: center !important;
}

/* Story rating and download styling */
.library-rating-container {
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
}

.library-rating-star {
  height: 1rem !important;
  width: 1rem !important;
  color: #F59E0B !important;
  fill: currentColor !important;
}

.library-rating-value {
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  color: #374151 !important;
}

.library-download-container {
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
}

.library-download-icon {
  height: 1rem !important;
  width: 1rem !important;
  color: #9CA3AF !important;
}

.library-download-count {
  font-size: 0.875rem !important;
  color: #6B7280 !important;
}

/* Enhanced spacing for better visual hierarchy - Library page only */
.library-page .library-story-item {
  background-color: #FFFFFF !important;
  border-radius: 0.75rem !important;
  padding: 1rem !important;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 1px 3px 0 rgba(0, 0, 0, 0.06) !important;
  border: 1px solid #E5E7EB !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  transition: all 0.2s ease-in-out !important;
  margin-bottom: 0.75rem !important;
}

/* Character section specific styling - Library page only */
.library-page .library-character-section {
  background-color: #FFFFFF !important;
  border-radius: 1rem !important;
  padding: 1.5rem !important;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 1px 3px 0 rgba(0, 0, 0, 0.06) !important;
  border: 1px solid #E5E7EB !important;
  text-align: center !important;
  margin-bottom: 1.5rem !important;
  transition: all 0.2s ease-in-out !important;
}

.library-character-title {
  font-size: 1.125rem !important;
  font-weight: 700 !important;
  color: #111827 !important;
  margin-bottom: 0.5rem !important;
}

.library-character-description {
  font-size: 0.875rem !important;
  color: #6B7280 !important;
  margin-bottom: 1rem !important;
}

/* Browse button enhancements */
.library-browse-button {
  width: 100% !important;
  background-color: #FFFFFF !important;
  color: #8B5CF6 !important;
  border: 1px solid #D8B4FE !important;
  border-radius: 0.5rem !important;
  padding: 0.75rem 1.5rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  text-align: center !important;
  margin-bottom: 1.5rem !important;
  transition: all 0.2s ease-in-out !important;
  box-shadow: 0 1px 3px 0 rgba(139, 92, 246, 0.1) !important;
}

/* Ensure HomePage styles are preserved and not affected by Library CSS */
.magical-home {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

.magical-card {
  border-radius: 1.5rem !important; /* Ensure cards stay rounded */
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

/* Light mode specific overrides for magical-home - HIGHEST PRIORITY */
body:not(.dark) .magical-home .card-title,
body:not(.dark) .magical-home h1,
body:not(.dark) .magical-home h2,
body:not(.dark) .magical-home h3,
body:not(.dark) .magical-home h4,
body:not(.dark) .magical-home .card-description,
body:not(.dark) .magical-home p,
body:not(.dark) .magical-home .hero-title,
body:not(.dark) .magical-home .hero-subtitle,
body:not(.dark) .magical-home .section-title,
body:not(.dark) .magical-home .draft-title,
body:not(.dark) .magical-home .challenge-title {
  color: #1a0d2e !important;
  text-shadow: 0 2px 4px rgba(255, 255, 255, 0.5) !important;
}

/* Button text in light mode */
body:not(.dark) .magical-home .magical-button {
  color: #1a0d2e !important;
}

body:not(.dark) .magical-home .magical-button:hover {
  color: #ffffff !important;
}

/* Button text in dark mode */
body.dark .magical-home .magical-button,
body.dark .magical-home .magical-button span,
body.dark .magical-home button {
  color: #ffffff !important;
}

/* Dark mode for specific HomePage elements - OVERRIDE EVERYTHING */
html.dark .magical-home h1,
html.dark .magical-home h2,
html.dark .magical-home h3,
html.dark .magical-home h4,
html.dark .magical-home .hero-title,
html.dark .magical-home .hero-subtitle,
html.dark .magical-home .section-title,
html.dark .magical-home .card-title,
html.dark .magical-home .hero-content h1,
html.dark .magical-home .hero-content p,
html.dark .magical-home .challenge-title,
html.dark .magical-home .challenge-description,
html.dark .magical-home .card-description,
html.dark .magical-home p {
  color: #f1f5f9 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6) !important;
}

/* Dark mode for draft items */
html.dark .magical-home .draft-title,
html.dark .magical-home .draft-item h3,
html.dark .magical-home .draft-item h4,
html.dark .magical-home .draft-content h4 {
  color: #f1f5f9 !important;
}

html.dark .magical-home .draft-meta,
html.dark .magical-home .draft-date,
html.dark .magical-home .draft-content p {
  color: #cbd5e1 !important;
}

/* Dark mode button text - OVERRIDE EVERYTHING */
html.dark .magical-home .magical-button,
html.dark .magical-home .magical-button span,
html.dark .magical-home button,
html.dark .magical-home button span {
  color: #ffffff !important;
}

/* ULTIMATE DARK MODE OVERRIDE - Maximum Specificity */
html.dark body .magical-home h1,
html.dark body .magical-home h2,
html.dark body .magical-home h3,
html.dark body .magical-home h4,
html.dark body .magical-home p,
html.dark body .magical-home .hero-title,
html.dark body .magical-home .hero-subtitle,
html.dark body .magical-home .section-title,
html.dark body .magical-home .card-title,
html.dark body .magical-home .card-description,
html.dark body .magical-home .draft-title,
html.dark body .magical-home .challenge-title,
html.dark body .magical-home .challenge-description {
  color: #f1f5f9 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6) !important;
}

html.dark body .magical-home .magical-button,
html.dark body .magical-home button {
  color: #ffffff !important;
}

/* Preserve all HomePage card and button styling */
.magical-home .magical-card,
.magical-home .magical-button,
.magical-home .card-icon,
.magical-home .section-icon {
  font-family: inherit !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

/* Ensure HomePage cards maintain their rounded corners and styling */
.magical-home .magical-card {
  border-radius: 1.5rem !important;
  backdrop-filter: blur(20px) !important;
}

/* Protect HomePage elements from Library CSS interference */
.magical-home * {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

/* Restore original button styling for HomePage */
.magical-home .magical-button {
  border-radius: 0.75rem !important; /* Slightly rounded, not rectangle */
  font-family: inherit !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

/* Protect Profile, Settings, Social pages, and Navbar from Library CSS */
.settings-page,
.settings-page *,
.profile-page,
.profile-page *,
.social-page,
.social-page *,
.bottom-nav,
.bottom-nav *,
nav,
nav * {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

/* Ensure all non-library pages maintain original styling */
:not(.library-page) * {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

/* Additional protection for specific page components */
.profile-container,
.profile-container *,
.settings-container,
.settings-container *,
.social-container,
.social-container *,
.navbar-container,
.navbar-container *,
.bottom-navigation,
.bottom-navigation * {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

/* Ensure buttons maintain proper rounding on all pages except library */
:not(.library-page) button,
:not(.library-page) .btn,
:not(.library-page) .button {
  border-radius: 0.75rem !important; /* Slightly rounded corners */
}

/* Dark Mode Variables */
@media (prefers-color-scheme: dark) {
  :root {
    --background: hsl(263, 25%, 8%);
    --foreground: hsl(245, 50%, 95%);
    --primary: hsl(270, 85%, 70%);
    --card: hsl(263, 20%, 12%);
    --muted: hsl(263, 15%, 20%);
    --border: hsl(263, 10%, 25%);
  }
}

body {
  margin: 0;
  font-family: 'Comic Neue', cursive, var(--font-family-primary);
  background: var(--gradient-background);
  /* Scroll properties managed by the definitive fix below */
}

/* Magical Home Page Styles */
.magical-home {
  background: var(--gradient-hero);
  background-image: url('./assets/herobg2.png');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  min-height: 100vh;
  position: relative;
  width: 100%;
  max-width: 100vw;
  overflow-y: visible;
  overflow-x: hidden;
  height: auto;
}

/* Draft List Styles */
.drafts-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.draft-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px;
  background-color: rgba(139, 92, 246, 0.1);
  border-radius: 12px;
  border: 1px solid rgba(139, 92, 246, 0.2);
  gap: 16px;
  transition: all 0.3s ease;
}

.draft-item:hover {
  background-color: rgba(139, 92, 246, 0.15);
  border-color: rgba(139, 92, 246, 0.3);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2);
}

.draft-content {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.draft-title {
  font-size: 18px;
  font-weight: 700;
  color: #111827;
  margin: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  line-height: 1.4;
  word-break: break-word;
  text-align: center;
}

.draft-meta {
  font-size: 14px;
  color: #6B7280;
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  flex-wrap: wrap;
}

.draft-date {
  font-size: 12px;
  color: #9CA3AF;
  margin: 0;
  text-align: center;
}

.draft-continue-button {
  padding: 12px 24px;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  flex-shrink: 0;
  min-width: fit-content;
}

/* Dark mode for draft items */
.dark .draft-item {
  background-color: rgba(139, 92, 246, 0.15);
  border-color: rgba(139, 92, 246, 0.3);
}

.dark .draft-item:hover {
  background-color: rgba(139, 92, 246, 0.2);
  border-color: rgba(139, 92, 246, 0.4);
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.dark .draft-title {
  color: #F9FAFB;
}

.dark .draft-meta {
  color: #9CA3AF;
}

.dark .draft-date {
  color: #6B7280;
}

/* Feature Creation Buttons - Child-Friendly Vertical Design */
.creation-methods-container {
  margin: 0 auto 2rem;
  max-width: 500px;
  padding: 0 16px;
  background: transparent !important;
}

.creation-methods-grid {
  display: flex;
  flex-direction: column;
  gap: 16px;
  background: transparent !important;
}

/* Ensure creation-section parent is also transparent */
.creation-section {
  background: transparent !important;
}

.dark .creation-section {
  background: transparent !important;
}

.dark .creation-methods-container {
  background: transparent !important;
}

.dark .creation-methods-grid {
  background: transparent !important;
}

.feature-button {
  display: flex;
  align-items: center;
  gap: 20px;
  padding: 24px;
  background: rgba(255, 255, 255, 0.7);
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  border: 2px solid transparent;
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.feature-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0) 100%);
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.feature-button:hover::before {
  opacity: 1;
}

.feature-button:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.12);
}

.feature-button:active {
  transform: translateY(-2px);
  transition: all 0.1s ease;
}

.feature-button-icon-wrapper {
  width: 64px;
  height: 64px;
  border-radius: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.feature-button:hover .feature-button-icon-wrapper {
  transform: scale(1.1) rotate(-5deg);
}

.feature-button-icon {
  font-size: 36px;
  display: block;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.feature-button-content {
  flex: 1;
  text-align: left;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.feature-button-title {
  font-size: 18px;
  font-weight: 700;
  margin: 0;
  color: #1f2937;
  letter-spacing: 0.3px;
  line-height: 1.3;
}

.feature-button-subtitle {
  font-size: 14px;
  font-weight: 400;
  margin: 0;
  color: #6b7280;
  line-height: 1.4;
}

/* AI Story Button - Pastel Purple Theme */
.feature-button.ai-story {
  border-color: rgba(139, 127, 219, 0.6);
  background: rgba(224, 215, 255, 0.15);
  border-width: 3px;
}

.feature-button.ai-story:hover {
  border-color: rgba(139, 127, 219, 0.8);
  background: rgba(224, 215, 255, 0.25);
  box-shadow: 0 12px 32px rgba(139, 127, 219, 0.25);
}

.feature-button.ai-story .feature-button-icon-wrapper {
  background: linear-gradient(135deg, #e0d7ff 0%, #c7b9f4 100%);
  border: 3px solid rgba(139, 127, 219, 0.6);
}

/* Draw Story Button - Pastel Pink Theme */
.feature-button.draw-story {
  border-color: rgba(255, 141, 199, 0.6);
  background: rgba(255, 214, 232, 0.15);
  border-width: 3px;
}

.feature-button.draw-story:hover {
  border-color: rgba(255, 141, 199, 0.8);
  background: rgba(255, 214, 232, 0.25);
  box-shadow: 0 12px 32px rgba(255, 141, 199, 0.25);
}

.feature-button.draw-story .feature-button-icon-wrapper {
  background: linear-gradient(135deg, #ffd6e8 0%, #ffc0dd 100%);
  border: 3px solid rgba(255, 141, 199, 0.6);
}

/* Photo AI Button - Pastel Blue Theme */
.feature-button.photo-ai {
  border-color: rgba(95, 200, 255, 0.6);
  background: rgba(212, 241, 255, 0.15);
  border-width: 3px;
}

.feature-button.photo-ai:hover {
  border-color: rgba(95, 200, 255, 0.8);
  background: rgba(212, 241, 255, 0.25);
  box-shadow: 0 12px 32px rgba(95, 200, 255, 0.25);
}

.feature-button.photo-ai .feature-button-icon-wrapper {
  background: linear-gradient(135deg, #d4f1ff 0%, #b3e5fc 100%);
  border: 3px solid rgba(95, 200, 255, 0.6);
}

/* Dark Mode Styles */
.dark .feature-button {
  background: transparent;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.dark .feature-button:hover {
  box-shadow: 0 12px 36px rgba(0, 0, 0, 0.4);
}

.dark .feature-button-title {
  color: #f9fafb;
}

.dark .feature-button-subtitle {
  color: #9ca3af;
}

/* Dark mode - Enhanced icon backgrounds */
.dark .feature-button.ai-story {
  border-color: rgba(155, 135, 245, 0.6);
  background: rgba(139, 127, 219, 0.15);
}

.dark .feature-button.ai-story:hover {
  border-color: rgba(155, 135, 245, 0.8);
  background: rgba(139, 127, 219, 0.25);
  box-shadow: 0 12px 36px rgba(139, 127, 219, 0.35);
}

.dark .feature-button.ai-story .feature-button-icon-wrapper {
  background: linear-gradient(135deg, #9b87f5 0%, #8b7fdb 100%);
  box-shadow: 0 4px 16px rgba(139, 127, 219, 0.5);
  border: 2px solid rgba(155, 135, 245, 0.6);
}

.dark .feature-button.draw-story {
  border-color: rgba(255, 141, 199, 0.6);
  background: rgba(255, 107, 181, 0.15);
}

.dark .feature-button.draw-story:hover {
  border-color: rgba(255, 141, 199, 0.8);
  background: rgba(255, 107, 181, 0.25);
  box-shadow: 0 12px 36px rgba(255, 141, 199, 0.35);
}

.dark .feature-button.draw-story .feature-button-icon-wrapper {
  background: linear-gradient(135deg, #ff8dc7 0%, #ff6bb5 100%);
  box-shadow: 0 4px 16px rgba(255, 141, 199, 0.5);
  border: 2px solid rgba(255, 141, 199, 0.6);
}

.dark .feature-button.photo-ai {
  border-color: rgba(95, 200, 255, 0.6);
  background: rgba(62, 184, 240, 0.15);
}

.dark .feature-button.photo-ai:hover {
  border-color: rgba(95, 200, 255, 0.8);
  background: rgba(62, 184, 240, 0.25);
  box-shadow: 0 12px 36px rgba(95, 200, 255, 0.35);
}

.dark .feature-button.photo-ai .feature-button-icon-wrapper {
  background: linear-gradient(135deg, #5fc8ff 0%, #3eb8f0 100%);
  box-shadow: 0 4px 16px rgba(95, 200, 255, 0.5);
  border: 2px solid rgba(95, 200, 255, 0.6);
}

/* Responsive design for feature buttons */
@media (max-width: 640px) {
  .creation-methods-container {
    padding: 0 12px;
  }

  .creation-methods-grid {
    gap: 14px;
  }

  .feature-button {
    padding: 20px;
    gap: 16px;
  }

  .feature-button-icon-wrapper {
    width: 56px;
    height: 56px;
  }

  .feature-button-icon {
    font-size: 32px;
  }

  .feature-button-title {
    font-size: 16px;
  }

  .feature-button-subtitle {
    font-size: 13px;
  }
}

@media (min-width: 641px) and (max-width: 1024px) {
  .creation-methods-container {
    max-width: 480px;
  }

  .feature-button {
    padding: 22px;
  }
}

/* Library Filter Button Styles */
.library-filter-btn,
.public-library-filter-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 20px;
  background-color: #ffffff !important;
  color: #1f2937 !important;
  border: 2px solid #e5e7eb !important;
  border-radius: 12px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.library-filter-btn:hover,
.public-library-filter-btn:hover {
  background-color: #f9fafb !important;
  border-color: #d1d5db !important;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.library-filter-btn:active,
.public-library-filter-btn:active {
  transform: translateY(0);
}

/* Dark mode for filter buttons */
.dark .library-filter-btn,
.dark .public-library-filter-btn {
  background-color: #2a2435 !important;
  color: #ffffff !important;
}

.dark .library-filter-btn:hover,
.dark .public-library-filter-btn:hover {
  background-color: #3a3445 !important;
  box-shadow: 0 4px 12px rgba(42, 36, 53, 0.5);
}

/* Responsive design for draft items */
@media (max-width: 640px) {
  .draft-item {
    flex-direction: column;
    align-items: stretch;
    gap: 12px;
    padding: 14px;
  }

  .draft-title {
    font-size: 16px;
    -webkit-line-clamp: 3;
  }

  .draft-meta {
    font-size: 13px;
  }

  .draft-date {
    font-size: 11px;
  }

  .draft-continue-button {
    width: 100%;
    padding: 10px 20px;
    font-size: 13px;
  }
}

@media (min-width: 641px) and (max-width: 1024px) {
  .draft-item {
    gap: 12px;
    padding: 14px;
  }

  .draft-title {
    font-size: 17px;
  }

  .draft-continue-button {
    padding: 10px 20px;
    font-size: 13px;
  }
}

/* Dark mode background image */
.dark .magical-home {
  background-image: url('./assets/hero-illustration.jpg');
}

/* Mobile - position background to show the sun on the left corner */
@media (max-width: 768px) {
  .magical-home {
    background-position: 20% center;
    background-size: cover;
  }
}

/* Overlay for better text readability over background images */
.magical-home::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, 
    hsl(245, 25%, 15% / 0.4) 0%, 
    hsl(263, 35%, 20% / 0.45) 25%, 
    hsl(290, 30%, 25% / 0.4) 50%, 
    hsl(320, 25%, 20% / 0.45) 75%, 
    hsl(25, 20%, 15% / 0.4) 100%
  );
  z-index: 1;
  pointer-events: none;
}

.magical-home::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 20% 80%, hsl(320, 40%, 85% / 0.3) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, hsl(180, 40%, 80% / 0.3) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, hsl(263, 40%, 85% / 0.25) 0%, transparent 50%);
  animation: float 6s ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

@keyframes magicalPulse {
  0%, 100% { 
    transform: scale(1);
    filter: drop-shadow(0 0 20px hsl(263, 85%, 60% / 0.3));
  }
  50% { 
    transform: scale(1.05);
    filter: drop-shadow(0 0 30px hsl(263, 85%, 60% / 0.5));
  }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes bounceIn {
  0% {
    opacity: 0;
    transform: scale(0.3) translateY(50px);
  }
  50% {
    opacity: 1;
    transform: scale(1.05) translateY(-10px);
  }
  70% {
    transform: scale(0.95) translateY(0);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.magical-hero {
  position: relative;
  z-index: 10;
  padding: 4rem 2rem 2rem;
  text-align: center;
}

.floating-book {
  font-size: 4rem;
  animation: float 3s ease-in-out infinite;
  filter: drop-shadow(0 8px 16px hsl(263, 85%, 60% / 0.3));
  display: inline-block;
}

.hero-title {
  font-size: clamp(2rem, 5vw, 3.5rem);
  font-weight: 700;
  color: #1a0d2e !important;
  margin: 1rem 0 0.5rem;
  text-shadow: 0 2px 4px hsl(0, 0%, 100% / 0.5), 0 1px 2px hsl(0, 0%, 100% / 0.3);
  filter: drop-shadow(0 2px 4px hsl(0, 0%, 100% / 0.3));
}

.hero-subtitle {
  font-size: 1.125rem;
  color: #2d1f3d !important;
  margin-bottom: 2rem;
  font-weight: 500;
  text-shadow: 0 2px 4px hsl(0, 0%, 100% / 0.4), 0 1px 2px hsl(0, 0%, 100% / 0.3);
}

.magical-sparkles {
  font-size: 1.5rem;
  animation: magicalPulse 2s ease-in-out infinite;
}

/* Dark mode sparkle glow effect */
.dark .magical-sparkles {
  filter: drop-shadow(0 0 6px rgba(255, 215, 0, 0.6))
          drop-shadow(0 0 12px rgba(255, 215, 0, 0.4))
          drop-shadow(0 0 18px rgba(255, 223, 128, 0.3));
  text-shadow: 0 0 8px rgba(255, 215, 0, 0.7),
               0 0 16px rgba(255, 215, 0, 0.5),
               0 0 24px rgba(255, 223, 128, 0.3);
}

.creation-section {
  position: relative;
  z-index: 10;
  padding: 0 2rem 6rem;
  max-width: var(--container-max-width);
  margin: 0 auto;
}

.section-header {
  display: flex;
  align-items: center;
  margin-bottom: 2rem;
  animation: bounceIn 0.6s ease-out;
}

.section-icon {
  font-size: 1.75rem;
  margin-right: 1rem;
  animation: magicalPulse 2s ease-in-out infinite;
}

.section-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a0d2e !important;
  text-shadow: 0 2px 4px hsl(0, 0%, 100% / 0.5), 0 1px 2px hsl(0, 0%, 100% / 0.3) !important;
}

/* Additional selectors to catch all section titles */
h2.section-title,
h3.section-title,
.creation-section h2,
.creation-section h3 {
  color: #1a0d2e !important;
  text-shadow: 0 2px 4px hsl(0, 0%, 100% / 0.5), 0 1px 2px hsl(0, 0%, 100% / 0.3) !important;
}

.magical-card {
  background: linear-gradient(135deg, 
    hsl(0, 0%, 100% / 0.95) 0%, 
    hsl(263, 20%, 98% / 0.95) 50%, 
    hsl(0, 0%, 100% / 0.95) 100%);
  backdrop-filter: blur(25px);
  border: 2px solid hsl(263, 40%, 75%);
  border-radius: var(--radius-lg);
  box-shadow: 
    0 12px 40px -8px hsl(263, 50%, 20% / 0.25), 
    0 8px 24px -4px hsl(0, 0%, 0% / 0.15),
    inset 0 1px 0 hsl(0, 0%, 100% / 0.2);
  transition: var(--transition-magical);
  margin-bottom: 1.5rem;
  overflow: hidden;
  position: relative;
}

.magical-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    hsl(0, 0%, 100% / 0.1),
    transparent
  );
  transition: left 0.6s ease;
}

.magical-card {
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.magical-card:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow: 
    0 20px 40px -8px hsl(263, 85%, 60% / 0.4),
    0 12px 24px -4px hsl(0, 0%, 0% / 0.3),
    inset 0 1px 0 hsl(0, 0%, 100% / 0.2),
    0 0 0 1px hsl(263, 85%, 60% / 0.5);
  border-color: hsl(263, 85%, 60% / 0.6);
  backdrop-filter: blur(30px);
}

.magical-card:hover::before {
  left: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    hsl(263, 85%, 60% / 0.2),
    transparent
  );
}

.card-content {
  display: flex;
  align-items: center;
  padding: 1.5rem;
  position: relative;
  z-index: 1;
}

.card-icon {
  width: 60px;
  height: 60px;
  border-radius: 0.75rem;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 1.25rem;
  font-size: 1.5rem;
  color: white;
  flex-shrink: 0;
  box-shadow: var(--shadow-warm);
  transition: var(--transition-magical);
  position: relative;
}

.card-icon span {
  position: relative;
  z-index: 2;
}

.card-icon.primary {
  background-image: url('./assets/ai-assistant-icon.jpg');
  background-size: cover;
  background-position: center;
  position: relative;
}

.card-icon.primary::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gradient-primary);
  opacity: 0.7;
  border-radius: inherit;
  mix-blend-mode: multiply;
}

.card-icon.secondary {
  background-image: url('./assets/manual-creation-icon.jpg');
  background-size: cover;
  background-position: center;
  position: relative;
}

.card-icon.secondary::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gradient-secondary);
  opacity: 0.7;
  border-radius: inherit;
  mix-blend-mode: multiply;
}

.card-icon.mystical {
  background-image: url('./assets/template-icon.jpg');
  background-size: cover;
  background-position: center;
  position: relative;
}

.card-icon.mystical::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gradient-mystical);
  opacity: 0.7;
  border-radius: inherit;
  mix-blend-mode: multiply;
}

.magical-card:hover .card-icon {
  transform: scale(1.1) rotate(8deg);
  box-shadow: 
    0 12px 24px -4px hsl(263, 85%, 60% / 0.4),
    0 8px 16px -2px hsl(0, 0%, 0% / 0.3);
  filter: brightness(1.1) saturate(1.2);
}

.magical-card:hover .card-title {
  color: #1a0d2e !important;
  text-shadow: 
    0 0 10px hsl(263, 85%, 60% / 0.3),
    0 2px 4px hsl(0, 0%, 100% / 0.5) !important;
  transform: translateX(4px);
  transition: all 0.3s ease !important;
}

.magical-card:hover .card-description {
  color: #2d1f3d !important;
  transform: translateX(4px);
  transition: all 0.3s ease !important;
}

.card-text {
  flex: 1;
}

.magical-card .card-title,
.magical-card h3.card-title,
.magical-card h4.card-title,
.creation-section .card-title,
.creation-section h3,
.creation-section h4 {
  font-size: 1.25rem !important;
  font-weight: 600 !important;
  color: #1a0d2e !important;
  margin-bottom: 0.5rem;
  text-shadow: 0 2px 4px hsl(0, 0%, 100% / 0.5), 0 1px 2px hsl(0, 0%, 100% / 0.3) !important;
}

.magical-card .card-description,
.magical-card p.card-description,
.creation-section .card-description,
.creation-section p {
  color: #2d1f3d !important;
  margin-bottom: 1rem;
  line-height: 1.5;
  text-shadow: 0 2px 4px hsl(0, 0%, 100% / 0.4), 0 1px 2px hsl(0, 0%, 100% / 0.3) !important;
}

.magical-button {
  background: var(--gradient-primary);
  color: var(--primary-foreground);
  border: 2px solid var(--primary);
  border-radius: var(--radius-md);
  padding: 0.75rem 1.5rem;
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  transition: var(--transition-magical);
  box-shadow: var(--shadow-magical);
  width: 100%;
  position: relative;
  overflow: hidden;
}

.magical-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    hsl(0, 0%, 100% / 0.2),
    transparent
  );
  transition: left 0.5s ease;
}

.magical-button {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.magical-button:hover {
  transform: translateY(-3px) scale(1.05);
  background: linear-gradient(135deg, 
    hsl(263, 95%, 70%) 0%, 
    hsl(270, 85%, 75%) 50%, 
    hsl(263, 90%, 65%) 100%) !important;
  box-shadow: 
    0 12px 24px -4px hsl(263, 85%, 60% / 0.5),
    0 8px 16px -2px hsl(0, 0%, 0% / 0.3),
    inset 0 1px 0 hsl(0, 0%, 100% / 0.3);
  filter: brightness(1.1) saturate(1.1);
  border-color: hsl(263, 95%, 70%);
  color: #ffffff !important;
}

.magical-button.secondary:hover {
  background: linear-gradient(135deg, 
    hsl(25, 100%, 70%) 0%, 
    hsl(30, 95%, 75%) 50%, 
    hsl(20, 100%, 65%) 100%) !important;
  box-shadow: 
    0 12px 24px -4px hsl(25, 95%, 63% / 0.5),
    0 8px 16px -2px hsl(0, 0%, 0% / 0.3),
    inset 0 1px 0 hsl(0, 0%, 100% / 0.3);
  border-color: hsl(25, 100%, 70%);
  color: #ffffff !important;
}

.magical-button:hover::before {
  left: 100%;
}

.magical-button.secondary {
  background: var(--gradient-secondary);
  border: 2px solid var(--secondary);
  box-shadow: var(--shadow-warm);
}

.magical-button.outline {
  background: transparent;
  color: var(--primary);
  border: 2px solid var(--primary);
  box-shadow: var(--shadow-soft);
}

.magical-button.outline:hover {
  background: var(--primary);
  color: var(--primary-foreground);
  transform: translateY(-3px) scale(1.05);
  box-shadow: 
    0 12px 24px -4px hsl(263, 85%, 60% / 0.4),
    0 8px 16px -2px hsl(0, 0%, 0% / 0.3),
    inset 0 1px 0 hsl(0, 0%, 100% / 0.2);
  border-color: hsl(263, 95%, 70%);
  filter: brightness(1.1);
}

.status-card {
  background: linear-gradient(135deg, 
    hsl(0, 0%, 100% / 0.95) 0%, 
    hsl(263, 15%, 97% / 0.95) 100%);
  border: 3px solid hsl(263, 50%, 70%);
  text-align: center;
  padding: 2rem 1.5rem;
  backdrop-filter: blur(25px);
  box-shadow: 
    0 12px 40px -8px hsl(263, 50%, 20% / 0.3), 
    0 8px 24px -4px hsl(0, 0%, 0% / 0.2),
    inset 0 1px 0 hsl(0, 0%, 100% / 0.2);
}

.status-icon {
  font-size: 3rem;
  opacity: 0.6;
  margin-bottom: 1rem;
  display: block;
}

.status-card .status-text,
.magical-card .status-text {
  color: #3d2f4d !important;
  font-size: 0.9rem;
  font-weight: 500;
  text-shadow: 0 2px 4px hsl(0, 0%, 100% / 0.5), 0 1px 2px hsl(0, 0%, 100% / 0.3) !important;
}

.magical-card.challenge-card {
  background: linear-gradient(135deg, 
    hsl(320, 60%, 55%) 0%, 
    hsl(25, 70%, 50%) 50%, 
    hsl(45, 75%, 55%) 100%
  ) !important;
  color: white !important;
  border: 2px solid hsl(320, 50%, 70%) !important;
  box-shadow: 
    0 12px 40px -8px hsl(320, 50%, 20% / 0.3), 
    0 8px 24px -4px hsl(0, 0%, 0% / 0.2),
    inset 0 1px 0 hsl(0, 0%, 100% / 0.3) !important;
}

.challenge-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 1rem;
}

.challenge-badge {
  background: hsl(0, 0%, 100% / 0.9);
  color: hsl(320, 60%, 40%);
  backdrop-filter: blur(10px);
  padding: 0.5rem 1rem;
  border-radius: 2rem;
  font-size: 0.8rem;
  font-weight: 700;
  white-space: nowrap;
  box-shadow: 0 2px 8px hsl(0, 0%, 0% / 0.2);
}

.magical-card.challenge-card .challenge-title {
  font-size: 1.125rem !important;
  font-weight: 700 !important;
  margin-bottom: 0.25rem;
  color: white !important;
  text-shadow: 0 2px 4px hsl(0, 0%, 0% / 0.5) !important;
}

.magical-card.challenge-card .challenge-description {
  font-size: 0.9rem !important;
  color: hsl(0, 0%, 95%) !important;
  font-weight: 500 !important;
  text-shadow: 0 1px 2px hsl(0, 0%, 0% / 0.4) !important;
}

.magical-card.challenge-card .magical-button.outline {
  background: hsl(0, 0%, 100% / 0.9) !important;
  color: hsl(320, 60%, 40%) !important;
  border: 2px solid hsl(0, 0%, 100%) !important;
  font-weight: 700 !important;
  text-shadow: none !important;
  box-shadow: 0 4px 12px hsl(0, 0%, 0% / 0.2) !important;
}

.magical-card.challenge-card .magical-button.outline:hover {
  background: hsl(0, 0%, 100%) !important;
  color: hsl(320, 70%, 35%) !important;
  transform: translateY(-2px) scale(1.02) !important;
  box-shadow: 0 6px 16px hsl(0, 0%, 0% / 0.3) !important;
}

/* Background Image Utilities */
.magical-home.with-bg-image {
  background-image: url('your-background-image.jpg');
}

.magical-home.with-bg-image::after {
  background: linear-gradient(135deg, 
    hsl(245, 40%, 95% / 0.9) 0%, 
    hsl(263, 30%, 92% / 0.9) 25%, 
    hsl(290, 25%, 90% / 0.9) 50%, 
    hsl(320, 30%, 88% / 0.9) 75%, 
    hsl(25, 25%, 90% / 0.9) 100%
  );
}

/* Enhanced card visibility for background images */
.magical-home.with-bg-image .magical-card {
  background: hsl(0, 0%, 100% / 0.98);
  border: 2px solid hsl(263, 40%, 75%);
  box-shadow: 
    0 12px 40px -8px hsl(263, 50%, 20% / 0.25), 
    0 8px 24px -4px hsl(0, 0%, 0% / 0.15),
    inset 0 1px 0 hsl(0, 0%, 100% / 0.8);
}

.magical-home.with-bg-image .status-card {
  background: linear-gradient(135deg, hsl(0, 0%, 100% / 0.99) 0%, hsl(245, 20%, 95% / 0.99) 100%);
  border: 3px solid hsl(263, 50%, 70%);
  box-shadow: 
    0 12px 40px -8px hsl(263, 50%, 20% / 0.3), 
    0 8px 24px -4px hsl(0, 0%, 0% / 0.2),
    inset 0 1px 0 hsl(0, 0%, 100% / 0.9);
}

/* Draft Items Styling */
.drafts-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.draft-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem;
  background: hsl(0, 0%, 100% / 0.8);
  border: 1px solid hsl(263, 20%, 85%);
  border-radius: 0.75rem;
  transition: all 0.2s ease;
}

.draft-item:hover {
  background: hsl(0, 0%, 100% / 0.95);
  border-color: hsl(263, 40%, 75%);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px hsl(263, 30%, 20% / 0.1);
}

.draft-content {
  flex: 1;
}

.draft-title {
  font-size: 1rem;
  font-weight: 600;
  color: hsl(263, 25%, 12%);
  margin: 0 0 0.25rem 0;
}

.draft-meta {
  font-size: 0.875rem;
  color: hsl(263, 15%, 45%);
  margin: 0 0 0.25rem 0;
}

.draft-date {
  font-size: 0.75rem;
  color: hsl(263, 10%, 55%);
  margin: 0;
}

/* Library Page Draft/Published Badges */
.library-draft-badge {
  background: hsl(45, 93%, 58%);
  color: hsl(263, 25%, 12%);
  padding: 0.125rem 0.5rem;
  border-radius: 0.375rem;
  font-size: 0.75rem;
  font-weight: 600;
}

.library-published-badge {
  background: hsl(142, 76%, 45%);
  color: white;
  padding: 0.125rem 0.5rem;
  border-radius: 0.375rem;
  font-size: 0.75rem;
  font-weight: 600;
}

.library-saved-badge {
  background: hsl(263, 85%, 60%);
  color: white;
  padding: 0.125rem 0.5rem;
  border-radius: 0.375rem;
  font-size: 0.75rem;
  font-weight: 600;
}

.library-button-delete {
  background: hsl(0, 84%, 60%);
  color: white;
  border: none;
  border-radius: 0.375rem;
  padding: 0.5rem;
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 0.875rem;
}

.library-button-delete:hover {
  background: hsl(0, 84%, 50%);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px hsl(0, 84%, 60% / 0.3);
}

/* Story Mode Selection Modal Styles */
.mode-option-card {
  width: 100%;
  padding: 1.5rem;
  background: rgba(139, 92, 246, 0.05);
  border: 2px solid rgba(139, 92, 246, 0.2);
  border-radius: 1rem;
  display: flex;
  align-items: center;
  gap: 1rem;
  transition: all 0.2s ease;
  cursor: pointer;
}

.mode-option-card:hover {
  background: rgba(139, 92, 246, 0.1);
  border-color: rgba(139, 92, 246, 0.4);
  transform: translateY(-2px);
  box-shadow: 0 8px 16px rgba(139, 92, 246, 0.2);
}

.mode-option-icon {
  width: 3.5rem;
  height: 3.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.mode-option-content {
  flex: 1;
  text-align: left;
}

.mode-option-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: #374151;
  margin-bottom: 0.25rem;
}

.mode-option-description {
  font-size: 0.875rem;
  color: #6B7280;
}

.dark .mode-option-card {
  background: rgba(139, 92, 246, 0.1);
  border-color: rgba(139, 92, 246, 0.3);
}

.dark .mode-option-card:hover {
  background: rgba(139, 92, 246, 0.15);
  border-color: rgba(139, 92, 246, 0.5);
}

.dark .mode-option-title {
  color: #FFFFFF;
}

.dark .mode-option-description {
  color: #9CA3AF;
}

/* Dark Mode for Homepage */
.dark .magical-home {
  background: #1a1625;
  background-image: url('./assets/hero-illustration.jpg');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
}

.dark .magical-home::after {
  background: linear-gradient(135deg, 
    rgba(26, 22, 37, 0.6) 0%, 
    rgba(42, 36, 53, 0.65) 25%, 
    rgba(58, 52, 69, 0.6) 50%, 
    rgba(42, 36, 53, 0.65) 75%, 
    rgba(26, 22, 37, 0.6) 100%
  );
}

.dark .magical-home::before {
  background: 
    radial-gradient(circle at 20% 80%, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(139, 92, 246, 0.12) 0%, transparent 50%);
}

.dark .hero-title,
body.dark .magical-home .hero-title {
  color: #f1f5f9 !important;
  text-shadow: 0 2px 8px rgba(139, 92, 246, 0.3) !important;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3)) !important;
}

.dark .hero-subtitle,
body.dark .magical-home .hero-subtitle {
  color: #cbd5e1 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4) !important;
}

.dark .section-title,
.dark h2.section-title,
.dark h3.section-title,
.dark .creation-section h2,
.dark .creation-section h3,
body.dark .magical-home .section-title {
  color: #f1f5f9 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6) !important;
}

.dark .magical-card {
  background: linear-gradient(135deg, 
    hsl(245, 30%, 15% / 0.95) 0%, 
    hsl(263, 35%, 20% / 0.95) 50%, 
    hsl(290, 30%, 18% / 0.95) 100%);
  border: 1px solid #3a3445;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.dark .magical-card:hover {
  border-color: #8b5cf6;
  box-shadow: 0 8px 24px rgba(139, 92, 246, 0.2);
}

.dark .magical-card.challenge-card {
  background: linear-gradient(135deg, 
    rgba(139, 92, 246, 0.3) 0%, 
    rgba(168, 85, 247, 0.3) 100%
  );
  border-color: #8b5cf6;
}

.dark .magical-card.status-card {
  background: linear-gradient(135deg, 
    hsl(245, 30%, 15% / 0.98) 0%, 
    hsl(263, 35%, 18% / 0.98) 100%);
  border: 2px solid #3a3445;
}

.dark .card-title,
.dark .magical-card .card-title,
.dark .magical-card h3.card-title,
.dark .magical-card h4.card-title,
.dark .creation-section .card-title,
.dark .creation-section h3,
.dark .creation-section h4,
body.dark .magical-home .card-title,
body.dark .magical-home h3,
body.dark .magical-home h4 {
  color: #f1f5f9 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6) !important;
}

.dark .card-description,
.dark .magical-card .card-description,
.dark .magical-card p.card-description,
.dark .creation-section .card-description,
.dark .creation-section p,
body.dark .magical-home .card-description,
body.dark .magical-home p {
  color: #cbd5e1 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
}

.dark .status-text,
.dark .status-card .status-text,
.dark .magical-card .status-text {
  color: #cbd5e1 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6) !important;
}

.dark .magical-card:hover .card-title {
  color: #e2e8f0 !important;
  text-shadow: 
    0 0 10px rgba(139, 92, 246, 0.6),
    0 2px 4px rgba(0, 0, 0, 0.6) !important;
}

.dark .magical-card:hover .card-description {
  color: #f1f5f9 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
}

.dark .challenge-title {
  color: #f1f5f9 !important;
}

.dark .challenge-description {
  color: #e2e8f0 !important;
}

.dark .magical-button {
  background: linear-gradient(135deg, #8b5cf6 0%, #a78bfa 100%);
  color: white;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.dark .magical-button:hover {
  background: linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%);
  box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
}

.dark .magical-button.secondary {
  background: linear-gradient(135deg, #ec4899 0%, #f472b6 100%);
  box-shadow: 0 4px 12px rgba(236, 72, 153, 0.3);
}

.dark .magical-button.secondary:hover {
  background: linear-gradient(135deg, #db2777 0%, #ec4899 100%);
  box-shadow: 0 6px 20px rgba(236, 72, 153, 0.4);
}

.dark .magical-button.outline {
  background: transparent;
  border: 2px solid #8b5cf6;
  color: #a78bfa;
}

.dark .magical-button.outline:hover {
  background: rgba(139, 92, 246, 0.1);
  border-color: #a78bfa;
  color: #c4b5fd;
}

.dark .draft-item {
  background: rgba(58, 52, 69, 0.8);
  border-color: #3a3445;
}

.dark .draft-item:hover {
  background: rgba(58, 52, 69, 0.95);
  border-color: #8b5cf6;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2);
}

.dark .draft-title {
  color: #f1f5f9;
}

.dark .draft-meta,
.dark .draft-date {
  color: #94a3b8;
}

.dark .status-text {
  color: #cbd5e1;
}

.dark .card-icon {
  border: 2px solid #8b5cf6;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.dark .card-icon.primary {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(168, 85, 247, 0.3) 100%);
}

.dark .card-icon.secondary {
  background: linear-gradient(135deg, rgba(236, 72, 153, 0.3) 0%, rgba(244, 114, 182, 0.3) 100%);
  border-color: #ec4899;
}

.dark .card-icon.mystical {
  background: linear-gradient(135deg, rgba(168, 85, 247, 0.3) 0%, rgba(192, 132, 252, 0.3) 100%);
  border-color: #a855f7;
}

.dark .card-icon::before {
  opacity: 0.5;
}

/* Responsive Design */
@media (min-width: 768px) {
  .creation-section {
    padding: 0 3rem 6rem;
  }
  
  .magical-card {
    margin-bottom: 2rem;
  }
  
  .card-content {
    padding: 2rem;
  }
  
  .card-icon {
    width: 70px;
    height: 70px;
    margin-right: 1.5rem;
    font-size: 1.75rem;
  }
  
  .card-title {
    font-size: 1.375rem;
  }
  
  .card-description {
    font-size: 1rem;
  }
}

@media (min-width: 1024px) {
  .magical-hero {
    padding: 5rem 2rem 3rem;
  }
  
  .creation-section {
    padding: 0 4rem 8rem;
  }
}

/* Modern Social Navigation Styles */
.modern-social-nav {
  position: relative;
  margin-bottom: 2rem;
}

.nav-container {
  display: flex;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7));
  backdrop-filter: blur(20px);
  border-radius: 24px;
  padding: 8px;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.5);
  position: relative;
  overflow: hidden;
}

.nav-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, 
    rgba(99, 102, 241, 0.05) 0%,
    rgba(147, 51, 234, 0.05) 50%,
    rgba(236, 72, 153, 0.05) 100%);
  border-radius: 24px;
  z-index: -1;
}

.nav-tab {
  flex: 1;
  position: relative;
  background: transparent;
  border: none;
  border-radius: 20px;
  padding: 0;
  margin: 0 2px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
}

.nav-tab:hover {
  transform: translateY(-2px);
}

.nav-tab.active {
  transform: translateY(-2px) scale(1.02);
}

.nav-tab::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: transparent;
  transition: all 0.3s ease;
  border-radius: 20px;
}

.nav-tab:hover::before {
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(147, 51, 234, 0.1));
}

.nav-tab.active::before {
  background: linear-gradient(135deg, #6366f1, #8b5cf6, #ec4899);
  box-shadow: 0 10px 25px -5px rgba(99, 102, 241, 0.4);
}

.tab-content {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: 16px 12px;
  transition: all 0.3s ease;
}

.tab-icon {
  font-size: 24px;
  transition: all 0.3s ease;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.nav-tab:hover .tab-icon {
  transform: scale(1.1);
}

.nav-tab.active .tab-icon {
  transform: scale(1.15);
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
}

.tab-label {
  font-size: 13px;
  font-weight: 600;
  color: #6b7280;
  transition: all 0.3s ease;
  text-align: center;
  line-height: 1.2;
}

.nav-tab:hover .tab-label {
  color: #374151;
}

.nav-tab.active .tab-label {
  color: white;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.tab-badge {
  position: absolute;
  top: 8px;
  right: 8px;
  background: #ef4444;
  color: white;
  font-size: 11px;
  font-weight: 700;
  min-width: 20px;
  height: 20px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
  animation: pulse 2s infinite;
}

.nav-tab.active .tab-badge {
  background: rgba(255, 255, 255, 0.9);
  color: #6366f1;
  box-shadow: 0 2px 8px rgba(255, 255, 255, 0.3);
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

@keyframes shimmer {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

/* Add Friend Button Styles */
.add-friend-btn {
  position: relative;
  overflow: hidden;
  white-space: nowrap;
}

.add-friend-btn.active {
  background: linear-gradient(135deg, #6366f1, #8b5cf6);
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.add-friend-btn.active:hover {
  background: linear-gradient(135deg, #5b5ff0, #7c3aed);
  box-shadow: 0 8px 20px rgba(99, 102, 241, 0.4);
  transform: translateY(-2px) scale(1.02);
}

.add-friend-btn.sent {
  background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
  color: #64748b;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  cursor: not-allowed;
}

.add-friend-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
  transition: left 0.5s ease;
  pointer-events: none;
}

.add-friend-btn.active:hover::before {
  left: 100%;
}

/* Friend Request Button Styles */
.friend-request-btn {
  position: relative;
  overflow: hidden;
  white-space: nowrap;
}

.friend-request-btn.accept {
  background: linear-gradient(135deg, #10b981, #059669);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.friend-request-btn.accept:hover {
  background: linear-gradient(135deg, #0d9668, #047857);
  box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
  transform: translateY(-2px) scale(1.02);
}

.friend-request-btn.decline {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(254, 242, 242, 0.9));
  border: 2px solid #ef4444;
  color: #dc2626;
  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.2);
}

.friend-request-btn.decline:hover {
  background: linear-gradient(135deg, #ef4444, #dc2626);
  color: white;
  border-color: #dc2626;
  box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
  transform: translateY(-2px) scale(1.02);
}

@keyframes dangerPulse {
  0% {
    width: 0;
    height: 0;
    opacity: 0.8;
  }
  50% {
    width: 100px;
    height: 100px;
    opacity: 0.3;
  }
  100% {
    width: 120px;
    height: 120px;
    opacity: 0;
  }
}

/* Success checkmark animation */
@keyframes successPulse {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.1);
    opacity: 0.8;
  }
}

.friend-request-btn.accept .w-5 {
  animation: successPulse 2s ease-in-out infinite;
}

/* Enhanced content styling */
.enhanced-section-header {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7));
  backdrop-filter: blur(20px);
  border-radius: 20px;
  padding: 24px;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.5);
  margin-bottom: 24px;
}

.gradient-text-blue {
  background: linear-gradient(135deg, #3b82f6, #6366f1);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  font-weight: 700;
}

.gradient-text-purple {
  background: linear-gradient(135deg, #8b5cf6, #ec4899);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  font-weight: 700;
}

.gradient-text-emerald {
  background: linear-gradient(135deg, #10b981, #059669);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  font-weight: 700;
}
  
  .bg-purple-100 {
    background-color: #f3e8ff;
  }
  
  .text-purple-600 {
    color: #9333ea;
  }
  
  .bg-white {
    background-color: white;
  }
  
  .p-4 {
    padding: 1rem;
  }
  
  .p-6 {
    padding: 1.5rem;
  }
  
  .rounded-lg {
    border-radius: 0.5rem;
  }
  
  .shadow-lg {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  }
  
  .fixed {
    position: fixed;
  }
  
  .bottom-0 {
    bottom: 0;
  }
  
  .left-0 {
    left: 0;
  }
  
  .right-0 {
    right: 0;
  }
  
  .flex {
    display: flex;
  }
  
  .flex-col {
    flex-direction: column;
  }
  
  .items-center {
    align-items: center;
  }
  
  .justify-around {
    justify-content: space-around;
  }
  
  .text-2xl {
    font-size: 1.5rem;
  }
  
  .text-xs {
    font-size: 0.75rem;
  }
  
  .border-t {
    border-top: 1px solid #e5e7eb;
  }
  
  .px-4 {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  
  .py-2 {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
  }
  
  .mb-1 {
    margin-bottom: 0.25rem;
  }
  
  .mb-4 {
    margin-bottom: 1rem;
  }

  /* Additional styles for Imaginary Worlds */
.min-h-screen {
    min-height: 100vh;
  }
  
  .text-3xl {
    font-size: 1.875rem;
  }
  
  .font-bold {
    font-weight: 700;
  }
  
  .text-gray-700 {
    color: #374151;
  }
  
  .pb-20 {
    padding-bottom: 5rem;
  }
  
  .max-w-md {
    max-width: 28rem;
  }
  
  .mx-auto {
    margin-left: auto;
    margin-right: auto;
  }
  
  .transition-all {
    transition: all 0.2s;
  }
  
  .hover\:text-purple-400:hover {
    color: #a855f7;
  }
  
  .bg-purple-50 {
    background-color: #faf5ff;
  }
  
  .text-purple-500 {
    color: #8b5cf6;
  }

  /* Layout and spacing */
  .px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
  .py-6 { padding-top: 1.5rem; padding-bottom: 1.5rem; }
  .py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
  .py-8 { padding-top: 2rem; padding-bottom: 2rem; }
  .mt-1 { margin-top: 0.25rem; }
  .mt-2 { margin-top: 0.5rem; }
  .mt-3 { margin-top: 0.75rem; }
  .mt-4 { margin-top: 1rem; }
  .mb-2 { margin-bottom: 0.5rem; }
  .mb-3 { margin-bottom: 0.75rem; }
  .mb-6 { margin-bottom: 1.5rem; }

  /* Typography */
  .text-lg { font-size: 1.125rem; }
  .text-xl { font-size: 1.25rem; }
  .text-4xl { font-size: 2.25rem; }
  .text-6xl { font-size: 3.75rem; }
  .text-sm { font-size: 0.875rem; }
  .font-semibold { font-weight: 600; }
  .font-medium { font-weight: 500; }

  /* Colors */
  .text-gray-800 { color: #1f2937; }
  .text-gray-600 { color: #4b5563; }
  .text-gray-500 { color: #6b7280; }
  .text-white { color: white; }
  .bg-gray-50 { background-color: #f9fafb; }
  .bg-gray-200 { background-color: #e5e7eb; }

  /* Gradients */
  .bg-gradient-to-br { background-image: linear-gradient(to bottom right, var(--tw-gradient-stops)); }
  .bg-gradient-to-r { background-image: linear-gradient(to right, var(--tw-gradient-stops)); }
  .from-purple-50 { --tw-gradient-from: #faf5ff; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(250, 245, 255, 0)); }
  .from-pink-50 { --tw-gradient-from: #fdf2f8; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(253, 242, 248, 0)); }
  .from-green-50 { --tw-gradient-from: #f0fdf4; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(240, 253, 244, 0)); }
  .from-blue-50 { --tw-gradient-from: #eff6ff; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(239, 246, 255, 0)); }
  .from-purple-500 { --tw-gradient-from: #8b5cf6; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(139, 92, 246, 0)); }
  .to-pink-50 { --tw-gradient-to: #fdf2f8; }
  .to-blue-50 { --tw-gradient-to: #eff6ff; }
  .to-purple-50 { --tw-gradient-to: #faf5ff; }
  .to-pink-500 { --tw-gradient-to: #ec4899; }
  .to-blue-100 { --tw-gradient-to: #dbeafe; }
  .to-green-100 { --tw-gradient-to: #dcfce7; }
  .to-orange-100 { --tw-gradient-to: #fed7aa; }

  /* Border radius */
  .rounded-2xl { border-radius: 1rem; }
  .rounded-3xl { border-radius: 1.5rem; }
  .rounded-xl { border-radius: 0.75rem; }
  .rounded-full { border-radius: 9999px; }

  /* Shadows */
  .shadow-sm { box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); }

  /* Grid */
  .grid { display: grid; }
  .grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .gap-3 { gap: 0.75rem; }

  /* Flexbox utilities */
  .justify-between { justify-content: space-between; }

  /* Text alignment */
  .text-center { text-align: center; }

  /* Z-index */
  .z-50 { z-index: 50; }

  /* Additional color variations */
  .text-blue-700 { color: #1d4ed8; }
  .text-green-700 { color: #15803d; }
  .text-orange-700 { color: #c2410c; }
  .text-purple-100 { color: #e9d5ff; }

  /* Settings Page Specific Styles - Reference Design Implementation */
  .settings-page {
    background-color: #F9FAFB !important;
    padding: 0 !important;
    padding-bottom: 6rem !important;
  }

  .settings-header {
    background-color: #FFFFFF !important;
    border-bottom: 1px solid #E5E7EB !important;
    margin-bottom: 0 !important;
  }

  .settings-section-header {
    background-color: transparent !important;
    border-bottom: none !important;
    padding: 24px 16px 12px 16px !important;
    margin-bottom: 0 !important;
  }

  .settings-section-header h2 {
    font-size: 18px !important;
    font-weight: 600 !important;
    color: #1F2937 !important;
    margin: 0 !important;
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
  }

  .settings-section-icon {
    color: #8B5CF6 !important;
    width: 20px !important;
    height: 20px !important;
  }

  .settings-card {
    background-color: #FFFFFF !important;
    border: none !important;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06) !important;
    border-radius: 12px !important;
    margin: 0 16px 24px 16px !important;
    overflow: visible !important;
  }

  .settings-item {
    background-color: #FFFFFF !important;
    border-bottom: 1px solid #F3F4F6 !important;
    padding: 16px 20px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    position: relative !important;
    outline: none !important;
  }

  .settings-item:focus,
  .settings-item:focus-within {
    outline: none !important;
    box-shadow: none !important;
  }

  .settings-item:last-child {
    border-bottom: none !important;
  }

  .settings-item-content {
    flex: 1 !important;
  }

  .settings-item-title {
    font-size: 16px !important;
    font-weight: 500 !important;
    color: #1F2937 !important;
    margin: 0 0 4px 0 !important;
    line-height: 1.4 !important;
  }

  .settings-item-subtitle {
    font-size: 14px !important;
    color: #6B7280 !important;
    margin: 0 !important;
    line-height: 1.4 !important;
  }

  .settings-button-primary {
    background-color: #8B5CF6 !important;
    color: #FFFFFF !important;
    border: none !important;
    border-radius: 8px !important;
    padding: 8px 16px !important;
    font-size: 14px !important;
    font-weight: 500 !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
  }

  .settings-button-primary:hover {
    background-color: #7C3AED !important;
  }

  .settings-button-secondary {
    background-color: #FFFFFF !important;
    color: #8B5CF6 !important;
    border: 1px solid #E9D5FF !important;
    border-radius: 8px !important;
    padding: 8px 16px !important;
    font-size: 14px !important;
  }

  /* Custom Dropdown Styles */
  .custom-dropdown {
    position: relative;
    display: inline-block;
    z-index: 10;
  }

  .custom-dropdown:focus,
  .custom-dropdown:focus-visible {
    outline: none !important;
  }

  .custom-dropdown.settings-select-compact {
    min-width: 140px;
    width: auto;
  }

  .custom-dropdown *,
  .custom-dropdown *:focus,
  .custom-dropdown *:focus-visible {
    outline: none !important;
    box-shadow: none !important;
  }

  .custom-dropdown-button {
    background-color: #FFFFFF;
    color: #1F2937;
    border: 1px solid #E9D5FF;
    border-radius: 8px;
    padding: 8px 12px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
    width: 100%;
    min-width: 140px;
    outline: none;
  }

  .custom-dropdown-button:focus {
    outline: none !important;
    border-color: #8B5CF6;
    box-shadow: none !important;
  }

  .custom-dropdown-button:focus-visible {
    outline: none !important;
    box-shadow: none !important;
  }

  .custom-dropdown-button:hover {
    background-color: #F9FAFB;
    border-color: #8B5CF6;
  }

  .custom-dropdown-text {
    flex: 1;
    text-align: left;
    white-space: nowrap;
  }

  .custom-dropdown-icon {
    width: 16px;
    height: 16px;
    color: #6B7280;
    transition: transform 0.2s ease;
    flex-shrink: 0;
  }

  .custom-dropdown-icon.open {
    transform: rotate(180deg);
  }

  .custom-dropdown-menu {
    position: absolute;
    top: calc(100% + 4px);
    left: 0;
    right: 0;
    background-color: #FFFFFF;
    border: 1px solid #E5E7EB;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    z-index: 9999;
    overflow: hidden;
    animation: dropdownSlideIn 0.2s ease-out;
  }

  @keyframes dropdownSlideIn {
    from {
      opacity: 0;
      transform: translateY(-8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .custom-dropdown-option {
    background-color: #FFFFFF;
    color: #1F2937;
    border: none;
    padding: 10px 12px;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    text-align: left;
  }

  .custom-dropdown-option:hover {
    background-color: #F3F4F6;
  }

  .custom-dropdown-option.selected {
    background-color: #F3E8FF;
    color: #8B5CF6;
    font-weight: 500;
  }

  .custom-dropdown-checkmark {
    color: #8B5CF6;
    font-weight: bold;
    margin-left: 8px;
  }

  /* Dark mode styles for custom dropdown */
  .dark .custom-dropdown-button {
    background-color: #2a2435 !important;
    border-color: #3a3445 !important;
    color: #ffffff !important;
  }

  .dark .custom-dropdown-button:hover {
    background-color: #3a3445 !important;
    border-color: #8b5cf6 !important;
  }

  .dark .custom-dropdown-menu {
    background-color: #2a2435 !important;
    border-color: #3a3445 !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
  }

  .dark .custom-dropdown-option {
    background-color: #2a2435 !important;
    color: #ffffff !important;
  }

  .dark .custom-dropdown-option:hover {
    background-color: #3a3445 !important;
  }

  .dark .custom-dropdown-option.selected {
    background-color: rgba(139, 92, 246, 0.2) !important;
    color: #a78bfa !important;
  }

  .dark .custom-dropdown-checkmark {
    color: #a78bfa !important;
  }

  .dark .custom-dropdown-icon {
    color: #a0a0b0 !important;
  }

  /* Image Generation Warning Modal Styles */
  .warning-modal-container {
    background: linear-gradient(135deg, #ffffff 0%, #fef3c7 100%);
    border-radius: 24px;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    width: 90%;
    max-width: 550px;
    max-height: 85vh;
    overflow-y: auto;
    padding: 32px;
    position: relative;
    animation: modalSlideIn 0.3s ease-out;
  }

  .warning-modal-container.dark {
    background: linear-gradient(135deg, #2a2435 0%, #3a2e1f 100%);
  }

  .warning-modal-icon-container {
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
  }

  .warning-modal-icon-circle {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 8px 24px rgba(251, 191, 36, 0.4);
    animation: pulse 2s ease-in-out infinite;
  }

  .warning-modal-icon {
    width: 40px;
    height: 40px;
    color: #ffffff;
  }

  .warning-modal-title {
    font-size: 24px;
    font-weight: 700;
    color: #92400e;
    text-align: center;
    margin-bottom: 12px;
  }

  .warning-modal-container.dark .warning-modal-title {
    color: #fbbf24;
  }

  .warning-modal-subtitle {
    font-size: 15px;
    color: #78716c;
    text-align: center;
    margin-bottom: 24px;
    line-height: 1.5;
  }

  .warning-modal-container.dark .warning-modal-subtitle {
    color: #d6d3d1;
  }

  .warning-modal-list-container {
    background: rgba(255, 255, 255, 0.6);
    border: 2px solid #fbbf24;
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 20px;
  }

  .warning-modal-container.dark .warning-modal-list-container {
    background: rgba(0, 0, 0, 0.3);
    border-color: #d97706;
  }

  .warning-modal-list-title {
    font-size: 14px;
    font-weight: 600;
    color: #92400e;
    margin-bottom: 12px;
  }

  .warning-modal-container.dark .warning-modal-list-title {
    color: #fbbf24;
  }

  .warning-modal-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .warning-modal-list-item {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    font-size: 14px;
    color: #57534e;
  }

  .warning-modal-container.dark .warning-modal-list-item {
    color: #e7e5e4;
  }

  .warning-modal-list-bullet {
    color: #f59e0b;
    font-weight: bold;
    font-size: 18px;
    line-height: 1.2;
  }

  .warning-modal-explanation {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(168, 85, 247, 0.1));
    border-left: 4px solid #8b5cf6;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 20px;
  }

  .warning-modal-container.dark .warning-modal-explanation {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(168, 85, 247, 0.2));
  }

  .warning-modal-explanation-title {
    font-size: 14px;
    font-weight: 600;
    color: #7c3aed;
    margin-bottom: 8px;
  }

  .warning-modal-container.dark .warning-modal-explanation-title {
    color: #a78bfa;
  }

  .warning-modal-explanation-text {
    font-size: 13px;
    color: #57534e;
    line-height: 1.6;
  }

  .warning-modal-container.dark .warning-modal-explanation-text {
    color: #d6d3d1;
  }

  .warning-modal-solutions {
    margin-bottom: 24px;
  }

  .warning-modal-solutions-title {
    font-size: 14px;
    font-weight: 600;
    color: #92400e;
    margin-bottom: 16px;
  }

  .warning-modal-container.dark .warning-modal-solutions-title {
    color: #fbbf24;
  }

  .warning-modal-solution-cards {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
  }

  @media (max-width: 500px) {
    .warning-modal-solution-cards {
      grid-template-columns: 1fr;
    }
  }

  .warning-modal-solution-card {
    background: rgba(255, 255, 255, 0.8);
    border: 1px solid #e7e5e4;
    border-radius: 12px;
    padding: 16px;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    transition: all 0.3s ease;
  }

  .warning-modal-container.dark .warning-modal-solution-card {
    background: rgba(0, 0, 0, 0.3);
    border-color: #44403c;
  }

  .warning-modal-solution-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
  }

  .warning-modal-solution-icon-container {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 12px;
  }

  .warning-modal-solution-icon-purple {
    background: linear-gradient(135deg, #8b5cf6, #a855f7);
  }

  .warning-modal-solution-icon-blue {
    background: linear-gradient(135deg, #3b82f6, #2563eb);
  }

  .warning-modal-solution-icon {
    width: 24px;
    height: 24px;
    color: #ffffff;
  }

  .warning-modal-solution-content {
    flex: 1;
  }

  .warning-modal-solution-title {
    font-size: 14px;
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 4px;
  }

  .warning-modal-container.dark .warning-modal-solution-title {
    color: #f3f4f6;
  }

  .warning-modal-solution-description {
    font-size: 12px;
    color: #6b7280;
    line-height: 1.4;
  }

  .warning-modal-container.dark .warning-modal-solution-description {
    color: #9ca3af;
  }

  .warning-modal-button {
    width: 100%;
    background: linear-gradient(135deg, #8b5cf6, #7c3aed);
    color: #ffffff;
    border: none;
    border-radius: 12px;
    padding: 14px 24px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
  }

  .warning-modal-button:hover {
    background: linear-gradient(135deg, #7c3aed, #6d28d9);
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(139, 92, 246, 0.4);
  }

  .warning-modal-button:active {
    transform: translateY(0);
  }

  /* Profile Page Specific Styles - Following Design Profile JSON */
  .profile-page-container {
    background-color: #F9FAFB !important;
    padding: 1.5rem !important;
    padding-bottom: 6rem !important;
    min-height: 100vh !important;
    overflow-x: hidden !important;
    box-sizing: border-box !important;
    width: 100% !important;
    max-width: 100vw !important;
  }

  .profile-page-container * {
    box-sizing: border-box !important;
    max-width: 100% !important;
  }

  .profile-page-header {
    color: #111827 !important;
    font-size: 1.5rem !important;
    font-weight: 700 !important;
    margin-bottom: 2rem !important;
  }

  .profile-user-card {
    background-color: #FFFFFF !important;
    border-radius: 1rem !important;
    padding: 1.5rem !important;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
    border: 1px solid #F3F4F6 !important;
    margin-bottom: 1.5rem !important;
    text-align: center !important;
  }

  .profile-avatar-container {
    width: fit-content !important;
    height: fit-content !important;
    background-color: transparent !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin: 0 auto 1rem auto !important;
  }

  .profile-avatar-emoji {
    font-size: 1.875rem !important;
  }

  .profile-user-title {
    color: #111827 !important;
    font-size: 1.25rem !important;
    font-weight: 700 !important;
    margin-bottom: 0.5rem !important;
  }

  .profile-level-info {
    color: #6B7280 !important;
    font-size: 0.875rem !important;
    margin-bottom: 1rem !important;
  }

  .profile-progress-container {
    background-color: #E5E7EB !important;
    height: 0.5rem !important;
    border-radius: 9999px !important;
    margin-bottom: 0.5rem !important;
  }

  .profile-progress-fill {
    background-color: #10B981 !important;
    height: 100% !important;
    border-radius: 9999px !important;
  }

  .profile-progress-text {
    color: #6B7280 !important;
    font-size: 0.75rem !important;
    text-align: center !important;
  }

  .profile-stats-grid {
    display: grid !important;
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 1rem !important;
    margin-bottom: 1.5rem !important;
  }

  .profile-stat-card {
    background-color: #FFFFFF !important;
    border-radius: 0.75rem !important;
    padding: 1rem !important;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
    border: 1px solid #F3F4F6 !important;
    text-align: center !important;
    transition: box-shadow 0.3s ease, border-color 0.3s ease !important;
    cursor: pointer !important;
  }

  .profile-stat-card:hover {
    box-shadow: 0 4px 20px 0 rgba(139, 92, 246, 0.15), 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
    border-color: rgba(139, 92, 246, 0.2) !important;
  }

  .profile-stat-icon {
    height: 1.5rem !important;
    width: 1.5rem !important;
    color: #8B5CF6 !important;
    margin: 0 auto 0.5rem auto !important;
  }

  .profile-stat-value {
    color: #111827 !important;
    font-size: 1.5rem !important;
    font-weight: 700 !important;
    margin-bottom: 0.25rem !important;
  }

  .profile-stat-label {
    color: #6B7280 !important;
    font-size: 0.875rem !important;
  }

  .profile-achievements-header {
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
    margin-bottom: 1rem !important;
  }

  .profile-achievements-emoji {
    font-size: 1.25rem !important;
  }

  .profile-achievements-title {
    color: #111827 !important;
    font-size: 1.125rem !important;
    font-weight: 700 !important;
  }

  .profile-achievements-list {
    gap: 1rem !important;
    margin-bottom: 1.5rem !important;
    display: flex !important;
    flex-direction: column !important;
  }

  .profile-achievement-completed {
    background-color: #FFFFFF !important;
    border-radius: 0.75rem !important;
    padding: 1.25rem !important;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
    border-left: 4px solid #10B981 !important;
    border-right: 1px solid #F3F4F6 !important;
    border-top: 1px solid #F3F4F6 !important;
    border-bottom: 1px solid #F3F4F6 !important;
    display: flex !important;
    align-items: center !important;
    gap: 1rem !important;
    margin-bottom: 0.75rem !important;
  }

  .profile-achievement-progress {
    background-color: #FFFFFF !important;
    border-radius: 0.75rem !important;
    padding: 1.25rem !important;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
    border-left: 4px solid #8B5CF6 !important;
    border-right: 1px solid #F3F4F6 !important;
    border-top: 1px solid #F3F4F6 !important;
    border-bottom: 1px solid #F3F4F6 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    margin-bottom: 0.75rem !important;
  }

  .profile-achievement-progress .space-x-3 > * + * {
    margin-left: 1rem !important;
  }

  .profile-achievement-icon-completed {
    background-color: #D1FAE5 !important;
    border-radius: 0.5rem !important;
    padding: 0.75rem !important;
  }

  .profile-achievement-icon-progress {
    background-color: #EDE9FE !important;
    border-radius: 0.5rem !important;
    padding: 0.75rem !important;
  }

  .profile-achievement-icon {
    height: 1.25rem !important;
    width: 1.25rem !important;
  }

  .profile-achievement-icon-completed .profile-achievement-icon {
    color: #059669 !important;
  }

  .profile-achievement-icon-progress .profile-achievement-icon {
    color: #7C3AED !important;
  }

  .profile-achievement-content-title {
    color: #111827 !important;
    font-size: 1rem !important;
    font-weight: 600 !important;
    margin-bottom: 0.25rem !important;
  }

  .profile-achievement-content-description {
    color: #6B7280 !important;
    font-size: 0.875rem !important;
  }

  .profile-achievement-badge {
    background-color: #FEF3C7 !important;
    color: #92400E !important;
    border-radius: 9999px !important;
    padding: 0.25rem 0.5rem !important;
    font-size: 0.75rem !important;
    font-weight: 500 !important;
    margin-left: 0.5rem !important;
    align-self: flex-end !important;
    margin-bottom: 0.125rem !important;
  }

  .profile-achievement-progress-container {
    min-width: 0 !important;
    flex: 1 !important;
    margin-left: 1.5rem !important;
  }

  .profile-achievement-progress-bar {
    background-color: #E5E7EB !important;
    height: 0.5rem !important;
    border-radius: 9999px !important;
    margin-bottom: 0.25rem !important;
  }

  .profile-achievement-progress-fill {
    background-color: #8B5CF6 !important;
    height: 100% !important;
    border-radius: 9999px !important;
  }

  .profile-achievement-progress-text {
    color: #6B7280 !important;
    font-size: 0.75rem !important;
  }

  .profile-trophy-shelf-title {
    color: #111827 !important;
    font-size: 1.25rem !important;
    font-weight: 700 !important;
    margin-bottom: 1rem !important;
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
  }

  .profile-trophy-shelf-title::before {
    content: '' !important;
    font-size: 1.5rem !important;
  }

  .profile-trophy-shelf-container {
    background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%) !important;
    border-radius: 1rem !important;
    padding: 2rem !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
    border: 2px solid #e5e7eb !important;
    text-align: center !important;
    margin-bottom: 2rem !important;
    position: relative !important;
    overflow: hidden !important;
  }

  .profile-trophy-shelf-container::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    height: 4px !important;
    background: linear-gradient(90deg, #f59e0b, #eab308, #f59e0b) !important;
  }

  .profile-trophy-grid {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 1.5rem !important;
    margin-bottom: 1.5rem !important;
    flex-wrap: wrap !important;
    padding: 1rem !important;
    background: rgba(249, 250, 251, 0.5) !important;
    border-radius: 0.75rem !important;
  }

  .profile-trophy-emoji {
    font-size: 2.5rem !important;
    transition: transform 0.3s ease !important;
    cursor: pointer !important;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1)) !important;
  }

  .profile-trophy-emoji:hover {
    transform: scale(1.2) rotate(10deg) !important;
  }

  .profile-trophy-description {
    color: #6b7280 !important;
    font-size: 0.875rem !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.05em !important;
  }

  /* Social Page Styles - Following Design Profile JSON */
  .social-page-container {
    background-color: #F9FAFB !important;
    padding: 1.5rem !important;
    padding-bottom: 6rem !important;
    min-height: 100vh !important;
    overflow-x: hidden !important;
    box-sizing: border-box !important;
    width: 100% !important;
    max-width: 100vw !important;
  }

  .social-page-container * {
    box-sizing: border-box !important;
    max-width: 100% !important;
  }

  .social-section-header {
    margin-bottom: 1.5rem !important;
  }

  .social-section-title-row {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    gap: 0.5rem !important;
    margin-bottom: 0.5rem !important;
  }

  .social-section-left {
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
  }

  .social-section-emoji {
    font-size: 1.25rem !important;
  }

  .social-section-icon {
    width: 1.25rem !important;
    height: 1.25rem !important;
    color: #6b7280 !important;
    flex-shrink: 0 !important;
  }

  .social-section-title {
    color: #111827 !important;
    font-size: 1.25rem !important;
    font-weight: 700 !important;
  }

  .social-section-subtitle {
    color: #6B7280 !important;
    font-size: 0.875rem !important;
  }

  .social-list-container {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.75rem !important;
  }

  .social-list-item {
    background-color: #FFFFFF !important;
    border-radius: 0.75rem !important;
    padding: 1rem !important;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06) !important;
    border: 1px solid #F3F4F6 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
  }

  .social-item-left {
    display: flex !important;
    align-items: center !important;
    gap: 0.75rem !important;
  }

  .social-item-right {
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
  }

  /* Rank Badges */
  .rank-badge {
    width: 2rem !important;
    height: 2rem !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    font-size: 0.875rem !important;
    font-weight: 700 !important;
  }

  .rank-badge-first {
    background-color: #F59E0B !important;
    color: #FFFFFF !important;
  }

  .rank-badge-second {
    background-color: #9CA3AF !important;
    color: #FFFFFF !important;
  }

  .rank-badge-third {
    background-color: #EA580C !important;
    color: #FFFFFF !important;
  }

  .rank-badge-other {
    background-color: #D1D5DB !important;
    color: #4B5563 !important;
  }

  /* User Avatars */
  .user-avatar {
    width: 2.5rem !important;
    height: 2.5rem !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    font-size: 1.125rem !important;
    position: relative !important;
  }

  .user-avatar-emma {
    background-color: #FEF3C7 !important;
  }

  .user-avatar-you {
    background-color: #FED7AA !important;
  }

  .user-avatar-alex {
    background-color: #FCE7F3 !important;
  }

  .user-avatar-sofia {
    background-color: #E9D5FF !important;
  }

  .user-avatar-maya {
    background-color: #DBEAFE !important;
  }

  .user-avatar-luna {
    background-color: #F3E8FF !important;
  }

  .user-avatar-oliver {
    background-color: #FEF7CD !important;
  }

  .user-avatar-zara {
    background-color: #ECFDF5 !important;
  }

  .user-avatar-aria {
    background-color: #FDF2F8 !important;
  }

  .user-avatar-kai {
    background-color: #FFFBEB !important;
  }

  .user-avatar-nova {
    background-color: #F0F9FF !important;
  }

  .user-avatar-river {
    background-color: #F0FDFA !important;
  }

  /* Online Status */
  .online-status-container {
    position: relative !important;
  }

  .online-status-indicator {
    position: absolute !important;
    top: -0.125rem !important;
    right: -0.125rem !important;
    width: 0.5rem !important;
    height: 0.5rem !important;
    border-radius: 50% !important;
  }

  .online-status-online {
    background-color: #10B981 !important;
  }

  .online-status-offline {
    background-color: #9CA3AF !important;
  }

  /* User Info */
  .user-info-name {
    color: #111827 !important;
    font-size: 1rem !important;
    font-weight: 600 !important;
    margin-bottom: 0.25rem !important;
  }

  .user-info-stats {
    color: #6B7280 !important;
    font-size: 0.875rem !important;
  }

  .user-info-activity {
    color: #6B7280 !important;
    font-size: 0.875rem !important;
  }

  /* Achievement Badges */
  .achievement-medal {
    font-size: 1.125rem !important;
  }

  .achievement-trophy {
    font-size: 1.125rem !important;
  }

  /* Action Buttons */
  .add-friends-button {
    background: linear-gradient(135deg, #8B5CF6, #A855F7) !important;
    color: #FFFFFF !important;
    border: none !important;
    border-radius: 0.75rem !important;
    padding: 0.625rem 1.25rem !important;
    font-size: 0.875rem !important;
    font-weight: 600 !important;
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
    cursor: pointer !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.25) !important;
    position: relative !important;
    overflow: hidden !important;
  }

  .add-friends-button::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: -100% !important;
    width: 100% !important;
    height: 100% !important;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent) !important;
    transition: left 0.5s ease !important;
  }

  .add-friends-button:hover {
    background: linear-gradient(135deg, #7C3AED, #9333EA) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 8px 20px rgba(139, 92, 246, 0.35) !important;
  }

  .add-friends-button:hover::before {
    left: 100% !important;
  }

  .add-friends-button:active {
    transform: translateY(0) !important;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.25) !important;
  }

  /* Light mode message button */
  .message-button {
    background: white !important;
    color: #8B5CF6 !important;
    border: 1px solid #E5E7EB !important;
    border-radius: 0.75rem !important;
    padding: 0.75rem !important;
    cursor: pointer !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05) !important;
    position: relative !important;
    overflow: hidden !important;
  }

  .message-button::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: -100% !important;
    width: 100% !important;
    height: 100% !important;
    background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.1), transparent) !important;
    transition: left 0.5s ease !important;
  }

  .message-button:hover {
    background: #F3F4F6 !important;
    color: #8B5CF6 !important;
    border-color: #8B5CF6 !important;
    transform: translateY(-1px) scale(1.05) !important;
    box-shadow: 0 4px 16px rgba(139, 92, 246, 0.15) !important;
  }

  .message-button:hover::before {
    left: 100% !important;
  }

  .message-button:active {
    transform: translateY(0) scale(1) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05) !important;
  }

  /* Dark mode message button */
  .dark .message-button {
    background: #2a2435 !important;
    color: #a78bfa !important;
    border: 1px solid #3a3445 !important;
  }

  .dark .message-button::before {
    background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.2), transparent) !important;
  }

  .dark .message-button:hover {
    background: #3a3445 !important;
    color: #a78bfa !important;
    border-color: #8B5CF6 !important;
    box-shadow: 0 4px 16px rgba(139, 92, 246, 0.25) !important;
  }

  .button-icon {
    width: 1rem !important;
    height: 1rem !important;
  }

  .friend-request-buttons {
    display: flex !important;
    gap: 0.5rem !important;
    align-items: center !important;
  }

  .accept-button {
    background: linear-gradient(135deg, #86EFAC, #4ADE80) !important;
    color: #065F46 !important;
    border: 1px solid #86EFAC !important;
    border-radius: 0.5rem !important;
    padding: 0.5rem !important;
    cursor: pointer !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    box-shadow: 0 2px 8px rgba(134, 239, 172, 0.25) !important;
    position: relative !important;
    overflow: hidden !important;
  }

  .accept-button::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: -100% !important;
    width: 100% !important;
    height: 100% !important;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent) !important;
    transition: left 0.5s ease !important;
  }

  .accept-button:hover {
    background: linear-gradient(135deg, #4ADE80, #22C55E) !important;
    color: #FFFFFF !important;
    transform: translateY(-1px) scale(1.05) !important;
    box-shadow: 0 4px 16px rgba(74, 222, 128, 0.35) !important;
  }

  .accept-button:hover::before {
    left: 100% !important;
  }

  .accept-button:active {
    transform: translateY(0) scale(1) !important;
    box-shadow: 0 2px 8px rgba(134, 239, 172, 0.25) !important;
  }

  /* Light mode decline button */
  .decline-button {
    background: white !important;
    color: #EF4444 !important;
    border: 1px solid #E5E7EB !important;
    border-radius: 0.5rem !important;
    padding: 0.5rem !important;
    cursor: pointer !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.05) !important;
    position: relative !important;
    overflow: hidden !important;
  }

  .decline-button::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: -100% !important;
    width: 100% !important;
    height: 100% !important;
    background: linear-gradient(90deg, transparent, rgba(239, 68, 68, 0.1), transparent) !important;
    transition: left 0.5s ease !important;
  }

  .decline-button:hover {
    background: #FEF2F2 !important;
    color: #EF4444 !important;
    border-color: #EF4444 !important;
    transform: translateY(-1px) scale(1.05) !important;
    box-shadow: 0 4px 16px rgba(239, 68, 68, 0.15) !important;
  }

  .decline-button:hover::before {
    left: 100% !important;
  }

  .decline-button:active {
    transform: translateY(0) scale(1) !important;
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.1) !important;
  }

  /* Dark mode decline button */
  .dark .decline-button {
    background: #2a2435 !important;
    color: #EF4444 !important;
    border: 1px solid #3a3445 !important;
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.1) !important;
  }

  .dark .decline-button::before {
    background: linear-gradient(90deg, transparent, rgba(239, 68, 68, 0.2), transparent) !important;
  }

  .dark .decline-button:hover {
    background: #3a3445 !important;
    color: #EF4444 !important;
    border-color: #EF4444 !important;
    box-shadow: 0 4px 16px rgba(239, 68, 68, 0.25) !important;
  }

  /* Glassmorphism Modal Styles */
  .modal-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    background: rgba(0, 0, 0, 0.4) !important;
    backdrop-filter: blur(8px) !important;
    -webkit-backdrop-filter: blur(8px) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    z-index: 1000 !important;
    animation: modalFadeIn 0.3s ease-out !important;
  }

  .glassmorphism-modal {
    background: rgba(255, 255, 255, 0.85) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    border-radius: 1.5rem !important;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(255, 255, 255, 0.1) !important;
    width: 90% !important;
    max-width: 500px !important;
    max-height: 80vh !important;
    overflow: hidden !important;
    animation: modalSlideIn 0.3s ease-out !important;
  }

  .modal-header {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding: 1.5rem !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2) !important;
    background: rgba(255, 255, 255, 0.1) !important;
  }

  .modal-title {
    font-size: 1.25rem !important;
    font-weight: 700 !important;
    color: #1F2937 !important;
    margin: 0 !important;
  }

  .modal-close-button {
    background: rgba(255, 255, 255, 0.2) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    border-radius: 0.5rem !important;
    padding: 0.5rem !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
  }

  .modal-close-button:hover {
    background: rgba(255, 255, 255, 0.3) !important;
    transform: scale(1.05) !important;
  }

  .modal-close-icon {
    width: 1.25rem !important;
    height: 1.25rem !important;
    color: #6B7280 !important;
  }

  .modal-search-container {
    padding: 1.5rem !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2) !important;
  }

  .modal-search-input-wrapper {
    position: relative !important;
    display: flex !important;
    align-items: center !important;
  }

  .modal-search-icon {
    position: absolute !important;
    left: 1rem !important;
    width: 1.25rem !important;
    height: 1.25rem !important;
    color: #9CA3AF !important;
    z-index: 1 !important;
  }

  .modal-search-input {
    width: 100% !important;
    padding: 0.75rem 1rem 0.75rem 3rem !important;
    background: rgba(255, 255, 255, 0.4) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    border-radius: 0.75rem !important;
    font-size: 1rem !important;
    color: #1F2937 !important;
    outline: none !important;
    transition: all 0.2s ease !important;
  }

  .modal-search-input::placeholder {
    color: #9CA3AF !important;
  }

  .modal-search-input:focus {
    background: rgba(255, 255, 255, 0.6) !important;
    border-color: rgba(139, 92, 246, 0.5) !important;
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1) !important;
  }

  .modal-results-container {
    max-height: 400px !important;
    overflow-y: auto !important;
    padding: 1rem !important;
  }

  .modal-user-item {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding: 1rem !important;
    margin-bottom: 0.5rem !important;
    background: rgba(255, 255, 255, 0.3) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    border-radius: 0.75rem !important;
    transition: all 0.2s ease !important;
    min-height: 80px !important;
  }

  .modal-user-item:hover {
    background: rgba(255, 255, 255, 0.4) !important;
    transform: translateY(-1px) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
  }

  .modal-user-left {
    display: flex !important;
    align-items: center !important;
    gap: 0.75rem !important;
    flex: 1 !important;
    min-width: 0 !important;
  }

  .modal-user-info {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.25rem !important;
  }

  .modal-user-name {
    font-weight: 600 !important;
    color: #1F2937 !important;
    font-size: 1rem !important;
  }

  .modal-user-bio {
    color: #6B7280 !important;
    font-size: 0.875rem !important;
  }

  .modal-mutual-friends {
    color: #8B5CF6 !important;
    font-size: 0.75rem !important;
    font-weight: 500 !important;
  }

  .modal-add-friend-button {
    background: rgba(139, 92, 246, 0.8) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    color: #FFFFFF !important;
    border: 1px solid rgba(139, 92, 246, 0.3) !important;
    border-radius: 0.5rem !important;
    padding: 0.5rem 1rem !important;
    font-size: 0.875rem !important;
    font-weight: 500 !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.5rem !important;
    min-width: 110px !important;
    height: 36px !important;
    flex-shrink: 0 !important;
    white-space: nowrap !important;
  }

  .modal-add-friend-button:hover {
    background: rgba(139, 92, 246, 1) !important;
    transform: translateY(-1px) scale(1.02) !important;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3) !important;
  }

  .modal-no-results {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 3rem 1rem !important;
    text-align: center !important;
  }

  .modal-no-results-icon {
    font-size: 3rem !important;
    margin-bottom: 1rem !important;
    opacity: 0.5 !important;
  }

  .modal-no-results-text {
    color: #6B7280 !important;
    font-size: 1rem !important;
  }

  @keyframes modalFadeIn {
    from {
      opacity: 0 !important;
    }
    to {
      opacity: 1 !important;
    }
  }

  @keyframes modalSlideIn {
    from {
      opacity: 0 !important;
      transform: translateY(-20px) scale(0.95) !important;
    }
    to {
      opacity: 1 !important;
      transform: translateY(0) scale(1) !important;
    }
  }

  /* Mobile responsive styles for modal */
  @media (max-width: 640px) {
    .glassmorphism-modal {
      width: 95% !important;
      max-height: 85vh !important;
      margin: 1rem !important;
    }

    .modal-user-item {
      flex-direction: row !important;
      align-items: center !important;
      gap: 1rem !important;
      padding: 1rem !important;
      min-height: 70px !important;
    }

    .modal-user-left {
      flex: 1 !important;
      min-width: 0 !important;
    }

    .modal-user-right {
      flex-shrink: 0 !important;
      display: flex !important;
      align-items: center !important;
    }

    .modal-add-friend-button {
      min-width: 120px !important;
      height: 40px !important;
      font-size: 0.875rem !important;
    }

    .modal-search-container {
      padding: 1rem !important;
    }

    .modal-header {
      padding: 1rem !important;
    }

    .modal-results-container {
      padding: 0.5rem !important;
    }
  }

  .settings-button-secondary:hover {
    background-color: #FAF5FF !important;
    border-color: #D8B4FE !important;
  }

  /* ============================================
     Account Settings Modals - Beautiful Design
     ============================================ */

  /* Modal Backdrop */
  .account-modal-backdrop {
    position: fixed !important;
    inset: 0 !important;
    background: rgba(0, 0, 0, 0.5) !important;
    backdrop-filter: blur(4px) !important;
    -webkit-backdrop-filter: blur(4px) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 1rem !important;
    z-index: 999999 !important;
    animation: modalFadeIn 0.2s ease-out !important;
  }

  @keyframes modalFadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* Modal Container */
  .account-modal-container {
    background: #FFFFFF !important;
    border-radius: 1rem !important;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
    max-width: 28rem !important;
    width: 100% !important;
    max-height: 90vh !important;
    overflow-y: auto !important;
    position: relative !important;
    animation: modalSlideUp 0.3s ease-out !important;
  }

  @keyframes modalSlideUp {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* Modal Header */
  .account-modal-header {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding: 1.5rem !important;
    border-bottom: 1px solid #F3F4F6 !important;
  }

  .account-modal-header-content {
    display: flex !important;
    align-items: center !important;
    gap: 0.75rem !important;
  }

  .account-modal-icon {
    width: 2.5rem !important;
    height: 2.5rem !important;
    background: #8B5CF6 !important;
    border-radius: 0.75rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    color: #FFFFFF !important;
  }

  .account-modal-title {
    font-size: 1.25rem !important;
    font-weight: 700 !important;
    color: #111827 !important;
  }

  .account-modal-close {
    width: 2rem !important;
    height: 2rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 0.5rem !important;
    color: #6B7280 !important;
    transition: all 0.2s ease !important;
    cursor: pointer !important;
    background: transparent !important;
    border: none !important;
  }

  .account-modal-close:hover {
    background-color: #F3F4F6 !important;
    color: #111827 !important;
  }

  /* Modal Body */
  .account-modal-body {
    padding: 1.5rem !important;
  }

  .account-modal-section {
    margin-bottom: 1.5rem !important;
  }

  .account-modal-section:last-child {
    margin-bottom: 0 !important;
  }

  /* Form Labels */
  .account-modal-label {
    display: block !important;
    font-size: 0.875rem !important;
    font-weight: 600 !important;
    color: #374151 !important;
    margin-bottom: 0.5rem !important;
  }

  /* Form Inputs */
  .account-modal-input {
    width: 100% !important;
    padding: 0.75rem 1rem !important;
    border: 1px solid #D1D5DB !important;
    border-radius: 0.5rem !important;
    font-size: 0.875rem !important;
    color: #111827 !important;
    transition: all 0.2s ease !important;
    background: #FFFFFF !important;
  }

  .account-modal-input:focus {
    outline: none !important;
    border-color: #8B5CF6 !important;
    ring: 2px !important;
    ring-color: rgba(139, 92, 246, 0.1) !important;
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1) !important;
  }

  .account-modal-input:disabled {
    background-color: #F9FAFB !important;
    color: #6B7280 !important;
    cursor: not-allowed !important;
  }

  .account-modal-input::placeholder {
    color: #9CA3AF !important;
  }

  /* Password Input with Toggle */
  .account-modal-input-wrapper {
    position: relative !important;
  }

  .account-modal-input-with-icon {
    padding-right: 3rem !important;
  }

  .account-modal-input-icon {
    position: absolute !important;
    right: 0.75rem !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    color: #9CA3AF !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    padding: 0.25rem !important;
    border-radius: 0.375rem !important;
    background: transparent !important;
    border: none !important;
  }

  .account-modal-input-icon:hover {
    color: #8B5CF6 !important;
    background: #F3E8FF !important;
  }

  /* Helper Text */
  .account-modal-helper {
    font-size: 0.75rem !important;
    color: #6B7280 !important;
    margin-top: 0.25rem !important;
  }

  .account-modal-char-count {
    font-size: 0.75rem !important;
    color: #9CA3AF !important;
    margin-top: 0.25rem !important;
  }

  /* Avatar Grid */
  .account-modal-avatar-grid {
    display: grid !important;
    grid-template-columns: repeat(8, 1fr) !important;
    gap: 0.5rem !important;
  }

  .account-modal-avatar-button {
    width: 2.5rem !important;
    height: 2.5rem !important;
    font-size: 1.5rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 0.5rem !important;
    transition: all 0.2s ease !important;
    cursor: pointer !important;
    background: #F9FAFB !important;
    border: 2px solid transparent !important;
  }

  .account-modal-avatar-button:hover {
    background: #F3F4F6 !important;
    transform: scale(1.1) !important;
  }

  .account-modal-avatar-button-selected {
    background: #F3E8FF !important;
    border-color: #8B5CF6 !important;
    transform: scale(1.15) !important;
  }

  /* Preview Box */
  .account-modal-preview {
    padding: 1rem !important;
    background: linear-gradient(135deg, #F9FAFB 0%, #F3F4F6 100%) !important;
    border-radius: 0.75rem !important;
    border: 1px solid #E5E7EB !important;
  }

  .account-modal-preview-title {
    font-size: 0.875rem !important;
    color: #6B7280 !important;
    margin-bottom: 0.5rem !important;
  }

  .account-modal-preview-content {
    display: flex !important;
    align-items: center !important;
    gap: 0.75rem !important;
  }

  .account-modal-preview-avatar {
    width: 3rem !important;
    height: 3rem !important;
    font-size: 2rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    background: #FFFFFF !important;
    border-radius: 9999px !important;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1) !important;
  }

  .account-modal-preview-name {
    font-weight: 600 !important;
    color: #111827 !important;
  }

  .account-modal-preview-subtitle {
    font-size: 0.875rem !important;
    color: #6B7280 !important;
  }

  /* Info Box */
  .account-modal-info {
    padding: 0.75rem !important;
    background: #EFF6FF !important;
    border: 1px solid #DBEAFE !important;
    border-radius: 0.5rem !important;
  }

  .account-modal-info-text {
    font-size: 0.875rem !important;
    color: #1E40AF !important;
  }

  /* Error Box */
  .account-modal-error {
    padding: 0.75rem !important;
    background: #FEF2F2 !important;
    border: 1px solid #FECACA !important;
    border-radius: 0.5rem !important;
  }

  .account-modal-error-text {
    font-size: 0.875rem !important;
    color: #DC2626 !important;
  }

  /* Password Strength Indicator */
  .account-modal-strength {
    margin-top: 0.5rem !important;
  }

  .account-modal-strength-header {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    margin-bottom: 0.25rem !important;
  }

  .account-modal-strength-label {
    font-size: 0.75rem !important;
    color: #6B7280 !important;
  }

  .account-modal-strength-value {
    font-size: 0.75rem !important;
    font-weight: 600 !important;
  }

  .account-modal-strength-value-weak {
    color: #DC2626 !important;
  }

  .account-modal-strength-value-medium {
    color: #F59E0B !important;
  }

  .account-modal-strength-value-strong {
    color: #10B981 !important;
  }

  .account-modal-strength-bar {
    width: 100% !important;
    height: 0.5rem !important;
    background: #F3F4F6 !important;
    border-radius: 9999px !important;
    overflow: hidden !important;
  }

  .account-modal-strength-fill {
    height: 100% !important;
    transition: all 0.3s ease !important;
  }

  .account-modal-strength-fill-weak {
    background: #DC2626 !important;
  }

  .account-modal-strength-fill-medium {
    background: #F59E0B !important;
  }

  .account-modal-strength-fill-strong {
    background: #10B981 !important;
  }

  /* Password Requirements */
  .account-modal-requirements {
    padding: 0.75rem !important;
    background: #F9FAFB !important;
    border-radius: 0.5rem !important;
  }

  .account-modal-requirements-title {
    font-size: 0.75rem !important;
    font-weight: 600 !important;
    color: #374151 !important;
    margin-bottom: 0.5rem !important;
  }

  .account-modal-requirements-list {
    font-size: 0.75rem !important;
    color: #6B7280 !important;
  }

  .account-modal-requirement {
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
    margin-bottom: 0.25rem !important;
  }

  .account-modal-requirement:last-child {
    margin-bottom: 0 !important;
  }

  .account-modal-requirement-icon {
    flex-shrink: 0 !important;
  }

  .account-modal-requirement-met {
    color: #10B981 !important;
  }

  .account-modal-requirement-unmet {
    color: #D1D5DB !important;
  }

  /* Modal Footer */
  .account-modal-footer {
    display: flex !important;
    gap: 0.75rem !important;
    padding: 1.5rem !important;
    border-top: 1px solid #F3F4F6 !important;
  }

  .account-modal-button {
    flex: 1 !important;
    padding: 0.75rem 1rem !important;
    border-radius: 0.5rem !important;
    font-size: 0.875rem !important;
    font-weight: 600 !important;
    transition: all 0.2s ease !important;
    cursor: pointer !important;
    border: none !important;
  }

  .account-modal-button-cancel {
    background: #FFFFFF !important;
    color: #374151 !important;
    border: 1px solid #D1D5DB !important;
  }

  .account-modal-button-cancel:hover {
    background: #F9FAFB !important;
  }

  .account-modal-button-cancel:disabled {
    opacity: 0.5 !important;
    cursor: not-allowed !important;
  }

  .account-modal-button-primary {
    background: #8B5CF6 !important;
    color: #FFFFFF !important;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
  }

  .account-modal-button-primary:hover {
    background: #7C3AED !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
    transform: translateY(-1px) !important;
  }

  .account-modal-button-primary:disabled {
    opacity: 0.5 !important;
    cursor: not-allowed !important;
    transform: none !important;
  }

  /* Responsive Design */
  @media (max-width: 640px) {
    .account-modal-avatar-grid {
      grid-template-columns: repeat(6, 1fr) !important;
    }

    .account-modal-header {
      padding: 1rem !important;
    }

    .account-modal-body {
      padding: 1rem !important;
    }

    .account-modal-footer {
      padding: 1rem !important;
    }
  }

  .settings-select-compact {
    background-color: #FFFFFF !important;
    color: #8B5CF6 !important;
    border: 1px solid #E9D5FF !important;
    border-radius: 8px !important;
    padding: 8px 16px !important;
    font-size: 14px !important;
    cursor: pointer !important;
    appearance: none !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
  }

  .settings-select-compact:hover {
    background-color: #FAF5FF !important;
    border-color: #D8B4FE !important;
  }

  .settings-select-compact:focus {
    outline: 2px solid #8B5CF6 !important;
    outline-offset: 2px !important;
  }

  .settings-button-destructive {
    background-color: #EF4444 !important;
    color: #FFFFFF !important;
    border: none !important;
    border-radius: 8px !important;
    font-weight: 500 !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
  }

  .settings-button-destructive:hover {
    background-color: #DC2626 !important;
  }

  .settings-support-section {
    padding: 24px 16px 12px 16px !important;
    background-color: transparent !important;
  }

  .settings-support-title {
    font-size: 18px !important;
    font-weight: 600 !important;
    color: #1F2937 !important;
    margin: 0 0 16px 0 !important;
  }

  .settings-support-icon-purple {
    background-color: #E9D5FF !important;
    color: #8B5CF6 !important;
    width: 40px !important;
    height: 40px !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    flex-shrink: 0 !important;
  }

  .settings-support-icon-orange {
    background-color: #FED7AA !important;
    color: #EA580C !important;
    width: 40px !important;
    height: 40px !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    flex-shrink: 0 !important;
  }

  .settings-support-item {
    background-color: #FFFFFF !important;
    border-bottom: 1px solid #F3F4F6 !important;
    padding: 16px 20px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
  }

  .settings-support-item:last-child {
    border-bottom: none !important;
  }

  .settings-support-content {
    display: flex !important;
    align-items: center !important;
    gap: 12px !important;
    flex: 1 !important;
  }

  .settings-support-text {
    flex: 1 !important;
  }

  .settings-support-text-title {
    font-size: 16px !important;
    font-weight: 500 !important;
    color: #1F2937 !important;
    margin: 0 0 4px 0 !important;
    line-height: 1.4 !important;
  }

  .settings-support-text-subtitle {
    font-size: 14px !important;
    color: #6B7280 !important;
    margin: 0 !important;
    line-height: 1.4 !important;
  }

  .settings-support-action {
    font-size: 14px !important;
    font-weight: 500 !important;
    color: #6B7280 !important;
    display: flex !important;
    align-items: center !important;
    gap: 4px !important;
  }

  .settings-toggle-container {
    position: relative !important;
    display: inline-flex !important;
    align-items: center !important;
    width: 3rem !important; /* 48px */
    height: 1.75rem !important; /* 28px */
    border-radius: 0.875rem !important; /* 14px - perfect pill */
    padding: 0.125rem !important; /* 2px */
    cursor: pointer !important;
    outline: none !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  }

  .settings-toggle-container:focus {
    outline: 2px solid #8B5CF6 !important;
    outline-offset: 2px !important;
  }

  .settings-toggle-enabled {
    background-color: #8B5CF6 !important;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1), 0 2px 8px rgba(139, 92, 246, 0.3) !important;
    border: 1px solid #7C3AED !important;
  }

  .settings-toggle-disabled {
    background-color: #E5E7EB !important;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.1) !important;
    border: 1px solid #D1D5DB !important;
  }

  .settings-toggle-enabled:hover {
    background-color: #7C3AED !important;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1), 0 4px 12px rgba(139, 92, 246, 0.4) !important;
  }

  .settings-toggle-disabled:hover {
    background-color: #D1D5DB !important;
    border-color: #C4C4C4 !important;
  }

  .settings-toggle-thumb {
    position: relative !important;
    display: inline-block !important;
    width: 1.25rem !important; /* 20px */
    height: 1.25rem !important; /* 20px */
    background-color: #FFFFFF !important;
    border-radius: 50% !important;
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    z-index: 1 !important;
  }

  .settings-toggle-thumb-enabled {
    transform: translateX(1.25rem) !important; /* 20px */
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25), 0 1px 2px rgba(0, 0, 0, 0.1) !important;
  }

  .settings-toggle-thumb-disabled {
    transform: translateX(0) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2), 0 1px 2px rgba(0, 0, 0, 0.1) !important;
  }

  /* No Animations - Performance Mode */
  .no-animations *,
  .no-animations *::before,
  .no-animations *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    transition-delay: 0ms !important;
    transform: none !important;
  }

  .no-animations .nav-item:hover {
    transform: none !important;
  }

  .no-animations .message-button:hover,
  .no-animations .decline-button:hover,
  .no-animations .accept-button:hover {
    transform: none !important;
  }

  .no-animations .library-story-item:hover,
  .no-animations .library-character-button:hover {
    transform: none !important;
  }

  .no-animations .settings-nav-item:hover {
    transform: none !important;
  }

  .no-animations .theme-toggle:hover,
  .no-animations .settings-toggle-container:hover {
    transform: none !important;
  }

  /* Disable hover effects on cards and buttons */
  .no-animations .magical-card:hover,
  .no-animations .social-list-item:hover,
  .no-animations .modal-user-item:hover {
    transform: none !important;
    box-shadow: inherit !important;
  }

  /* Disable floating animations */
  .no-animations .floating,
  .no-animations .magical-pulse,
  .no-animations .shimmer {
    animation: none !important;
  }

  /* Disable backdrop blur for better performance */
  .no-animations .nav-glass,
  .no-animations .glassmorphism-modal,
  .no-animations .modal-overlay {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }

  /* Navigation-only dark mode for home page */
  .nav-dark .nav-glass {
    background: rgba(26, 22, 37, 0.95) !important;
    backdrop-filter: blur(20px) !important;
    border: none !important;
    border-top: 1px solid rgba(58, 52, 69, 0.8) !important;
    border-left: none !important;
    border-right: none !important;
    border-bottom: none !important;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.4) !important;
  }

  /* Ensure bottom safe area is also dark */
  .nav-dark .nav-glass::after {
    content: '' !important;
    position: absolute !important;
    bottom: -20px !important;
    left: 0 !important;
    right: 0 !important;
    height: 20px !important;
    background: rgba(26, 22, 37, 0.95) !important;
    z-index: -1 !important;
  }

  /* Override any safe area bottom styling */
  .nav-dark nav {
    background: rgba(26, 22, 37, 0.95) !important;
  }

  .nav-dark .nav-item {
    color: #a0a0b0 !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  }

  .nav-dark .nav-item.active {
    background: rgba(139, 92, 246, 0.3) !important;
    color: #ffffff !important;
    transform: scale(1.05) !important;
    border-radius: 12px !important;
  }

  .nav-dark .nav-item.active svg {
    color: #ffffff !important;
    filter: drop-shadow(0 2px 4px rgba(139, 92, 246, 0.5)) !important;
  }

  .nav-dark .nav-item.active span {
    color: #ffffff !important;
    font-weight: 600 !important;
  }

  .nav-dark .nav-item:not(.active):hover {
    background: rgba(58, 52, 69, 0.5) !important;
    color: #c4b5fd !important;
    transform: translateY(-2px) scale(1.02) !important;
    border-radius: 12px !important;
  }

  .nav-dark .nav-item:not(.active):hover svg {
    color: #c4b5fd !important;
  }

  .nav-dark .nav-item:not(.active):hover span {
    color: #c4b5fd !important;
  }

  .nav-dark .nav-item svg {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  }

  .nav-dark .nav-item span {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  }




  .settings-action-buttons {
    padding: 0 16px 24px 16px !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 12px !important;
  }

  .settings-sign-out-button {
    background-color: #FFFFFF !important;
    color: #6B7280 !important;
    border: 1px solid #E5E7EB !important;
    border-radius: 8px !important;
    padding: 12px 16px !important;
    font-size: 14px !important;
    font-weight: 500 !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 8px !important;
    width: 
100% !important;
  }

  .settings-sign-out-button:hover {
    background-color: #F9FAFB !important;
    border-color: #D1D5DB !important;
  }

  .settings-app-info {
    background-color: transparent !important;
    padding: 32px 16px !important;
    text-align: center !important;
  }

  .settings-app-icon {
    width: 48px !important;
    height: 48px !important;
    color: #A78BFA !important;
    margin: 0 auto 16px auto !important;
  }

  .settings-app-name {
    font-size: 18px !important;
    font-weight: 600 !important;
    color: #1F2937 !important;
    margin: 0 0 8px 0 !important;
  }

  .settings-app-version {
    font-size: 14px !important;
    color: #6B7280 !important;
    margin: 0 0 4px 0 !important;
  }

  .settings-app-tagline {
    font-size: 14px !important;
    color: #6B7280 !important;
    margin: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 4px !important;
  }

  /* Hover states */
  .hover\:text-primary-400:hover { color: #a855f7; }

  /* Button styles */
  button {
    cursor: pointer;
    transition: all 0.2s;
  }

  button:hover {
    transform: translateY(-1px);
  }

  /* Magical UI Styles */
  .magical-gradient {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
    background-size: 400% 400%;
    animation: gradientShift 8s ease infinite;
  }

  .sparkle-bg {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
    background-size: 400% 400%;
    animation: gradientShift 8s ease infinite;
    position: relative;
    overflow: hidden;
  }

  .sparkle-bg::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      radial-gradient(2px 2px at 20px 30px, #fff, transparent),
      radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent),
      radial-gradient(1px 1px at 90px 40px, #fff, transparent),
      radial-gradient(1px 1px at 130px 80px, rgba(255,255,255,0.6), transparent),
      radial-gradient(2px 2px at 160px 30px, #fff, transparent);
    background-repeat: repeat;
    background-size: 200px 100px;
    animation: sparkle 3s linear infinite;
  }

  @keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  @keyframes sparkle {
    0% { transform: translateY(0px); opacity: 1; }
    100% { transform: translateY(-100px); opacity: 0; }
  }

  .glass-card {
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }

  .nav-glass {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.8);
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);
  }

  .glass-button {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    transition: all 0.3s ease;
  }

  .glass-button:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  }

  .purple-button {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    color: white;
    font-weight: 600;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    transition: all 0.3s ease;
  }

  .purple-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
  }

  /* Enhanced BottomNav with User Info */
  .nav-user-bar {
    background: linear-gradient(135deg, 
      rgba(139, 92, 246, 0.15) 0%, 
      rgba(168, 85, 247, 0.1) 50%, 
      rgba(139, 92, 246, 0.15) 100%);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.15);
    position: relative;
  }

  .nav-user-bar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, 
      transparent 0%, 
      rgba(255, 255, 255, 0.05) 50%, 
      transparent 100%);
    pointer-events: none;
  }

  .nav-user-avatar {
    background: linear-gradient(135deg, #8B5CF6 0%, #A855F7 100%);
    box-shadow: 
      0 2px 8px rgba(139, 92, 246, 0.3),
      0 0 0 2px rgba(255, 255, 255, 0.1);
    position: relative;
  }

  .nav-user-avatar::before {
    content: '';
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    bottom: -1px;
    background: linear-gradient(135deg, 
      rgba(255, 255, 255, 0.3) 0%, 
      transparent 50%, 
      rgba(255, 255, 255, 0.1) 100%);
    border-radius: inherit;
    z-index: -1;
  }

  .nav-logout-button {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  .nav-logout-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
      transparent, 
      rgba(255, 255, 255, 0.1), 
      transparent);
    transition: left 0.5s ease;
  }

  .nav-logout-button:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    border-color: rgba(255, 255, 255, 0.3);
  }

  .nav-logout-button:hover::before {
    left: 100%;
  }

  .floating-book {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    33% { transform: translateY(-10px) rotate(1deg); }
    66% { transform: translateY(-5px) rotate(-1deg); }
  }

  .text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }

  .icon-glow {
    filter: drop-shadow(0 0 8px rgba(102, 126, 234, 0.6));
  }

  /* Navigation styles */
  .nav-item {
    transition: all 0.3s ease;
    border-radius: 12px;
    padding: 8px 12px;
    min-width: 60px;
  }

  .nav-item.active {
    background: rgba(102, 126, 234, 0.3);
    color: #667eea;
    transform: scale(1.05);
  }

  .nav-item:not(.active) {
    color: #6b7280;
  }

  .nav-item:hover {
    background: rgba(102, 126, 234, 0.2);
    transform: translateY(-2px) scale(1.02);
  }

  /* SVG Icon styles */
  .w-6 { 
    width: 1.5rem; 
    height: 1.5rem;
    min-width: 1.5rem;
    min-height: 1.5rem;
  }
  .h-6 { height: 1.5rem; }
  /* Added small size utilities used by heroicons in AuthPage */
  .w-5 { width: 1.25rem; height: 1.25rem; min-width: 1.25rem; min-height: 1.25rem; }
  .h-5 { height: 1.25rem; }
  .w-4 { width: 1rem; height: 1rem; min-width: 1rem; min-height: 1rem; }
  .h-4 { height: 1rem; }
  
  svg {
    display: inline-block;
    vertical-align: middle;
    overflow: visible;
    fill-rule: evenodd;
    clip-rule: evenodd;
  }

  /* Force all text in creation cards to be light */
  .creation-section .magical-card * {
    color: hsl(0, 0%, 95%) !important;
  }

  .creation-section .magical-card p,
  .creation-section .magical-card .card-description {
    color: hsl(0, 0%, 85%) !important;
  }

  /* Specific targeting for inline styled elements */
  .magical-card h4[style*="fontSize"],
  .magical-card p[style*="fontSize"] {
    color: hsl(0, 0%, 95%) !important;
    text-shadow: 0 2px 4px hsl(0, 0%, 0% / 0.6), 0 1px 2px hsl(0, 0%, 0% / 0.4) !important;
  }

  .magical-card p[style*="fontSize"]:not(.card-title) {
    color: hsl(0, 0%, 85%) !important;
  }

  /* Ensure nav icons are properly sized */
  .nav-item svg {
    width: 24px;
    height: 24px;
    min-width: 24px;
    min-height: 24px;
  }

  /* Flex utilities */
  .flex-shrink-0 { flex-shrink: 0; }
  .flex-1 { flex: 1 1 0%; }
  
  /* Width utilities */
  .w-full { width: 100%; }

  /* Opacity utilities */
  .opacity-60 { opacity: 0.6; }
  .opacity-70 { opacity: 0.7; }
  .opacity-80 { opacity: 0.8; }
  .opacity-90 { opacity: 0.9; }

  /* Border opacity */
  .border-opacity-20 { border-color: rgba(255, 255, 255, 0.2); }
  
  /* Background opacity */
  .bg-opacity-20 { background-color: rgba(255, 255, 255, 0.2); }

  /* Additional color utilities */
  .text-purple-400 { color: #a78bfa; }
  .text-purple-600 { color: #9333ea; }
  .text-gray-400 { color: #9ca3af; }
  .text-gray-600 { color: #4b5563; }
  .from-purple-400 { --tw-gradient-from: #a78bfa; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(167, 139, 250, 0)); }
  .from-pink-400 { --tw-gradient-from: #f472b6; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(244, 114, 182, 0)); }
  .from-blue-400 { --tw-gradient-from: #60a5fa; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(96, 165, 250, 0)); }
  .to-purple-600 { --tw-gradient-to: #9333ea; }
  .to-pink-600 { --tw-gradient-to: #db2777; }
  .to-blue-600 { --tw-gradient-to: #2563eb; }

  /* Mobile-specific improvements */
  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Prevent horizontal scrolling and ensure single scroll container */
  html {
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
  }
  
  body {
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
  }

  /* Ensure all containers respect viewport width */
  * {
    box-sizing: border-box;
  }

  /* DEFINITIVE FIX: Force absolute single scroll container */
  html {
    overflow: auto !important;
    height: 100% !important;
  }

  body {
    overflow: hidden !important;
    height: 100vh !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Make React root the scroll container */
  #root {
    overflow-y: auto !important;
    overflow-x: hidden !important;
    height: 100vh !important;
    width: 100vw !important;
  }

  /* Remove all other scroll contexts */
  #root > *,
  .min-h-screen,
  .magical-home {
    overflow: visible !important;
    height: auto !important;
    min-height: auto !important;
    max-height: none !important;
    width: 100% !important;
    max-width: 100vw !important;
  }

  /* Only override horizontal overflow on Tailwind classes */
  .overflow-auto,
  .overflow-y-auto,
  .overflow-scroll,
  .overflow-y-scroll {
    overflow-x: hidden !important;
  }

  /* Preserve icon containers and card styling but constrain overflow */
  .card-icon,
  .section-icon,
  .magical-card .card-icon,
  .magical-button,
  svg {
    overflow: visible !important;
  }

  /* Only constrain pseudo-elements that can cause overflow */
  .magical-home::before,
  .magical-home::after,
  .magical-card::before {
    max-width: 100vw !important;
    overflow: hidden !important;
  }

  /* Only constrain specific problematic animations */
  .floating-book {
    transform-origin: center !important;
  }

  .magical-sparkles {
    transform-origin: center !important;
  }

  /* Bottom Navigation */
.nav-glass {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1);
}

/* Notification Badge */
.notification-badge {
  position: absolute !important;
  top: -6px !important;
  right: -6px !important;
  background: #EF4444 !important;
  color: white !important;
  border-radius: 9999px !important;
  min-width: 18px !important;
  height: 18px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 0.625rem !important;
  font-weight: 700 !important;
  padding: 0 4px !important;
  border: 2px solid white !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
  animation: pulse-notification 2s infinite !important;
}

@keyframes pulse-notification {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

.dark .notification-badge {
  border-color: #1E293B !important;
}

  .nav-item {
    position: relative;
    padding: 0.75rem 1rem;
    border-radius: 1rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    min-width: 70px;
    text-align: center;
    text-decoration: none !important;
  }

  .nav-item:hover {
    text-decoration: none !important;
  }

  .nav-item:focus {
    text-decoration: none !important;
  }

  /* Active state with purple gradient background */
  .nav-item.active {
    background: linear-gradient(135deg, #8B5CF6 0%, #A855F7 100%);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
    transform: translateY(-2px);
  }

  /* Active state text and icon colors */
  .nav-item.active span {
    color: white !important;
    font-weight: 600;
  }

  .nav-item.active svg {
    color: white !important;
  }

  /* Hover effects for inactive items */
  .nav-item:not(.active):hover {
    background: rgba(139, 92, 246, 0.1);
    transform: translateY(-1px);
  }

  /* Allow individual icon colors when inactive */
  .nav-item:not(.active) span {
    font-weight: 500;
  }

  /* Individual icon colors */
  .nav-item:not(.active) .text-purple-500 {
    color: #8B5CF6 !important;
  }

  .nav-item:not(.active) .text-orange-500 {
    color: #F97316 !important;
  }

  .nav-item:not(.active) .text-blue-500 {
    color: #3B82F6 !important;
  }

  .nav-item:not(.active) .text-green-500 {
    color: #10B981 !important;
  }

  /* Icon container spacing */
  .nav-item .mb-1 {
    margin-bottom: 0.25rem;
  }

  /* Responsive adjustments */
  @media (max-width: 480px) {
    .nav-item {
      padding: 0.5rem 0.75rem;
      min-width: 60px;
    }
    
    .nav-item span {
      font-size: 0.7rem;
    }
  }

  /* Mobile responsive grid improvements */
  @media (max-width: 640px) {
    .grid-cols-1 {
      grid-template-columns: repeat(1, minmax(0, 1fr));
    }
    
    .gap-4 {
      gap: 0.75rem;
    }
    
    .gap-6 {
      gap: 1rem;
    }
    
    .px-4 {
      padding-left: 1rem;
      padding-right: 1rem;
    }
    
    .py-6 {
      padding-top: 1rem;
      padding-bottom: 1rem;
    }
    
    .p-8 {
      padding: 1.5rem;
    }
    
    .text-2xl {
      font-size: 1.25rem;
    }
    
    .text-xl {
      font-size: 1.125rem;
    }
  }

  /* Improved navigation for mobile */
  @media (max-width: 768px) {
    .nav-glass {
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(25px);
      border-top: 1px solid rgba(0, 0, 0, 0.1);
      box-shadow: 0 -2px 20px rgba(0, 0, 0, 0.1);
    }
    
    .nav-item {
      padding: 6px 8px;
      min-width: 50px;
    }
    
    .nav-item svg {
      width: 20px;
      height: 20px;
      min-width: 20px;
      min-height: 20px;
    }
  }

  /* Ensure proper z-index stacking */
  .z-10 { z-index: 10; }
  .z-20 { z-index: 20; }
  .z-30 { z-index: 30; }
  .z-40 { z-index: 40; }

  /* Additional responsive utilities */
  .overflow-x-hidden { overflow-x: hidden; }
  .min-w-0 { min-width: 0; }
  .truncate { 
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  /* Responsive text sizes */
  @media (min-width: 640px) {
    .sm\:text-base { font-size: 1rem; }
    .sm\:text-lg { font-size: 1.125rem; }
    .sm\:text-2xl { font-size: 1.5rem; }
    .sm\:space-x-4 > :not([hidden]) ~ :not([hidden]) {
      margin-left: 1rem;
    }
    .sm\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .sm\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
  }

  @media (min-width: 1024px) {
    .lg\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .lg\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  }

  /* Max width container */
  .max-w-7xl {
    max-width: 80rem;
  }

  /* Professional card styling */
  .professional-card {
    background: white;
    border: 1px solid #f3f4f6;
    border-radius: 0.75rem;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    transition: all 0.2s ease-in-out;
  }

  .professional-card:hover {
    border-color: #e5e7eb;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  /* Compact spacing for mobile */
  @media (max-width: 640px) {
    .space-y-6 > :not([hidden]) ~ :not([hidden]) {
      margin-top: 1rem;
    }
    
    .gap-4 {
      gap: 0.75rem;
    }
    
    .p-6 {
      padding: 1rem;
    }
    
    .mb-6 {
      margin-bottom: 1rem;
    }
    
    .mb-4 {
      margin-bottom: 0.75rem;
    }
  }

  /* Better text hierarchy */
  .text-hierarchy-1 { 
    font-size: 1.125rem; 
    font-weight: 600; 
    line-height: 1.4;
  }
  
  .text-hierarchy-2 { 
    font-size: 0.875rem; 
    font-weight: 500; 
    line-height: 1.5;
  }
  
  .text-hierarchy-3 { 
    font-size: 0.75rem; 
    font-weight: 400; 
    line-height: 1.6;
  }

  /* Improved opacity levels */
  .opacity-2 { opacity: 0.02; }
  .opacity-3 { opacity: 0.03; }
  .opacity-5 { opacity: 0.05; }
  .opacity-8 { opacity: 0.08; }

  /* Enhanced border radius */
  .rounded-3xl { border-radius: 1.5rem; }

  /* Enhanced gradients */
  .from-purple-500 { --tw-gradient-from: #8b5cf6; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(139, 92, 246, 0)); }
  .to-purple-600 { --tw-gradient-to: #9333ea; }
  .to-purple-700 { --tw-gradient-to: #7c3aed; }
  .from-orange-400 { --tw-gradient-from: #fb923c; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(251, 146, 60, 0)); }
  .to-yellow-500 { --tw-gradient-to: #eab308; }
  .from-blue-500 { --tw-gradient-from: #3b82f6; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(59, 130, 246, 0)); }
  .to-green-500 { --tw-gradient-to: #22c55e; }

  /* Creation card specific styles */
  .creation-card {
    background: white;
    border-radius: 1.5rem;
    border: 1px solid #f3f4f6;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    padding: 2rem;
    text-align: center;
    transition: all 0.3s ease;
  }

  .creation-card:hover {
    border-color: #e5e7eb;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    transform: translateY(-3px);
  }
  .creation-icon {
    padding: 1.25rem;
    border-radius: 1rem;
    color: white !important;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.5rem;
    transition: all 0.3s ease;
    width: 80px;
    height: 80px;
  }

  .creation-icon:hover {
    transform: scale(1.05);
  }

  .creation-icon svg {
    color: white !important;
    fill: none !important;
    stroke: currentColor !important;
    stroke-width: 2 !important;
    width: 2rem !important;
    height: 2rem !important;
  }

  /* Widescreen icon enhancements */
  @media (min-width: 1024px) {
    .creation-icon {
      width: 90px;
      height: 90px;
      padding: 1.5rem;
      margin-bottom: 2rem;
    }
    
    .creation-icon svg {
      width: 2.25rem !important;
      height: 2.25rem !important;
    }
  }

  @media (min-width: 1600px) {
    .creation-icon {
      width: 100px;
      height: 100px;
      padding: 1.75rem;
    }
    
    .creation-icon svg {
      width: 2.5rem !important;
      height: 2.5rem !important;
    }
  }

  .creation-button {
    padding: 0.75rem 1.5rem;
    border-radius: 1rem;
    color: white;
    font-weight: 600;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
  }

  .creation-button:hover {
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
    transform: scale(1.05);
  }

  /* Daily Challenges Styling */
  .challenge-card {
    padding: 1rem;
    border-radius: 0.75rem;
    border: 1px solid #e5e7eb;
    transition: all 0.3s ease;
    background: white;
  }

  .challenge-card:hover {
    border-color: #f97316;
    background: linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(249, 115, 22, 0.15);
  }

  .challenge-card.completed {
    border-color: #22c55e;
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
  }

  .challenge-badge {
    background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
    display: inline-block;
  }

  .challenge-badge.completed {
    background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
  }

  /* Progress Overview Styling */
  .progress-section {
    background: white;
    border-radius: 1rem;
    border: 1px solid #f1f5f9;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
  }

  .progress-section:hover {
    border-color: #e2e8f0;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }

  .progress-card {
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
    border-radius: 0.75rem;
    padding: 1.5rem;
    border: 1px solid #f1f5f9;
    transition: all 0.3s ease;
  }

  .progress-card:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  }

  .streak-container {
    background: linear-gradient(135deg, #f97316 0%, #dc2626 100%);
    border-radius: 50%;
    width: 3rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
    margin: 0 auto 0.75rem;
  }

  /* Quick Stats Styling */
  .stat-card {
    background: white;
    border-radius: 0.75rem;
    padding: 1rem;
    text-align: center;
    border: 1px solid #f1f5f9;
    transition: all 0.3s ease;
  }

  .stat-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    border-color: #e2e8f0;
  }

  .stat-number {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 0.25rem;
  }

  .stat-label {
    font-size: 0.75rem;
    color: #6b7280;
  }

  /* Beautiful card enhancements */
  .creation-card {
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
    border: 1px solid rgba(226, 232, 240, 0.8);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    padding: 1.5rem;
    border-radius: 1.5rem;
    min-height: 280px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .creation-card:hover {
    background: linear-gradient(135deg, #ffffff 0%, #ffffff 100%);
    border-color: rgba(203, 213, 225, 0.8);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1), 0 4px 10px rgba(0, 0, 0, 0.05);
    transform: translateY(-4px);
  }

  /* Widescreen optimizations */
  @media (min-width: 1024px) {
    .creation-card {
      padding: 2rem;
      min-height: 320px;
    }
  }

  @media (min-width: 1600px) {
    .creation-card {
      padding: 2.5rem;
      min-height: 340px;
    }
  }

  /* Mobile-Optimized Create Page */
  @media (max-width: 768px) {
    /* Compact Creation Cards for Mobile */
    .creation-card {
      padding: 1.5rem;
      min-height: 240px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .creation-icon {
      width: 60px;
      height: 60px;
      border-radius: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1rem;
    }

    .creation-card h3 {
      font-size: 1.125rem;
      margin-bottom: 0.75rem;
      line-height: 1.3;
    }

    .creation-card p {
      font-size: 0.85rem;
      margin-bottom: 1.5rem;
      line-height: 1.4;
    }

    .creation-button {
      padding: 0.75rem 1.5rem;
      border-radius: 0.75rem;
      font-size: 0.875rem;
      font-weight: 600;
      color: white;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: auto;
    }

    /* Compact Hero Section */
    .text-2xl.sm\\:text-3xl {
      font-size: 1.5rem !important;
    }

    /* Compact Header */
    .bg-white.shadow-sm {
      padding: 1rem !important;
    }

    .text-xl.sm\\:text-2xl {
      font-size: 1.25rem !important;
    }

    /* Reduce spacing between sections */
    .space-y-8 > * + * {
      margin-top: 1.5rem !important;
    }

    /* Compact grid spacing */
    .grid.gap-4.sm\\:gap-6 {
      gap: 1rem !important;
    }
  }

  /* Landscape Mobile Optimization */
  @media (max-width: 768px) and (orientation: landscape) {
    .creation-card {
      padding: 1rem;
      min-height: 200px;
    }

    .creation-icon {
      width: 50px;
      height: 50px;
      margin-bottom: 0.75rem;
    }

    .creation-card h3 {
      font-size: 1rem;
      margin-bottom: 0.5rem;
    }

    .creation-card p {
      font-size: 0.8rem;
      margin-bottom: 1rem;
    }

    .creation-button {
      padding: 0.5rem 1.25rem;
      font-size: 0.8rem;
    }

    .text-2xl.sm\\:text-3xl {
      font-size: 1.25rem !important;
    }

    .bg-white.shadow-sm {
      padding: 0.75rem !important;
    }

    .space-y-8 > * + * {
      margin-top: 1rem !important;
    }

    /* Make grid more compact in landscape */
    .grid.grid-cols-1.sm\\:grid-cols-2 {
      grid-template-columns: repeat(2, 1fr) !important;
      gap: 0.75rem !important;
    }
  }

  /* Very Small Screens (iPhone SE, etc.) */
  @media (max-width: 640px) {
    .creation-card {
      padding: 1.25rem;
      min-height: 220px;
    }

    .creation-icon {
      width: 55px;
      height: 55px;
    }

    .creation-card h3 {
      font-size: 1.05rem;
    }

    .creation-card p {
      font-size: 0.82rem;
    }

    .creation-button {
      padding: 0.6rem 1.4rem;
      font-size: 0.85rem;
    }
  }

  /* Enhanced gradients for icons */
  .icon-gradient-purple {
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    box-shadow: 0 4px 14px rgba(139, 92, 246, 0.3);
  }

  .icon-gradient-blue {
    background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
    box-shadow: 0 4px 14px rgba(59, 130, 246, 0.3);
  }

  /* Animated sparkle effect */
  .sparkle-hover {
    transition: all 0.3s ease;
  }

  .sparkle-hover:hover {
    color: #fbbf24;
    filter: drop-shadow(0 0 8px rgba(251, 191, 36, 0.4));
    animation: sparkle-pulse 2s infinite;
  }

  @keyframes sparkle-pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.8; transform: scale(1.1); }
  }

  /* ========== OFFLINE CONTENT STYLES ========== */
  
  .offline-content-container {
    max-width: 100%;
    margin: 0 auto;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .offline-mode-banner {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    border: 1px solid #f59e0b;
    border-radius: 1rem;
    padding: 1rem;
    margin-bottom: 1rem;
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.15);
  }

  .offline-section-tabs {
    background: white;
    border-radius: 1.5rem;
    padding: 0.5rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border: 1px solid #f1f5f9;
    overflow-x: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .offline-section-tabs::-webkit-scrollbar {
    display: none;
  }

  .section-tabs-container {
    display: flex;
    gap: 0.5rem;
    min-width: fit-content;
  }

  .section-tab {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    border-radius: 1rem;
    border: none;
    background: transparent;
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
    font-size: 0.875rem;
    font-weight: 500;
    color: #6b7280;
    flex-shrink: 0;
  }

  .section-tab:hover {
    background: rgba(139, 92, 246, 0.1);
    color: #8b5cf6;
  }

  .section-tab.active {
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
  }

  .section-tab svg {
    width: 1rem;
    height: 1rem;
  }

  /* Widescreen centering for navigation tabs */
  @media (min-width: 1200px) {
    .offline-section-tabs {
      max-width: 800px !important;
      margin: 0 auto !important;
      justify-content: center !important;
    }
    
    .section-tabs-container {
      justify-content: center !important;
      flex-wrap: wrap !important;
      gap: 1rem !important;
    }
    
    .section-tab {
      flex-shrink: 0 !important;
      min-width: auto !important;
    }
  }

  @media (min-width: 1440px) {
    .offline-section-tabs {
      max-width: 900px !important;
    }
    
    .section-tabs-container {
      gap: 1.5rem !important;
    }
  }

  /* Storage Overview */
  .storage-overview-card {
    background: white;
    border-radius: 1.5rem;
    padding: 1.5rem;
    border: 1px solid #f1f5f9;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  }

  .storage-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
  }

  .storage-icon-container {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 3rem;
    height: 3rem;
    border-radius: 1rem;
    background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
  }

  .storage-info {
    flex: 1;
  }

  .storage-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: #1f2937;
    margin: 0 0 0.25rem 0;
  }

  .storage-subtitle {
    font-size: 0.875rem;
    color: #6b7280;
    margin: 0;
  }

  .storage-actions {
    display: flex;
    gap: 0.5rem;
  }

  .manage-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    border-radius: 0.75rem;
    border: 1px solid #e5e7eb;
    background: white;
    color: #374151;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .manage-btn:hover {
    background: #f9fafb;
    border-color: #d1d5db;
  }

  .storage-bar-container {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .storage-bar {
    flex: 1;
    height: 0.5rem;
    background: #f1f5f9;
    border-radius: 0.25rem;
    overflow: hidden;
    position: relative;
  }

  .storage-fill {
    height: 100%;
    background: linear-gradient(90deg, #10b981 0%, #059669 100%);
    border-radius: 0.25rem;
    transition: width 0.3s ease;
  }

  .storage-percentage {
    font-size: 0.75rem;
    color: #6b7280;
    font-weight: 500;
  }

  /* Downloaded Stories Controls */
  .downloaded-stories-section {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .controls-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .controls-left {
    display: flex;
    align-items: baseline;
    gap: 1rem;
  }

  .section-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #1f2937;
    margin: 0;
  }

  .story-count {
    font-size: 0.875rem;
    color: #6b7280;
    font-weight: 500;
  }

  .controls-right {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .view-controls {
    display: flex;
    background: #f1f5f9;
    border-radius: 0.5rem;
    padding: 0.25rem;
  }

  .view-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem;
    border-radius: 0.375rem;
    border: none;
    background: transparent;
    cursor: pointer;
    transition: all 0.2s ease;
    color: #6b7280;
  }

  .view-btn:hover {
    background: white;
    color: #374151;
  }

  .view-btn.active {
    background: white;
    color: #8b5cf6;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .view-btn svg {
    width: 1rem;
    height: 1rem;
  }

  .sort-select {
    appearance: none;
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 0.5rem;
    padding: 0.5rem 2rem 0.5rem 0.75rem;
    font-size: 0.875rem;
    cursor: pointer;
    transition: all 0.2s ease;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 0.7rem center;
    background-size: 1rem;
  }

  .sort-select:hover {
    border-color: #d1d5db;
  }

  .sort-select:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.5);
    border-color: #8b5cf6;
  }

  /* Story Cards */
  .stories-container {
    display: grid;
    gap: 1.5rem;
    width: 100%;
  }

  .stories-container.grid {
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  }

  .stories-container.list {
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  .offline-story-card {
    background: white;
    border-radius: 1.5rem;
    padding: 1.5rem;
    border: 1px solid #f1f5f9;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    transition: all 0.3s ease;
    cursor: pointer;
  }

  .offline-story-card:hover {
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    border-color: #e5e7eb;
  }

  .offline-story-card.grid {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .offline-story-card.list {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    width: 100%;
    max-width: 100%;
  }

  .story-cover-container {
    position: relative;
    align-self: flex-start;
  }

  .story-cover {
    width: 4rem;
    height: 4rem;
    border-radius: 1rem;
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    border: 2px solid #e5e7eb;
  }

  .offline-story-card.list .story-cover {
    width: 3rem;
    height: 3rem;
    flex-shrink: 0;
  }

  .cover-emoji {
    font-size: 1.75rem;
  }

  .offline-story-card.list .cover-emoji {
    font-size: 1.5rem;
  }

  .download-badge {
    position: absolute;
    top: -0.25rem;
    right: -0.25rem;
    width: 1.25rem;
    height: 1.25rem;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    border: 2px solid white;
  }

  .progress-indicator {
    position: absolute;
    bottom: -2px;
    left: 0;
    right: 0;
    height: 4px;
    background: #f1f5f9;
    border-radius: 0 0 0.75rem 0.75rem;
    overflow: hidden;
  }

  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #8b5cf6 0%, #ec4899 100%);
    border-radius: inherit;
    transition: width 0.3s ease;
  }

  /* Story Info & Actions */
  .story-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .offline-story-card.list .story-info {
    gap: 0.25rem;
  }

  .story-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: #1f2937;
    line-height: 1.4;
    margin: 0;
  }

  .offline-story-card.list .story-title {
    font-size: 1rem;
  }

  .story-author {
    font-size: 0.875rem;
    color: #6b7280;
    margin: 0;
  }

  .story-meta {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: wrap;
  }

  .offline-story-card.list .story-meta {
    gap: 0.5rem;
  }

  .story-category,
  .story-rating,
  .story-pages {
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
    border-radius: 0.375rem;
    background: #f8fafc;
    color: #374151;
    font-weight: 500;
  }

  .story-category {
    background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
    color: #5b21b6;
  }

  .story-details {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    font-size: 0.75rem;
    color: #9ca3af;
  }

  .offline-story-card.list .story-details {
    flex-direction: row;
    gap: 0.5rem;
  }

  .offline-story-card.list .story-details > span:not(:last-child)::after {
    content: '';
    margin-left: 0.5rem;
    color: #d1d5db;
  }

  .story-actions {
    display: flex;
    gap: 0.5rem;
    align-items: center;
    flex-shrink: 0;
  }

  .offline-story-card.grid .story-actions {
    margin-top: 0.5rem;
  }

  .action-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    border-radius: 0.75rem;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 0.875rem;
    font-weight: 500;
  }

  .action-btn.primary {
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
  }

  .action-btn.primary:hover {
    box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
    transform: translateY(-1px);
  }

  .action-btn.secondary {
    background: #f9fafb;
    color: #6b7280;
    border: 1px solid #e5e7eb;
  }

  .action-btn.secondary:hover {
    background: #f3f4f6;
    color: #dc2626;
  }

  .action-btn svg {
    width: 1rem;
    height: 1rem;
  }

  /* Empty States */
  .empty-state {
    text-align: center;
    padding: 3rem 1rem;
    background: white;
    border-radius: 1.5rem;
    border: 2px dashed #e5e7eb;
  }

  .empty-icon {
    margin: 0 auto 1rem;
  }

  .empty-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: #374151;
    margin: 0 0 0.5rem 0;
  }

  .empty-subtitle {
    font-size: 0.875rem;
    color: #6b7280;
    margin: 0 0 1.5rem 0;
  }

  .browse-stories-btn {
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 0.75rem;
    border: none;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .browse-stories-btn:hover {
    box-shadow: 0 8px 25px rgba(139, 92, 246, 0.4);
    transform: translateY(-2px);
  }

  /* RESPONSIVE STYLES FOR OFFLINE CONTENT */
  
  /* Extra Small Screens (iPhone SE and similar) */
  @media (max-width: 400px) {
    .offline-content-container {
      gap: 0.75rem;
      padding: 0 0.5rem;
      box-sizing: border-box;
    }

    .section-tabs-container {
      gap: 0.125rem;
    }

    .section-tab {
      padding: 0.375rem 0.5rem;
      font-size: 0.75rem;
    }

    .controls-bar {
      flex-direction: column;
      gap: 0.5rem;
    }

    .section-title {
      font-size: 1.125rem;
    }

    .controls-right {
      gap: 0.375rem;
    }

    .stories-container.grid {
      grid-template-columns: 1fr;
      gap: 0.75rem;
    }

    .offline-story-card {
      padding: 0.75rem;
      border-radius: 0.75rem;
    }

    .offline-story-card.list {
      padding: 0.5rem;
      gap: 0.375rem;
      align-items: flex-start;
      width: 100%;
      max-width: 100%;
      box-sizing: border-box;
    }

    .story-cover {
      width: 2.75rem;
      height: 2.75rem;
      border-radius: 0.5rem;
    }

    .offline-story-card.list .story-cover {
      width: 2.5rem;
      height: 2.5rem;
      flex-shrink: 0;
    }

    .cover-emoji {
      font-size: 1.25rem;
    }

    .offline-story-card.list .cover-emoji {
      font-size: 1.125rem;
    }

    .story-info {
      gap: 0.25rem;
      min-width: 0;
      flex: 1;
    }

    .story-title {
      font-size: 0.875rem;
      line-height: 1.2;
    }

    .story-author {
      font-size: 0.75rem;
    }

    .story-meta {
      gap: 0.375rem;
      flex-wrap: wrap;
    }

    .story-category,
    .story-rating,
    .story-pages {
      font-size: 0.625rem;
      padding: 0.125rem 0.25rem;
    }

    .story-details {
      gap: 0.125rem;
      font-size: 0.625rem;
    }

    .offline-story-card.list .story-details {
      gap: 0.25rem;
    }

    .story-actions {
      margin-top: 0.5rem;
      gap: 0.25rem;
    }

    .offline-story-card.list .story-actions {
      flex-direction: column;
      align-self: flex-end;
      margin-top: 0;
      min-width: 50px;
      flex-shrink: 0;
    }

    .action-btn {
      padding: 0.375rem 0.75rem;
      font-size: 0.75rem;
      border-radius: 0.5rem;
      font-weight: 600;
    }

    .offline-story-card.list .action-btn {
      padding: 0.15rem 0.2rem;
      font-size: 0.5rem;
      width: 50px;
      text-align: center;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      line-height: 1.1;
      font-weight: 700;
    }

    .action-btn svg {
      width: 0.75rem;
      height: 0.75rem;
    }

    .view-controls {
      padding: 0.125rem;
    }

    .view-btn {
      padding: 0.25rem;
    }

    .sort-select {
      font-size: 0.75rem;
      padding: 0.3rem 1.25rem 0.3rem 0.5rem;
    }
  }

  @media (max-width: 768px) {
    .offline-content-container {
      gap: 1rem;
    }

    .section-tabs-container {
      gap: 0.25rem;
    }

    .section-tab {
      padding: 0.5rem 0.75rem;
      font-size: 0.8rem;
    }

    .controls-bar {
      flex-direction: column;
      align-items: stretch;
      gap: 0.75rem;
    }

    .controls-left {
      gap: 0.5rem;
    }

    .section-title {
      font-size: 1.25rem;
    }

    .controls-right {
      justify-content: space-between;
      gap: 0.5rem;
    }

    .stories-container.grid {
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    .offline-story-card {
      padding: 1rem;
      border-radius: 1rem;
    }

    .offline-story-card.grid {
      gap: 0.75rem;
    }

    .offline-story-card.list {
      padding: 0.75rem;
      gap: 0.75rem;
    }

    .story-cover {
      width: 3.5rem;
      height: 3.5rem;
      border-radius: 0.75rem;
    }

    .offline-story-card.list .story-cover {
      width: 3rem;
      height: 3rem;
      flex-shrink: 0;
    }

    .cover-emoji {
      font-size: 1.5rem;
    }

    .offline-story-card.list .cover-emoji {
      font-size: 1.25rem;
    }

    .story-info {
      gap: 0.375rem;
    }

    .story-title {
      font-size: 1rem;
      line-height: 1.3;
    }

    .offline-story-card.list .story-title {
      font-size: 0.9rem;
    }

    .story-author {
      font-size: 0.8rem;
    }

    .story-meta {
      gap: 0.5rem;
    }

    .story-category,
    .story-rating,
    .story-pages {
      font-size: 0.7rem;
      padding: 0.2rem 0.4rem;
    }

    .story-details {
      gap: 0.2rem;
      font-size: 0.7rem;
    }

    .offline-story-card.list .story-details {
      gap: 0.375rem;
    }

    .story-actions {
      margin-top: 0.75rem;
      gap: 0.5rem;
    }

    .offline-story-card.list .story-actions {
      flex-direction: column;
      align-self: flex-end;
      margin-top: 0;
      min-width: 90px;
      flex-shrink: 0;
    }

    .action-btn {
      padding: 0.5rem 1rem;
      font-size: 0.8rem;
      border-radius: 0.75rem;
      font-weight: 600;
      flex: 1;
    }

    .offline-story-card.list .action-btn {
      padding: 0.4rem 0.6rem;
      font-size: 0.7rem;
      flex: none;
      width: 90px;
      text-align: center;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .offline-story-card.list {
      padding: 0.75rem;
      gap: 0.5rem;
      align-items: flex-start;
      width: 100%;
      max-width: 100%;
      box-sizing: border-box;
    }

    .action-btn.primary {
      box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
    }

    .action-btn svg {
      width: 0.875rem;
      height: 0.875rem;
    }

    .view-controls {
      padding: 0.2rem;
    }

    .view-btn {
      padding: 0.375rem;
    }

    .sort-select {
      font-size: 0.8rem;
      padding: 0.4rem 1.5rem 0.4rem 0.6rem;
    }
  }

  @media (min-width: 1024px) {
    .stories-container.grid {
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 2rem;
    }

    .offline-story-card {
      padding: 2rem;
    }

    .story-cover {
      width: 4.5rem;
      height: 4.5rem;
    }

    .cover-emoji {
      font-size: 2rem;
    }
  }

  @media (min-width: 1440px) {
    .stories-container.grid {
      grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
    }

    .offline-content-container {
      max-width: 1400px;
    }
  }

  /* ========== LIBRARY PAGE STYLES ========== */
  
  /* Tab Navigation */
  .library-tab {
    flex: 1;
    padding: 1rem 1.5rem;
    border-radius: 1.5rem;
    border: 2px solid #e2e8f0;
    background: white;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    min-height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
  }

  .library-tab::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s ease;
  }

  .library-tab:hover::before {
    left: 100%;
  }

  .library-tab:hover {
    border-color: #cbd5e1;
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  }

  .library-tab.active {
    border-color: transparent;
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
  }

  .tab-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f1f5f9;
    transition: all 0.3s ease;
  }

  .tab-icon.active {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
  }

  /* Simple Horizontal Tab Navigation */
  .simple-tab-navigation {
    display: flex;
    background: white;
    border-radius: 1.5rem;
    padding: 0.5rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border: 2px solid #f1f5f9;
    gap: 0.5rem;
    margin-bottom: 2rem;
  }

  .simple-tab {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 1rem 1.5rem;
    border-radius: 1rem;
    border: none;
    background: transparent;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .simple-tab::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 1;
  }

  .simple-tab:hover::before {
    opacity: 0.1;
  }

  .simple-tab.active::before {
    opacity: 1;
  }

  .simple-tab:hover {
    transform: translateY(-2px);
  }

  .simple-tab.active {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(139, 92, 246, 0.3);
  }

  .tab-emoji {
    font-size: 1.25rem;
    z-index: 2;
    position: relative;
    transition: transform 0.3s ease;
  }

  .simple-tab.active .tab-emoji {
    transform: scale(1.1);
  }

  .tab-title {
    font-weight: 600;
    font-size: 0.9rem;
    z-index: 2;
    position: relative;
    color: #374151;
    transition: color 0.3s ease;
  }

  .simple-tab.active .tab-title {
    color: white;
  }

  .tab-count {
    background: #f1f5f9;
    color: #6b7280;
    padding: 0.25rem 0.5rem;
    border-radius: 0.75rem;
    font-size: 0.75rem;
    font-weight: 600;
    min-width: 24px;
    text-align: center;
    z-index: 2;
    position: relative;
    transition: all 0.3s ease;
  }

  .simple-tab.active .tab-count {
    background: rgba(255, 255, 255, 0.2);
    color: white;
  }

  /* ========== ENHANCED YOUR WORKS STYLES ========== */
  
  .enhanced-your-works {
    display: flex;
    flex-direction: column;
    gap: 2.5rem;
  }

  /* Enhanced Stats Overview */
  .stats-overview-container {
    background: linear-gradient(135deg, #fefefe 0%, #f8fafc 100%);
    border-radius: 2rem;
    padding: 2rem;
    border: 1px solid #f1f5f9;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
  }

  .stats-header {
    text-align: center;
    margin-bottom: 2rem;
  }

  .stats-title {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1f2937;
    margin: 0 0 0.5rem 0;
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .stats-subtitle {
    color: #6b7280;
    font-size: 1rem;
    margin: 0;
  }

  .enhanced-stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
  }

  .enhanced-stat-card {
    background: white;
    border-radius: 1.5rem;
    padding: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    border: 1px solid #f1f5f9;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    position: relative;
    overflow: hidden;
  }

  .enhanced-stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    transition: all 0.3s ease;
  }

  .enhanced-stat-card.stories::before {
    background: linear-gradient(90deg, #8b5cf6, #ec4899);
  }

  .enhanced-stat-card.words::before {
    background: linear-gradient(90deg, #06b6d4, #0891b2);
  }

  .enhanced-stat-card.illustrations::before {
    background: linear-gradient(90deg, #f59e0b, #f97316);
  }

  .enhanced-stat-card.streak::before {
    background: linear-gradient(90deg, #10b981, #059669);
  }

  .enhanced-stat-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 25px rgba(0, 0, 0, 0.1);
  }

  .stat-icon-enhanced {
    font-size: 2.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 60px;
    height: 60px;
    border-radius: 1rem;
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    flex-shrink: 0;
  }

  .stat-content {
    flex: 1;
  }

  .stat-number {
    font-size: 2rem;
    font-weight: 700;
    color: #1f2937;
    line-height: 1;
    margin-bottom: 0.25rem;
  }

  .stat-label {
    font-size: 0.9rem;
    color: #6b7280;
    font-weight: 500;
  }

  /* Enhanced Create Card */
  .enhanced-create-card {
    background: linear-gradient(135deg, #fef7ff 0%, #f3e8ff 100%);
    border: 2px dashed #d8b4fe;
    border-radius: 1.5rem;
    padding: 2rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  .enhanced-create-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.1), transparent);
    transition: left 0.8s ease;
  }

  .enhanced-create-card:hover::before {
    left: 100%;
  }

  .enhanced-create-card:hover {
    border-color: #c084fc;
    background: linear-gradient(135deg, #fef7ff 0%, #f3e8ff 100%);
    box-shadow: 0 12px 25px rgba(139, 92, 246, 0.15);
  }

  .create-card-content {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    position: relative;
    z-index: 2;
  }

  .create-icon-container {
    position: relative;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .create-icon {
    width: 32px;
    height: 32px;
    color: #8b5cf6;
    z-index: 2;
    position: relative;
  }

  .create-glow {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle, rgba(139, 92, 246, 0.2) 0%, transparent 70%);
    border-radius: 50%;
    animation: glow-pulse 2s ease-in-out infinite;
  }

  @keyframes glow-pulse {
    0%, 100% { transform: scale(0.8); opacity: 0.5; }
    50% { transform: scale(1.2); opacity: 0.8; }
  }

  .create-text {
    flex: 1;
  }

  .create-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: #1f2937;
    margin: 0 0 0.25rem 0;
  }

  .create-subtitle {
    color: #6b7280;
    font-size: 0.9rem;
    margin: 0;
  }

  .create-arrow {
    font-size: 1.5rem;
    color: #8b5cf6;
    transition: transform 0.3s ease;
  }

  .enhanced-create-card:hover .create-arrow {
    transform: translateX(5px);
  }

  /* Enhanced Works Section with Beautiful Colors */
  .works-section {
    background: linear-gradient(135deg, #fef7ff 0%, #f3e8ff 50%, #e9d5ff 100%);
    border-radius: 2rem;
    padding: 2rem;
    border: none;
    box-shadow: 0 8px 32px rgba(139, 92, 246, 0.15);
    position: relative;
    overflow: hidden;
  }

  .works-section::before {
    content: '';
    position: absolute;
    top: -100px;
    right: -100px;
    width: 200px;
    height: 200px;
    background: radial-gradient(circle, rgba(236, 72, 153, 0.1) 0%, transparent 70%);
    border-radius: 50%;
    pointer-events: none;
  }

  .works-section::after {
    content: '';
    position: absolute;
    bottom: -80px;
    left: -80px;
    width: 160px;
    height: 160px;
    background: radial-gradient(circle, rgba(139, 92, 246, 0.08) 0%, transparent 70%);
    border-radius: 50%;
    pointer-events: none;
  }

  .works-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 2rem;
  }

  .works-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #1f2937;
    margin: 0;
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .works-count {
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 1rem;
    font-size: 0.875rem;
    font-weight: 600;
    border: none;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
  }

  .enhanced-works-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1.5rem;
  }

  /* Enhanced Work Cards with Beautiful Colors */
  .enhanced-work-card {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(8px);
    border-radius: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.5);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    overflow: hidden;
    position: relative;
    box-shadow: 0 8px 25px rgba(139, 92, 246, 0.1);
  }

  .enhanced-work-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.02) 0%, rgba(236, 72, 153, 0.02) 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .enhanced-work-card:hover::before {
    opacity: 1;
  }

  .enhanced-work-card:hover {
    background: rgba(255, 255, 255, 0.95);
    border-color: rgba(255, 255, 255, 0.8);
    box-shadow: 0 20px 40px rgba(139, 92, 246, 0.25);
    transform: translateY(-8px) scale(1.02);
  }

  .work-card-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    padding: 1.5rem 1.5rem 0;
  }

  .work-cover-enhanced {
    background: linear-gradient(135deg, #fef7ff 0%, #f3e8ff 50%, #e9d5ff 100%);
    border-radius: 1rem;
    padding: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 6px 20px rgba(139, 92, 246, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.5);
  }

  .work-emoji {
    font-size: 2rem;
    filter: drop-shadow(0 2px 8px rgba(139, 92, 246, 0.3));
  }

  .enhanced-status-badge {
    padding: 0.375rem 0.75rem;
    border-radius: 1rem;
    font-size: 0.75rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.25rem;
  }

  .enhanced-status-badge.published {
    background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
    color: #166534;
    border: 1px solid #bbf7d0;
  }

  .enhanced-status-badge.draft {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    color: #92400e;
    border: 1px solid #fde68a;
  }

  .work-card-body {
    padding: 0 1.5rem 1.5rem;
  }

  .work-title-enhanced {
    font-size: 1.125rem;
    font-weight: 700;
    color: #1f2937;
    margin: 1rem 0 0.5rem 0;
    line-height: 1.3;
  }

  .work-meta {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
  }

  .work-type {
    color: #8b5cf6;
    font-size: 0.875rem;
    font-weight: 600;
  }

  .work-separator {
    color: #d1d5db;
  }

  .work-date {
    color: #6b7280;
    font-size: 0.875rem;
  }

  .work-stats-row {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
  }

  .work-stat {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    background: #f8fafc;
    padding: 0.5rem 0.75rem;
    border-radius: 0.75rem;
    border: 1px solid #f1f5f9;
  }

  .work-stat .stat-icon {
    font-size: 0.875rem;
  }

  .work-stat .stat-text {
    font-size: 0.875rem;
    color: #6b7280;
    font-weight: 500;
  }

  .work-engagement {
    display: flex;
    gap: 1rem;
    padding-top: 1rem;
    border-top: 1px solid #f1f5f9;
  }

  .engagement-stat {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    color: #6b7280;
    font-size: 0.875rem;
    font-weight: 500;
  }

  .engagement-icon {
    width: 16px;
    height: 16px;
  }

  /* ========== YOUR CHARACTERS SECTION ========== */
  
  .characters-section {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #bae6fd 100%);
    border-radius: 2rem;
    padding: 2rem;
    border: none;
    box-shadow: 0 8px 32px rgba(6, 182, 212, 0.15);
    position: relative;
    overflow: hidden;
    margin-top: 2rem;
  }

  .characters-section::before {
    content: '';
    position: absolute;
    top: -100px;
    right: -100px;
    width: 200px;
    height: 200px;
    background: radial-gradient(circle, rgba(14, 165, 233, 0.1) 0%, transparent 70%);
    border-radius: 50%;
    pointer-events: none;
  }

  .characters-section::after {
    content: '';
    position: absolute;
    bottom: -80px;
    left: -80px;
    width: 160px;
    height: 160px;
    background: radial-gradient(circle, rgba(6, 182, 212, 0.08) 0%, transparent 70%);
    border-radius: 50%;
    pointer-events: none;
  }

  .characters-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 2rem;
  }

  .characters-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #1f2937;
    margin: 0;
    background: linear-gradient(135deg, #0ea5e9 0%, #06b6d4 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .characters-count {
    background: linear-gradient(135deg, #0ea5e9 0%, #06b6d4 100%);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 1rem;
    font-size: 0.875rem;
    font-weight: 600;
    border: none;
    box-shadow: 0 4px 12px rgba(6, 182, 212, 0.3);
  }

  .enhanced-characters-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1.5rem;
  }

  /* Enhanced Character Cards */
  .enhanced-character-card {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(8px);
    border-radius: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.5);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    overflow: hidden;
    position: relative;
    box-shadow: 0 8px 25px rgba(6, 182, 212, 0.1);
  }

  .enhanced-character-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(6, 182, 212, 0.02) 0%, rgba(14, 165, 233, 0.02) 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .enhanced-character-card:hover::before {
    opacity: 1;
  }

  .enhanced-character-card:hover {
    background: rgba(255, 255, 255, 0.95);
    border-color: rgba(255, 255, 255, 0.8);
    box-shadow: 0 20px 40px rgba(6, 182, 212, 0.25);
    transform: translateY(-8px) scale(1.02);
  }

  .character-card-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    padding: 1.5rem 1.5rem 0;
  }

  .character-cover-enhanced {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #bae6fd 100%);
    border-radius: 1rem;
    padding: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 6px 20px rgba(6, 182, 212, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.5);
  }

  .character-emoji {
    font-size: 2rem;
    filter: drop-shadow(0 2px 8px rgba(6, 182, 212, 0.3));
  }

  .character-card-body {
    padding: 0 1.5rem 1.5rem;
  }

  .character-title-enhanced {
    font-size: 1.125rem;
    font-weight: 700;
    color: #1f2937;
    margin: 1rem 0 0.5rem 0;
    line-height: 1.3;
  }

  .character-meta {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
  }

  .character-type {
    color: #0ea5e9;
    font-size: 0.875rem;
    font-weight: 600;
  }

  .character-separator {
    color: #d1d5db;
  }

  .character-date {
    color: #6b7280;
    font-size: 0.875rem;
  }

  .character-stats-row {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
  }

  .character-stat {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    background: #f0f9ff;
    padding: 0.5rem 0.75rem;
    border-radius: 0.75rem;
    border: 1px solid #e0f2fe;
  }

  .character-stat .stat-icon {
    font-size: 0.875rem;
  }

  .character-stat .stat-text {
    font-size: 0.875rem;
    color: #6b7280;
    font-weight: 500;
  }

  .character-engagement {
    display: flex;
    gap: 1rem;
    padding-top: 1rem;
    border-top: 1px solid #f1f5f9;
  }

  /* Create Character Card */
  .create-character-card {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    border: 2px dashed #bae6fd;
    border-radius: 1.5rem;
    padding: 2rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .create-character-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(6, 182, 212, 0.1), transparent);
    transition: left 0.8s ease;
  }

  .create-character-card:hover::before {
    left: 100%;
  }

  .create-character-card:hover {
    border-color: #0ea5e9;
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    box-shadow: 0 12px 25px rgba(6, 182, 212, 0.15);
  }

  .create-character-content {
    position: relative;
    z-index: 2;
  }

  .create-character-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
    display: block;
  }

  .create-character-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: #1f2937;
    margin: 0 0 0.5rem 0;
  }

  .create-character-subtitle {
    color: #6b7280;
    font-size: 0.9rem;
    margin: 0;
  }

  /* Header Buttons */
  .library-search-btn, .library-add-btn {
    width: 44px;
    height: 44px;
    border-radius: 12px;
    border: none;
    background: white;
    color: #6b7280;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  .library-search-btn:hover, .library-add-btn:hover {
    background: #f8fafc;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  /* Stats Cards */
  .library-stat-card {
    background: white;
    border-radius: 1.5rem;
    padding: 1.5rem;
    text-align: center;
    border: 2px solid #f1f5f9;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  .library-stat-card::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(139, 92, 246, 0.05) 0%, transparent 70%);
    transition: all 0.5s ease;
    transform: scale(0);
  }

  .library-stat-card:hover::before {
    transform: scale(1);
  }

  .library-stat-card:hover {
    transform: translateY(-5px);
    border-color: #e2e8f0;
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
  }

  .stat-icon {
    width: 60px;
    height: 60px;
    border-radius: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1rem;
    font-size: 1.5rem;
    position: relative;
    z-index: 1;
  }

  /* Create New Card */
  .create-new-card {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    border: 2px dashed #f59e0b;
    border-radius: 1.5rem;
    padding: 2rem;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .create-new-card::before {
    content: '';
    position: absolute;
    top: 1rem;
    right: 1rem;
    font-size: 1.5rem;
    opacity: 0.7;
    animation: sparkle 2s ease-in-out infinite;
  }

  @keyframes sparkle {
    0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.7; }
    50% { transform: scale(1.2) rotate(180deg); opacity: 1; }
  }

  .create-new-card:hover {
    transform: translateY(-5px);
    border-color: #d97706;
    box-shadow: 0 15px 30px rgba(245, 158, 11, 0.2);
  }

  .create-icon {
    width: 64px;
    height: 64px;
    border-radius: 1rem;
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
  }

  /* Work Cards */
  .library-work-card {
    background: white;
    border-radius: 1.5rem;
    border: 2px solid #f1f5f9;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
    position: relative;
  }

  .library-work-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #8b5cf6, #06b6d4, #10b981, #f59e0b);
    transform: scaleX(0);
    transition: transform 0.3s ease;
  }

  .library-work-card:hover::before {
    transform: scaleX(1);
  }

  .library-work-card:hover {
    transform: translateY(-8px);
    border-color: #e2e8f0;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
  }

  .work-cover {
    padding: 2rem;
    text-align: center;
    position: relative;
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  }

  .status-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    padding: 0.25rem 0.75rem;
    border-radius: 1rem;
    font-size: 0.75rem;
    font-weight: 600;
  }

  .status-badge.published {
    background: #dcfce7;
    color: #166534;
  }

  .status-badge.draft {
    background: #fef3c7;
    color: #92400e;
  }

  /* Search and Filter */
  .library-search-bar {
    display: flex;
    align-items: center;
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 1rem;
    padding: 0.75rem 1rem;
    gap: 0.75rem;
    transition: all 0.3s ease;
  }

  .library-search-bar:focus-within {
    border-color: #8b5cf6;
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
  }

  .filter-btn {
    padding: 0.5rem 1rem;
    border-radius: 1rem;
    border: 2px solid #e2e8f0;
    background: white;
    color: #6b7280;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .filter-btn:hover {
    border-color: #8b5cf6;
    color: #8b5cf6;
  }

  .filter-btn.active {
    background: #8b5cf6;
    border-color: #8b5cf6;
    color: white;
  }

  /* Featured Story Card */
  .featured-story-card {
    background: linear-gradient(135deg, #fef7ff 0%, #f3e8ff 100%);
    border: 2px solid #e9d5ff;
    border-radius: 2rem;
    padding: 2rem;
    position: relative;
    overflow: hidden;
  }

  .featured-story-card::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(168, 85, 247, 0.1) 0%, transparent 70%);
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-10px) rotate(5deg); }
  }

  .featured-badge {
    position: absolute;
    top: 1rem;
    left: 1rem;
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 1rem;
    font-size: 0.875rem;
    font-weight: 600;
  }

  .featured-cover {
    width: 120px;
    height: 120px;
    border-radius: 1.5rem;
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 3px solid #e9d5ff;
    flex-shrink: 0;
  }

  .featured-read-btn {
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
  }

  .featured-read-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(139, 92, 246, 0.3);
  }

  .category-tag {
    background: #f1f5f9;
    color: #475569;
    padding: 0.25rem 0.75rem;
    border-radius: 0.5rem;
    font-size: 0.75rem;
    font-weight: 500;
  }

  .category-tag.small {
    padding: 0.125rem 0.5rem;
    font-size: 0.625rem;
  }

  /* Discover Story Cards */
  .discover-story-card {
    background: white;
    border-radius: 1.5rem;
    border: 2px solid #f1f5f9;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
  }

  .discover-story-card:hover {
    transform: translateY(-8px);
    border-color: #e2e8f0;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  }

  .story-cover {
    padding: 2rem;
    text-align: center;
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    position: relative;
  }

  .trending-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 1rem;
    font-size: 0.75rem;
    font-weight: 600;
  }

  .read-btn {
    background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
    color: white;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 0.75rem;
    font-size: 0.875rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .read-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 16px rgba(59, 130, 246, 0.3);
  }

  /* Offline Tab Styles */
  .offline-info-card {
    background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
    border: 2px solid #bbf7d0;
    border-radius: 1.5rem;
    padding: 2rem;
  }

  .offline-icon {
    width: 64px;
    height: 64px;
    border-radius: 1rem;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.75rem;
    flex-shrink: 0;
  }

  .storage-info-card {
    background: white;
    border-radius: 1.5rem;
    padding: 1.5rem;
    border: 2px solid #f1f5f9;
  }

  .storage-bar {
    width: 100%;
    height: 8px;
    background: #f1f5f9;
    border-radius: 4px;
    overflow: hidden;
  }

  .storage-fill {
    height: 100%;
    background: linear-gradient(90deg, #10b981 0%, #059669 100%);
    border-radius: 4px;
    transition: width 0.5s ease;
  }

  .offline-story-card {
    background: white;
    border-radius: 1.5rem;
    padding: 1.5rem;
    border: 2px solid #f1f5f9;
    transition: all 0.3s ease;
  }

  .offline-story-card:hover {
    transform: translateX(8px);
    border-color: #e2e8f0;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  }

  .offline-story-cover {
    width: 64px;
    height: 64px;
    border-radius: 1rem;
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    flex-shrink: 0;
  }

  .download-indicator {
    position: absolute;
    bottom: -4px;
    right: -4px;
    width: 20px;
    height: 20px;
    background: #10b981;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: bold;
  }

  .offline-read-btn {
    width: 40px;
    height: 40px;
    border-radius: 0.75rem;
    background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
    color: white;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
  }

  .offline-read-btn:hover {
    transform: scale(1.1);
  }

  .offline-remove-btn {
    width: 40px;
    height: 40px;
    border-radius: 0.75rem;
    background: #fee2e2;
    color: #dc2626;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
  }

  .offline-remove-btn:hover {
    background: #fecaca;
    transform: scale(1.1);
  }

  .empty-offline-card {
    text-align: center;
    padding: 3rem;
    background: white;
    border-radius: 2rem;
    border: 2px dashed #d1d5db;
  }

  /* ========== MODERN SEARCH BAR STYLES ========== */
  
  /* Modern Search Container */
  .modern-search-container {
    background: linear-gradient(135deg, #fefefe 0%, #f8fafc 100%);
    border-radius: 2rem;
    padding: 1.5rem;
    box-shadow: 
      0 8px 32px rgba(139, 92, 246, 0.12),
      0 4px 16px rgba(0, 0, 0, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.2);
    position: relative;
    backdrop-filter: blur(20px);
  }

  .modern-search-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, #8b5cf6, #ec4899, #06b6d4, #10b981);
    border-radius: 2rem 2rem 0 0;
    animation: gradient-flow 3s ease-in-out infinite;
  }

  @keyframes gradient-flow {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 1; }
  }

  .modern-search-wrapper {
    display: flex;
    align-items: center;
    background: white;
    border: 1px solid rgba(139, 92, 246, 0.1);
    border-radius: 1.5rem;
    padding: 0.75rem;
    gap: 0.75rem;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    box-shadow: 
      0 4px 20px rgba(139, 92, 246, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.9);
  }

  .modern-search-wrapper::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.02) 0%, rgba(236, 72, 153, 0.02) 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .modern-search-wrapper:hover::before {
    opacity: 1;
  }

  .modern-search-wrapper:focus-within {
    border-color: rgba(139, 92, 246, 0.3);
    box-shadow: 
      0 0 0 3px rgba(139, 92, 246, 0.1),
      0 8px 32px rgba(139, 92, 246, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.9);
    transform: translateY(-1px);
  }

  .search-icon-container {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 0.75rem;
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    flex-shrink: 0;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
    transition: all 0.3s ease;
  }

  .modern-search-wrapper:focus-within .search-icon-container {
    transform: scale(1.05);
    box-shadow: 0 6px 16px rgba(139, 92, 246, 0.4);
  }

  .search-icon {
    width: 20px;
    height: 20px;
    color: white;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
  }

  .modern-search-input {
    flex: 1;
    border: none;
    outline: none;
    background: transparent;
    font-size: 1rem;
    color: #1f2937;
    font-weight: 500;
    min-width: 0;
    padding: 0.5rem 0;
  }

  .modern-search-input::placeholder {
    color: #9ca3af;
    font-weight: 400;
    font-style: italic;
  }

  .search-actions-modern {
    display: flex;
    gap: 0.5rem;
    flex-shrink: 0;
  }

  .modern-action-btn {
    width: 40px;
    height: 40px;
    border-radius: 0.75rem;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(10px);
  }

  .modern-action-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    transition: all 0.3s ease;
    transform: translate(-50%, -50%);
  }

  .modern-action-btn:hover::before {
    width: 80px;
    height: 80px;
  }

  .modern-action-btn:hover {
    transform: translateY(-2px) scale(1.05);
  }

  .modern-action-btn:active {
    transform: translateY(0) scale(0.95);
  }

  .voice-btn-modern {
    background: rgba(251, 191, 36, 0.1);
    border: 1px solid rgba(251, 191, 36, 0.2);
    color: #f59e0b;
  }

  .voice-btn-modern::before {
    background: radial-gradient(circle, rgba(251, 191, 36, 0.2) 0%, transparent 70%);
  }

  .voice-btn-modern:hover {
    background: rgba(251, 191, 36, 0.15);
    border-color: rgba(251, 191, 36, 0.3);
    box-shadow: 0 6px 20px rgba(251, 191, 36, 0.25);
  }

  .camera-btn-modern {
    background: rgba(59, 130, 246, 0.1);
    border: 1px solid rgba(59, 130, 246, 0.2);
    color: #3b82f6;
  }

  .camera-btn-modern::before {
    background: radial-gradient(circle, rgba(59, 130, 246, 0.2) 0%, transparent 70%);
  }

  .camera-btn-modern:hover {
    background: rgba(59, 130, 246, 0.15);
    border-color: rgba(59, 130, 246, 0.3);
    box-shadow: 0 6px 20px rgba(59, 130, 246, 0.25);
  }

  .action-icon {
    width: 18px;
    height: 18px;
    transition: transform 0.3s ease;
  }

  .modern-action-btn:hover .action-icon {
    transform: scale(1.1);
  }

  /* Filter Pills */
  .filter-pills-container {
    overflow: hidden;
  }

  .filter-pills-scroll {
    display: flex;
    gap: 2rem;
    overflow-x: auto;
    padding-bottom: 0.5rem;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .filter-pills-scroll::-webkit-scrollbar {
    display: none;
  }

  .filter-pill-group {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-shrink: 0;
  }

  .filter-label {
    font-weight: 600;
    color: #475569;
    font-size: 0.875rem;
    white-space: nowrap;
  }

  .filter-pill {
    padding: 0.5rem 1rem;
    border-radius: 2rem;
    border: 2px solid #e2e8f0;
    background: white;
    color: #6b7280;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
    font-size: 0.875rem;
  }

  .filter-pill:hover {
    border-color: #8b5cf6;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(139, 92, 246, 0.2);
  }

  .filter-pill.active {
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    border-color: transparent;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(139, 92, 246, 0.3);
  }

  /* Optimized Filter Pills for Wide Screens */
  .optimized-filters-container {
    margin-top: 1.5rem;
  }

  .filters-row {
    display: flex;
    align-items: flex-start;
    gap: 3rem;
    flex-wrap: wrap;
    justify-content: space-between;
  }

  .filter-section {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    min-width: 0;
    flex: 1;
    max-width: 300px;
  }

  .filter-category-label {
    font-weight: 700;
    color: #374151;
    font-size: 0.875rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding-left: 0.25rem;
    margin-bottom: 0.25rem;
  }

  .filter-pills-group {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  .optimized-filter-pill {
    padding: 0.5rem 1rem;
    border-radius: 1.25rem;
    border: 1px solid #e2e8f0;
    background: white;
    color: #6b7280;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  }

  .optimized-filter-pill::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.1), transparent);
    transition: left 0.5s ease;
  }

  .optimized-filter-pill:hover::before {
    left: 100%;
  }

  .optimized-filter-pill:hover {
    border-color: #c084fc;
    color: #8b5cf6;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2);
  }

  .optimized-filter-pill.active {
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    border-color: #8b5cf6;
    color: white;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
  }

  .optimized-filter-pill.active::before {
    display: none;
  }

  /* Widescreen and Landscape Optimizations */
  @media (min-width: 1024px) {
    .carousel-container {
      gap: 2rem !important;
      padding: 0 2rem;
    }

    .enhanced-story-card {
      margin-bottom: 2rem;
    }

    .curated-section {
      margin-bottom: 3rem;
      padding: 2.5rem;
    }

    .section-header {
      margin-bottom: 2rem;
    }

    .modern-search-container {
      margin-bottom: 2.5rem;
    }

    .compact-featured-story {
      margin-bottom: 2.5rem;
    }
  }

  @media (min-width: 1280px) {
    .carousel-container {
      gap: 2.5rem !important;
      padding: 0 3rem;
    }

    .enhanced-story-card {
      margin-bottom: 2.5rem;
    }

    .curated-section {
      margin-bottom: 3.5rem;
      padding: 3rem;
    }

    .px-4.lg\\:px-8.py-6 {
      padding: 2rem 3rem !important;
    }
  }

  /* Landscape Orientation Optimizations */
  @media (orientation: landscape) and (max-height: 700px) {
    .carousel-container {
      gap: 1.5rem !important;
    }

    .curated-section {
      margin-bottom: 1.5rem;
      padding: 1.5rem;
    }

    .modern-search-container {
      margin-bottom: 1.5rem;
    }

    .compact-featured-story {
      margin-bottom: 1.5rem;
    }

    .section-header {
      margin-bottom: 1rem;
    }
  }

  /* Mobile Compact Filters */
  .mobile-optimized-filters {
    display: none;
    margin-top: 1.5rem;
  }

  .compact-filters-scroll {
    overflow-x: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .compact-filters-scroll::-webkit-scrollbar {
    display: none;
  }

  .compact-filter-group {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding-bottom: 0.5rem;
    min-width: max-content;
  }

  .compact-filter-label {
    font-weight: 600;
    color: #374151;
    font-size: 0.875rem;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .compact-filter-pill {
    padding: 0.5rem 1rem;
    border-radius: 1.25rem;
    border: 1px solid #e2e8f0;
    background: white;
    color: #6b7280;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
    flex-shrink: 0;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  }

  .compact-filter-pill:hover {
    border-color: #c084fc;
    color: #8b5cf6;
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(139, 92, 246, 0.2);
  }

  .compact-filter-pill.active {
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    border-color: #8b5cf6;
    color: white;
    box-shadow: 0 4px 8px rgba(139, 92, 246, 0.3);
  }

  .filter-separator {
    width: 1px;
    height: 24px;
    background: #e2e8f0;
    flex-shrink: 0;
    margin: 0 0.5rem;
  }

  /* Responsive Display Logic */
  @media (max-width: 768px) {
    .mobile-optimized-filters {
      display: block;
    }
    
    .optimized-filters-container {
      display: none;
    }
  }

  @media (min-width: 769px) {
    .mobile-optimized-filters {
      display: none;
    }
    
    .optimized-filters-container {
      display: block;
    }
  }

  /* Enhanced Curated Sections with Colorful Backgrounds */
  .curated-section {
    border-radius: 2rem;
    padding: 2rem;
    border: none;
    position: relative;
    overflow: hidden;
    margin-bottom: 2rem;
  }

  /* Dynamic backgrounds based on section index */
  .curated-section:nth-child(1) {
    background: linear-gradient(135deg, #fef7ff 0%, #f3e8ff 50%, #e9d5ff 100%);
  }

  .curated-section:nth-child(2) {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #bae6fd 100%);
  }

  .curated-section:nth-child(3) {
    background: linear-gradient(135deg, #f7fee7 0%, #ecfccb 50%, #d9f99d 100%);
  }

  .curated-section:nth-child(4) {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 50%, #fbbf24 100%);
  }

  .curated-section:nth-child(5) {
    background: linear-gradient(135deg, #fef2f2 0%, #fecaca 50%, #fca5a5 100%);
  }

  .curated-section:nth-child(6) {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 50%, #bbf7d0 100%);
  }

  /* Fallback gradient for additional sections */
  .curated-section:nth-child(n+7) {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%);
  }

  /* Decorative background elements */
  .curated-section::before {
    content: '';
    position: absolute;
    top: -50px;
    right: -50px;
    width: 100px;
    height: 100px;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
    border-radius: 50%;
    pointer-events: none;
  }

  .curated-section::after {
    content: '';
    position: absolute;
    bottom: -30px;
    left: -30px;
    width: 60px;
    height: 60px;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.2) 0%, transparent 70%);
    border-radius: 50%;
    pointer-events: none;
  }

  .section-header {
    display: flex;
    align-items: center;
    margin-bottom: 2rem;
    gap: 1rem;
  }

  .section-icon {
    width: 64px;
    height: 64px;
    border-radius: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .section-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #1f2937;
    margin: 0;
  }

  .section-subtitle {
    font-size: 0.875rem;
    color: #6b7280;
    margin: 0;
  }

  /* Stories Carousel */
  .stories-carousel {
    overflow: hidden;
  }

  .carousel-container {
    display: flex;
    gap: 1.5rem;
    overflow-x: auto;
    padding-bottom: 1rem;
    scrollbar-width: thin;
    scrollbar-color: #e2e8f0 transparent;
  }

  .carousel-container::-webkit-scrollbar {
    height: 6px;
  }

  .carousel-container::-webkit-scrollbar-track {
    background: #f1f5f9;
    border-radius: 3px;
  }

  .carousel-container::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 3px;
  }

  .carousel-container::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
  }

  /* Enhanced Story Cards with Better Contrast */
  .enhanced-story-card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(8px);
    border-radius: 1.25rem;
    border: 1px solid rgba(255, 255, 255, 0.6);
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    min-width: 260px;
    max-width: 280px;
    cursor: pointer;
    position: relative;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
  }

  .enhanced-story-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, #8b5cf6, #06b6d4, #10b981);
    transform: scaleX(0);
    transition: transform 0.3s ease;
  }

  .enhanced-story-card:hover::before {
    transform: scaleX(1);
  }

  .enhanced-story-card:hover {
    background: rgba(255, 255, 255, 0.98);
    border-color: rgba(255, 255, 255, 0.8);
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
    transform: translateY(-8px) scale(1.02);
  }

  .story-cover-container {
    position: relative;
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    padding: 1rem;
    text-align: center;
  }

  .story-cover-art {
    position: relative;
    z-index: 2;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .story-cover-art .text-5xl {
    font-size: 2.5rem;
  }

  /* Simple Story Cover Styles */
  .simple-story-cover {
    position: relative;
    height: 100px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 1rem 1rem 0 0;
    overflow: hidden;
  }

  .simple-story-cover::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 70% 30%, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
    pointer-events: none;
  }

  .cover-emoji {
    font-size: 2.5rem;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
    transition: transform 0.3s ease;
  }

  .enhanced-story-card:hover .cover-emoji {
    transform: scale(1.1);
  }

  .story-actions-overlay {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    display: flex;
    flex-direction: row;
    gap: 0.25rem;
    opacity: 0;
    transform: translateY(-5px);
    transition: all 0.3s ease;
    z-index: 5;
  }

  .enhanced-story-card:hover .story-actions-overlay {
    opacity: 1;
    transform: translateY(0);
  }

  .action-btn {
    width: 28px;
    height: 28px;
    border-radius: 0.5rem;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .bookmark-btn {
    background: rgba(239, 68, 68, 0.9);
    color: white;
  }

  .bookmark-btn:hover {
    background: #ef4444;
    transform: scale(1.1);
  }

  .share-btn {
    background: rgba(59, 130, 246, 0.9);
    color: white;
  }

  .share-btn:hover {
    background: #3b82f6;
    transform: scale(1.1);
  }

  .download-btn {
    background: rgba(16, 185, 129, 0.9);
    color: white;
  }

  .download-btn:hover {
    background: #10b981;
    transform: scale(1.1);
  }

  .story-badge {
    position: absolute;
    top: 0.5rem;
    left: 0.5rem;
    padding: 0.25rem 0.5rem;
    border-radius: 0.75rem;
    font-size: 0.7rem;
    font-weight: 600;
    z-index: 4;
    white-space: nowrap;
  }

  .story-badge.trending {
    background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
    color: white;
  }

  .story-badge.staff-pick {
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
    color: white;
  }

  /* Simple Story Info */
  .simple-story-info {
    padding: 1rem;
    text-align: center;
  }

  .simple-story-title {
    font-size: 1rem;
    font-weight: 700;
    color: #1f2937;
    margin: 0 0 0.5rem 0;
    line-height: 1.3;
  }

  .simple-story-author {
    color: #8b5cf6;
    font-size: 0.8rem;
    font-weight: 500;
    margin: 0 0 0.75rem 0;
  }

  .simple-story-stats {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 0.75rem;
  }

  .simple-rating, .simple-views {
    font-size: 0.75rem;
    color: #6b7280;
    font-weight: 500;
  }

  .simple-category-badge {
    background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
    color: #475569;
    padding: 0.25rem 0.75rem;
    border-radius: 1rem;
    font-size: 0.7rem;
    font-weight: 600;
    border: 1px solid #e2e8f0;
    display: inline-block;
  }

  /* Compact Featured Story */
  .compact-featured-story {
    background: linear-gradient(135deg, #fef7ff 0%, #f3e8ff 100%);
    border: 2px solid #e9d5ff;
    border-radius: 1.5rem;
    padding: 1.5rem;
    position: relative;
    overflow: hidden;
    max-width: 600px;
    margin: 0 auto;
  }

  .compact-featured-story::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, #8b5cf6, #ec4899, #06b6d4);
    border-radius: 1.5rem 1.5rem 0 0;
  }

  .featured-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 1.25rem;
    font-weight: 600;
    font-size: 0.875rem;
    margin-bottom: 1rem;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
  }

  .badge-icon {
    font-size: 1rem;
  }

  .badge-text {
    font-size: 0.875rem;
  }

  .compact-story-content {
    display: flex;
    align-items: flex-start;
    gap: 1.5rem;
    margin-top: 0.5rem;
  }

  .compact-story-cover {
    flex-shrink: 0;
    background: white;
    border-radius: 1rem;
    padding: 1.25rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100px;
    height: 100px;
  }

  .cover-emoji-large {
    font-size: 2.5rem;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
  }

  .compact-story-info {
    flex: 1;
  }

  .compact-story-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #1f2937;
    margin: 0 0 0.5rem 0;
    line-height: 1.3;
  }

  .compact-story-author {
    color: #8b5cf6;
    font-size: 0.9rem;
    font-weight: 600;
    margin: 0 0 0.75rem 0;
  }

  .compact-story-description {
    font-size: 0.9rem;
    color: #6b7280;
    line-height: 1.5;
    margin-bottom: 1rem;
  }

  .compact-story-stats {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
  }

  .compact-stat {
    font-size: 0.8rem;
    color: #6b7280;
    font-weight: 500;
  }

  .compact-read-btn {
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 1rem;
    font-size: 0.875rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
    margin-top: 0.5rem;
  }

  .compact-read-btn svg {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
  }

  .compact-read-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
  }

  /* Responsive adjustments */
  @media (max-width: 640px) {
    .library-tab {
      padding: 0.75rem;
      min-height: 60px;
    }
    
    .tab-icon {
      width: 36px;
      height: 36px;
    }
    
    .featured-story-card {
      padding: 1.5rem;
    }
    
    .featured-cover {
      width: 80px;
      height: 80px;
    }

    .modern-search-container {
      padding: 1rem;
      border-radius: 1.5rem;
    }

    .modern-search-wrapper {
      padding: 0.5rem;
      gap: 0.5rem;
    }

    .search-icon-container {
      width: 36px;
      height: 36px;
    }

    .search-icon {
      width: 18px;
      height: 18px;
    }

    .modern-search-input {
      font-size: 0.9rem;
    }

    .search-actions-modern {
      gap: 0.25rem;
    }

    .modern-action-btn {
      width: 36px;
      height: 36px;
    }

    .action-icon {
      width: 16px;
      height: 16px;
    }

    /* Responsive Optimized Filters */
    .filters-row {
      gap: 2rem;
      justify-content: flex-start;
    }
    
    .filter-section {
      max-width: none;
      flex: none;
    }

    .filter-pills-scroll {
      gap: 1rem;
      padding: 0.5rem 0;
    }

    .filter-pill-group {
      gap: 0.5rem;
    }

    .filter-pill {
      padding: 0.4rem 0.8rem;
      font-size: 0.8rem;
      white-space: nowrap;
    }

    .filter-label {
      font-size: 0.8rem;
      min-width: fit-content;
    }

    /* Mobile Optimized Filters */
    .filters-row {
      flex-direction: column;
      gap: 1.5rem;
    }
    
    .filter-section {
      width: 100%;
    }
    
    .filter-category-label {
      font-size: 0.8rem;
    }
    
    .optimized-filter-pill {
      padding: 0.4rem 0.8rem;
      font-size: 0.8rem;
    }

    .enhanced-story-card {
      min-width: 280px;
      margin-bottom: 1.5rem;
    }

    /* Better Mobile Spacing */
    .curated-section {
      margin-bottom: 2rem;
      padding: 1.5rem;
    }

    .section-header {
      margin-bottom: 1.5rem;
    }

    .stories-carousel .carousel-container {
      gap: 1.5rem;
      padding: 0 1rem;
    }

    .compact-featured-story {
      margin-bottom: 2rem;
    }

    .modern-search-container {
      margin-bottom: 2rem;
    }

    /* Better overall mobile spacing */
    .px-4.lg\\:px-8.py-6 {
      padding: 1.5rem 1rem !important;
    }

    /* Spacing between major sections */
    .space-y-8 > * + * {
      margin-top: 2rem !important;
    }

    /* Compact Your Works Mobile Layout */
    .enhanced-your-works {
      gap: 1.5rem;
    }

    .stats-overview-container {
      margin-bottom: 1.5rem;
      padding: 1.5rem;
    }

    .stats-header {
      margin-bottom: 1rem;
      text-align: left;
    }

    .stats-title {
      font-size: 1.25rem;
      margin-bottom: 0.25rem;
    }

    .stats-subtitle {
      font-size: 0.875rem;
    }

    /* Compact 2x2 Grid for Mobile */
    .enhanced-stats-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    .enhanced-stat-card {
      padding: 1rem;
      flex-direction: column;
      text-align: center;
      gap: 0.75rem;
    }

    .stat-icon-enhanced {
      width: 40px;
      height: 40px;
      font-size: 1.5rem;
      margin: 0 auto;
    }

    .stat-number {
      font-size: 1.5rem;
      margin-bottom: 0.125rem;
    }

    .stat-label {
      font-size: 0.75rem;
    }

    .enhanced-create-card {
      margin-bottom: 1.5rem;
      padding: 1.5rem;
    }

    .create-title {
      font-size: 1.125rem;
    }

    .create-subtitle {
      font-size: 0.85rem;
    }

    .works-section {
      padding: 1.5rem;
    }

    .works-header {
      margin-bottom: 1.5rem;
    }

    /* Compact Works Grid for Mobile */
    .enhanced-works-grid {
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    .enhanced-work-card {
      padding: 1rem;
    }

    .work-card-header {
      padding: 1rem 1rem 0;
    }

    .work-cover-enhanced {
      padding: 0.75rem;
    }

    .work-emoji {
      font-size: 1.5rem;
    }

    .work-title-enhanced {
      font-size: 1rem;
      margin: 0.75rem 0 0.375rem 0;
    }

    .work-meta {
      margin-bottom: 0.75rem;
    }

    .work-stats-row {
      margin-bottom: 0.75rem;
    }

    .enhanced-status-badge {
      padding: 0.25rem 0.5rem;
      font-size: 0.7rem;
    }

    /* Ultra-Compact Characters Section for Mobile */
    .characters-section {
      margin-top: 1.5rem;
      padding: 1.5rem;
    }

    .characters-header {
      margin-bottom: 1rem;
    }

    .characters-title {
      font-size: 1.125rem;
    }

    .enhanced-characters-grid {
      grid-template-columns: 1fr;
      gap: 0.75rem;
    }

    .enhanced-character-card {
      padding: 0.75rem;
    }

    .character-card-header {
      padding: 0.75rem 0.75rem 0;
      gap: 0.75rem;
    }

    .character-cover-enhanced {
      padding: 0.5rem;
      width: 50px;
      height: 50px;
    }

    .character-emoji {
      font-size: 1.25rem;
    }

    .character-title-enhanced {
      font-size: 0.95rem;
      margin: 0.5rem 0 0.25rem 0;
      line-height: 1.2;
    }

    .character-meta {
      margin-bottom: 0.5rem;
      font-size: 0.8rem;
    }

    .character-type {
      font-size: 0.8rem;
    }

    .character-date {
      font-size: 0.75rem;
    }

    .character-stats-row {
      margin-bottom: 0.5rem;
      gap: 0.75rem;
    }

    .character-stat {
      padding: 0.375rem 0.5rem;
    }

    .character-stat .stat-text {
      font-size: 0.8rem;
    }

    .character-engagement {
      padding-top: 0.75rem;
      gap: 0.75rem;
    }

    .engagement-stat {
      font-size: 0.8rem;
    }

    .create-character-card {
      padding: 1.25rem;
      min-height: auto;
    }

    .create-character-icon {
      font-size: 1.75rem;
      margin-bottom: 0.5rem;
    }

    .create-character-title {
      font-size: 1rem;
      margin-bottom: 0.25rem;
    }

    .create-character-subtitle {
      font-size: 0.8rem;
    }

    /* Make character cards more horizontal on mobile */
    .character-card-body {
      padding: 0 0.75rem 0.75rem;
    }

    .simple-tab-navigation {
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .simple-tab {
      flex: 1;
      min-width: 120px;
      padding: 0.75rem 1rem;
      gap: 0.375rem;
    }

    .tab-title {
      font-size: 0.8rem;
    }

    .tab-emoji {
      font-size: 1rem;
    }

    .compact-featured-story {
      padding: 1rem;
      max-width: 100%;
    }

    .compact-story-content {
      flex-direction: column;
      text-align: center;
      gap: 1rem;
      align-items: center;
    }

    .compact-story-cover {
      width: 80px;
      height: 80px;
      padding: 1rem;
    }

    .cover-emoji-large {
      font-size: 2rem;
    }

    .compact-story-title {
      font-size: 1.25rem;
    }

    .compact-story-description {
      font-size: 0.85rem;
    }

    .compact-story-stats {
      justify-content: center;
      gap: 0.75rem;
    }

    .compact-read-btn {
      padding: 0.6rem 1.25rem;
      font-size: 0.8rem;
      gap: 0.5rem;
    }

    .compact-read-btn svg {
      width: 14px;
      height: 14px;
    }
  }

  /* Enhanced Educational Content Styles */
.meta-tag.difficulty {
  background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
  color: #15803d;
  font-weight: 600;
}

.meta-tag.lessons {
  background: linear-gradient(135deg, #fef2f2 0%, #fecaca 100%);
  color: #dc2626;
  font-weight: 600;
}

.meta-tag.subject {
  font-weight: 600;
}

.meta-tag.grade {
  font-weight: 600;
}

/* Educational Card Enhancements */
.preinstalled-section .preinstalled-card {
  position: relative;
  overflow: hidden;
  padding: 1.25rem !important;
  border-radius: 1.25rem !important;
  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%) !important;
  border: 1px solid #e2e8f0 !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08) !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.preinstalled-section .preinstalled-card:hover {
  transform: translateY(-3px) !important;
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12) !important;
  border-color: #c7d2fe !important;
}

.preinstalled-section .preinstalled-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, #8b5cf6 0%, #ec4899 50%, #06b6d4 100%);
  border-radius: 1.25rem 1.25rem 0 0;
}

.preinstalled-section .preinstalled-grid {
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)) !important;
  gap: 1.25rem !important;
}

.preinstalled-section .card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 1rem !important;
}

.preinstalled-section .item-cover {
  width: 3rem !important;
  height: 3rem !important;
  border-radius: 0.75rem !important;
  background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%) !important;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  border: 2px solid #e2e8f0 !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
}

.preinstalled-section .cover-emoji {
  font-size: 1.5rem !important;
}

.preinstalled-section .install-status {
  width: 2rem !important;
  height: 2rem !important;
  border-radius: 0.5rem !important;
  display: flex;
  align-items: center;
  justify-content: center;
}

.preinstalled-section .item-title {
  font-size: 1.125rem !important;
  font-weight: 700 !important;
  line-height: 1.3 !important;
  color: #1f2937 !important;
  margin: 0 0 0.5rem 0 !important;
}

.preinstalled-section .item-description {
  font-size: 0.875rem !important;
  color: #6b7280 !important;
  line-height: 1.4 !important;
  margin: 0 0 1rem 0 !important;
}

.preinstalled-section .item-meta {
  display: flex !important;
  flex-wrap: wrap !important;
  gap: 0.5rem !important;
  margin-bottom: 1rem !important;
}

.preinstalled-section .item-footer {
  border-top: 1px solid #f1f5f9 !important;
  padding-top: 1rem !important;
  margin-top: auto !important;
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
}

.preinstalled-section .item-size {
  font-size: 0.75rem !important;
  color: #9ca3af !important;
  font-weight: 500 !important;
}

.preinstalled-section .install-btn {
  padding: 0.5rem 1rem !important;
  border-radius: 0.75rem !important;
  border: none !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  font-size: 0.875rem !important;
  font-weight: 600 !important;
  background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%) !important;
  color: white !important;
  box-shadow: 0 3px 8px rgba(139, 92, 246, 0.3) !important;
}

.preinstalled-section .install-btn:hover {
  transform: translateY(-1px) !important;
  box-shadow: 0 5px 12px rgba(139, 92, 246, 0.4) !important;
}

.preinstalled-section .install-btn.installed {
  background: #f9fafb !important;
  color: #6b7280 !important;
  border: 1px solid #e5e7eb !important;
  box-shadow: none !important;
}

.preinstalled-section .install-btn.installed:hover {
  background: #f3f4f6 !important;
  transform: none !important;
  box-shadow: none !important;
}

/* Mobile responsiveness for educational cards */
@media (max-width: 768px) {
  .preinstalled-section .preinstalled-grid {
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
  }
  
  .preinstalled-section .preinstalled-card {
    padding: 1rem !important;
  }
  
  .preinstalled-section .item-cover {
    width: 2.5rem !important;
    height: 2.5rem !important;
  }
  
  .preinstalled-section .cover-emoji {
    font-size: 1.25rem !important;
  }
  
  .preinstalled-section .item-title {
    font-size: 1rem !important;
  }
  
  .preinstalled-section .item-description {
    font-size: 0.8rem !important;
  }
}

/* ========================================
   PROFILE PAGE ENHANCED STYLES
   ======================================== */

/* Profile Page Base Styles */
.profile-page {
  min-height: 100vh;
  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #f1f5f9 100%);
  position: relative;
  overflow-x: hidden;
}

.profile-page::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 20% 80%, rgba(99, 102, 241, 0.04) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.04) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(59, 130, 246, 0.03) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
}

/* Enhanced Profile Header */
.profile-header {
  backdrop-filter: blur(20px) saturate(180%);
  background: rgba(255, 255, 255, 0.85);
  border-bottom: 1px solid rgba(226, 232, 240, 0.5);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  position: relative;
  z-index: 10;
  margin-bottom: 1.5rem;
}

.profile-header .profile-avatar {
  position: relative;
  display: inline-block;
  width: 64px;
  height: 64px;
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 2rem;
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
}

.profile-header .profile-avatar::before {
  content: '';
  position: absolute;
  inset: -3px;
  background: linear-gradient(135deg, #6366f1, #8b5cf6);
  border-radius: 50%;
  z-index: -1;
  opacity: 0.3;
}

.profile-title {
  color: #1e293b;
  font-weight: 700;
  text-shadow: none;
}

/* Profile tabs now use simple-tab classes from Library page */

/* Settings Section Styles */
.settings-navigation {
  gap: 12px;
  margin-bottom: 2rem;
}

.settings-nav-item {
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  padding: 1.5rem 1rem;
  text-align: center;
  transition: all 0.2s ease;
  cursor: pointer;
  position: relative;
  min-height: 100px;
  display: flex;
  flex-direction: column;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.sett.library-stat-card:hover {
  transform: translateY(-4px) scale(1.02);
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  border-color: #8b5cf6;
  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
}

.library-stat-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.1), transparent);
  transition: left 0.5s;
}

.library-stat-card:hover::before {
  left: 100%;
}

.settings-nav-item.active {
  background: #6366f1;
  color: white;
  border-color: #6366f1;
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.settings-nav-item.active:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(99, 102, 241, 0.4);
}

.settings-nav-icon {
  width: 32px;
  height: 32px;
  margin-bottom: 0.75rem;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.25rem;
  background: #f1f5f9;
  color: #64748b;
  transition: all 0.2s ease;
}

.settings-nav-item.active .settings-nav-icon {
  background: rgba(255, 255, 255, 0.2);
  color: white;
}

.settings-nav-title {
  font-size: 0.8rem;
  font-weight: 600;
  color: #475569;
  line-height: 1.3;
  text-transform: none;
  letter-spacing: 0;
}

.settings-nav-item.active .settings-nav-title {
  color: white;
}

/* Settings Cards */
.settings-card {
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 16px;
  padding: 2rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  position: relative;
  overflow: hidden;
  margin-bottom: 1.5rem;
}

.settings-card:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.settings-card-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1e293b;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.settings-card-title svg {
  color: #6366f1;
  width: 20px;
  height: 20px;
}

/* Enhanced Form Controls */
.settings-input, .settings-select, .settings-textarea {
  width: 100%;
  padding: 0.75rem 1rem;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  background: white;
  font-size: 0.9rem;
  transition: all 0.2s ease;
  color: #374151;
}

.settings-input:focus, .settings-select:focus, .settings-textarea:focus {
  outline: none;
  border-color: #6366f1;
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

.settings-textarea {
  resize: vertical;
  min-height: 100px;
}

/* Avatar Selector */
.avatar-selector {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-top: 0.5rem;
}

.avatar-option {
  width: 52px;
  height: 52px;
  border-radius: 12px;
  border: 2px solid #e2e8f0;
  background: #f8fafc;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
}

.avatar-option:hover {
  border-color: #cbd5e1;
  transform: scale(1.05);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.avatar-option.selected {
  border-color: #6366f1;
  background: #eef2ff;
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

/* Account Type Cards */
.account-type-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}

.account-type-card {
  padding: 1.5rem;
  border-radius: 16px;
  border: 2px solid #e5e7eb;
  background: rgba(255, 255, 255, 0.8);
  text-align: left;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.account-type-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg, #667eea, #764ba2);
  transform: scaleX(0);
  transition: transform 0.3s ease;
}

.account-type-card:hover::before {
  transform: scaleX(1);
}

.account-type-card:hover {
  border-color: #667eea;
  transform: translateY(-3px);
  box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);
}

.account-type-card.selected {
  border-color: #667eea;
  background: rgba(102, 126, 234, 0.05);
  box-shadow: 0 8px 20px rgba(102, 126, 234, 0.25);
}

.account-type-card.selected::before {
  transform: scaleX(1);
}

/* Toggle Switches */
.toggle-switch {
  position: relative;
  display: inline-flex;
  height: 24px;
  width: 44px;
  align-items: center;
  border-radius: 12px;
  transition: all 0.2s ease;
  cursor: pointer;
}

.toggle-switch.active {
  background: #6366f1;
}

.toggle-switch:not(.active) {
  background: #d1d5db;
}

.toggle-knob {
  display: inline-block;
  height: 20px;
  width: 20px;
  border-radius: 50%;
  background: white;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  transition: all 0.2s ease;
  margin: 2px;
}

.toggle-switch.active .toggle-knob {
  transform: translateX(20px);
}

/* Range Sliders */
.range-slider {
  width: 100%;
  height: 8px;
  border-radius: 4px;
  background: #e5e7eb;
  outline: none;
  -webkit-appearance: none;
  position: relative;
}

.range-slider::-webkit-slider-thumb {
  appearance: none;
  -webkit-appearance: none;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  cursor: pointer;
  box-shadow: 
    0 4px 8px rgba(102, 126, 234, 0.3),
    0 0 0 3px rgba(255, 255, 255, 0.8),
    0 0 0 5px rgba(102, 126, 234, 0.2);
  transition: all 0.2s ease;
}

.range-slider::-webkit-slider-thumb:hover {
  transform: scale(1.2);
  box-shadow: 
    0 6px 12px rgba(102, 126, 234, 0.4),
    0 0 0 3px rgba(255, 255, 255, 0.8),
    0 0 0 6px rgba(102, 126, 234, 0.3);
}

.range-slider::-moz-range-thumb {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  cursor: pointer;
  border: 3px solid white;
  box-shadow: 0 4px 8px rgba(102, 126, 234, 0.3);
}

/* Professional Features Card */
.professional-card {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  color: white;
  border-radius: 16px;
  padding: 2rem;
  position: relative;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.25);
}

.professional-card::before {
  content: '';
  position: absolute;
  top: -50%;
  right: -50%;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
  animation: shimmer 3s ease-in-out infinite;
}

@keyframes shimmer {
  0%, 100% { opacity: 0; }
  50% { opacity: 1; }
}

.professional-features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: 1.5rem;
}

.feature-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  backdrop-filter: blur(10px);
}

.feature-check {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #10b981;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: bold;
  box-shadow: 0 2px 4px rgba(16, 185, 129, 0.3);
}

/* Accessibility Settings */
.accessibility-setting {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  padding: 1rem;
  border-radius: 12px;
  transition: all 0.2s ease;
  cursor: pointer;
}

.accessibility-setting:hover {
  background: rgba(102, 126, 234, 0.05);
}

.accessibility-info {
  flex: 1;
  margin-right: 1rem;
}

.accessibility-title {
  font-weight: 600;
  color: #374151;
  margin-bottom: 0.25rem;
}

.accessibility-description {
  font-size: 0.875rem;
  color: #6b7280;
  line-height: 1.4;
}

/* Notification Settings */
.notification-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem;
  border-radius: 12px;
  transition: all 0.2s ease;
}

.notification-item:hover {
  background: rgba(102, 126, 234, 0.05);
}

/* Responsive Design */
@media (max-width: 1024px) {
  .settings-navigation {
    grid-template-columns: repeat(3, 1fr);
  }
  
  .settings-nav-emoji {
    font-size: 1.5rem;
  }
  
  .settings-nav-title {
    font-size: 0.7rem;
  }
}

@media (max-width: 768px) {
  .profile-page {
    padding-bottom: 6rem;
  }
  
  .profile-header {
    padding: 1rem;
  }
  
  .profile-header .profile-avatar {
    width: 48px;
    height: 48px;
    font-size: 1.5rem;
  }
  
  .profile-title {
    font-size: 1.5rem;
  }
  
  .profile-tabs {
    margin: 1rem;
    padding: 3px;
    border-radius: 12px;
  }
  
  .profile-tab {
    padding: 0.75rem 1rem;
    font-size: 0.875rem;
  }
  
  .settings-navigation {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    margin: 1rem;
  }
  
  .settings-nav-item {
    padding: 1rem 0.75rem;
    min-height: 80px;
  }
  
  .settings-nav-icon {
    width: 28px;
    height: 28px;
    margin-bottom: 0.5rem;
  }
  
  .settings-nav-title {
    font-size: 0.7rem;
    line-height: 1.2;
  }
  
  .settings-card {
    margin: 1rem;
    padding: 1.5rem;
    border-radius: 12px;
  }
  
  .settings-card-title {
    font-size: 1.1rem;
  }
  
  .avatar-selector {
    justify-content: center;
  }
  
  .avatar-option {
    width: 44px;
    height: 44px;
    font-size: 1.25rem;
  }
  
  .account-type-grid {
    grid-template-columns: 1fr;
  }
  
  .professional-features-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 480px) {
  .profile-header .profile-avatar {
    font-size: 2.5rem;
  }
  
  .profile-title {
    font-size: 1.25rem;
  }
  
  .profile-tab {
    padding: 0.5rem 0.75rem;
  }
  
  .profile-tab .tab-emoji {
    font-size: 1rem;
  }
  
  .profile-tab .tab-name {
    display: none;
  }
  
  .settings-navigation {
    grid-template-columns: 1fr 1fr;
  }
  
  .settings-nav-item {
    min-height: 60px;
    padding: 0.5rem;
  }
  
  .settings-nav-emoji {
    font-size: 1rem;
  }
  
  .settings-nav-title {
    font-size: 0.55rem;
  }
  
  .settings-card {
    margin: 0.75rem;
    padding: 1rem;
  }
  
  .avatar-option {
    width: 45px;
    height: 45px;
    font-size: 1.25rem;
  }
}

/* Animation Classes */
.fade-in {
  animation: fadeIn 0.6s ease-out forwards;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.slide-in {
  animation: slideIn 0.4s ease-out forwards;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Hover Effects */
.hover-lift {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* AI Writing Assistant Modal Styles - Strictly following design profile */

/* Modal Overlay */
.ai-modal-overlay {
  position: fixed !important;
  inset: 0 !important;
  background-color: rgba(0, 0, 0, 0.5) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 1rem !important;
  z-index: 50 !important;
}

/* Modal Container */
.ai-modal-container {
  background-color: #FFFFFF !important;
  border-radius: 1rem !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  max-width: 72rem !important;
  width: 100% !important;
  max-height: 90vh !important;
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
}

/* Modal Header */
.ai-modal-header {
  padding: 1.5rem !important;
  padding-bottom: 1rem !important;
  border-bottom: 1px solid #E5E7EB !important;
}

.ai-modal-header-top {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  margin-bottom: 1rem !important;
}

.ai-modal-title {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

.ai-modal-title-icon {
  height: 1.5rem !important;
  width: 1.5rem !important;
  color: #8B5CF6 !important;
}

.ai-modal-title-text {
  color: #111827 !important;
  font-size: 1.25rem !important;
  font-weight: 700 !important;
}

.ai-modal-close-button {
  color: #9CA3AF !important;
  padding: 0.25rem !important;
  border: none !important;
  background: none !important;
  cursor: pointer !important;
  border-radius: 0.375rem !important;
  transition: color 0.2s ease !important;
}

.ai-modal-close-button:hover {
  color: #4B5563 !important;
}

/* Tab Bar */
.ai-modal-tab-bar {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

.ai-modal-tab-active {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  border: none !important;
  cursor: pointer !important;
}

.ai-modal-tab-inactive {
  background-color: #FFFFFF !important;
  color: #8B5CF6 !important;
  border: 1px solid #DDD6FE !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  cursor: pointer !important;
  transition: background-color 0.2s ease !important;
}

.ai-modal-tab-inactive:hover {
  background-color: #FAF5FF !important;
}

.ai-modal-tab-icon {
  height: 1rem !important;
  width: 1rem !important;
}

/* Modal Body */
.ai-modal-body {
  display: grid !important;
  grid-template-columns: 1fr !important;
  gap: 1rem !important;
  padding: 1.5rem !important;
  flex: 1 !important;
  overflow: hidden !important;
}

@media (min-width: 1024px) {
  .ai-modal-body {
    grid-template-columns: 1fr 1fr !important;
  }
}

/* Text Panels */
.ai-modal-text-panel {
  display: flex !important;
  flex-direction: column !important;
  height: 100% !important;
  min-height: 300px !important;
}

.ai-modal-panel-header {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  margin-bottom: 0.75rem !important;
}

.ai-modal-header-left {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

.ai-modal-panel-icon {
  height: 1.25rem !important;
  width: 1.25rem !important;
  color: #374151 !important;
}

.ai-modal-panel-title {
  color: #111827 !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
}

/* Text Areas */
.ai-modal-textarea {
  background-color: #F9FAFB !important;
  border: 1px solid #D1D5DB !important;
  border-radius: 0.5rem !important;
  padding: 1rem !important;
  font-size: 0.875rem !important;
  color: #111827 !important;
  line-height: 1.625 !important;
  width: 100% !important;
  height: 100% !important;
  min-height: 250px !important;
  resize: none !important;
  font-family: inherit !important;
}

.ai-modal-textarea::placeholder {
  color: #9CA3AF !important;
}

.ai-modal-textarea:focus {
  outline: none !important;
  box-shadow: 0 0 0 2px #8B5CF6 !important;
  border-color: #8B5CF6 !important;
  background-color: #FFFFFF !important;
}

.ai-modal-textarea-readonly {
  background-color: #F9FAFB !important;
  cursor: default !important;
}

.ai-modal-textarea-readonly:focus {
  background-color: #F9FAFB !important;
}

/* Character Count */
.ai-modal-char-count {
  color: #9CA3AF !important;
  font-size: 0.75rem !important;
  margin-top: 0.5rem !important;
}

/* Analyze Button */
.ai-modal-analyze-button {
  background-color: #FFFFFF !important;
  color: #8B5CF6 !important;
  border: 1px solid #DDD6FE !important;
  border-radius: 0.5rem !important;
  padding: 0.375rem 0.75rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
  cursor: pointer !important;
  transition: background-color 0.2s ease !important;
}

.ai-modal-analyze-button:hover:not(:disabled) {
  background-color: #FAF5FF !important;
}

.ai-modal-analyze-button:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

/* Empty State */
.ai-modal-empty-state {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  height: 100% !important;
  min-height: 250px !important;
}

.ai-modal-empty-icon {
  height: 3rem !important;
  width: 3rem !important;
  color: #D1D5DB !important;
  margin-bottom: 0.75rem !important;
}

.ai-modal-empty-text {
  font-size: 0.875rem !important;
  color: #9CA3AF !important;
  text-align: center !important;
}

/* Suggestions */
.ai-modal-suggestions {
  height: 100% !important;
  overflow-y: auto !important;
}

/* Modal Footer */
.ai-modal-footer {
  border-top: 1px solid #E5E7EB !important;
  padding: 1.5rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: flex-end !important;
  gap: 0.75rem !important;
}

.ai-modal-cancel-button {
  background-color: #FFFFFF !important;
  color: #374151 !important;
  border: 1px solid #D1D5DB !important;
  border-radius: 0.5rem !important;
  padding: 0.625rem 1.5rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: background-color 0.2s ease !important;
}

.ai-modal-cancel-button:hover {
  background-color: #F9FAFB !important;
}

.ai-modal-done-button {
  background-color: #8B5CF6 !important;
  color: #FFFFFF !important;
  border: none !important;
  border-radius: 0.5rem !important;
  padding: 0.625rem 1.5rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: background-color 0.2s ease !important;
}

.ai-modal-done-button:hover:not(:disabled) {
  background-color: #7C3AED !important;
}

.ai-modal-done-button:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

/* Mobile Responsive Adjustments */
@media (max-width: 1023px) {
  .ai-modal-container {
    max-width: 100% !important;
    margin: 1rem !important;
  }
  
  .ai-modal-body {
    flex-direction: column !important;
    gap: 1rem !important;
  }
  
  .ai-modal-text-panel {
    min-height: 200px !important;
  }
  
  .ai-modal-textarea {
    min-height: 200px !important;
  }
  
  .ai-modal-empty-state {
    min-height: 200px !important;
  }
}

/* ============================================
   DELETE ACCOUNT MODAL STYLES
   Minimal, clean design matching Settings page
   ============================================ */

/* Modal Backdrop */
.delete-modal-backdrop {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  z-index: 999999 !important;
  background-color: rgba(0, 0, 0, 0.5) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 16px !important;
  animation: fadeIn 0.2s ease-out !important;
}

/* Modal Container */
.delete-modal-container {
  background: #FFFFFF !important;
  border-radius: 16px !important;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
  max-width: 448px !important;
  width: 100% !important;
  padding: 24px !important;
  animation: slideUp 0.3s ease-out !important;
}

/* Warning Icon Container */
.delete-modal-icon {
  display: flex !important;
  justify-content: center !important;
  margin-bottom: 16px !important;
}

.delete-modal-icon-circle {
  width: 64px !important;
  height: 64px !important;
  background-color: #FEE2E2 !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.delete-modal-icon-circle svg {
  width: 32px !important;
  height: 32px !important;
  color: #DC2626 !important;
}

/* Modal Title */
.delete-modal-title {
  font-size: 1.5rem !important;
  font-weight: 700 !important;
  color: #1F2937 !important;
  text-align: center !important;
  margin-bottom: 12px !important;
  line-height: 1.3 !important;
}

/* Warning Banner */
.delete-modal-warning {
  background-color: #FEF2F2 !important;
  border: 1px solid #FECACA !important;
  border-radius: 8px !important;
  padding: 16px !important;
  margin-bottom: 16px !important;
}

.delete-modal-warning-title {
  font-size: 0.875rem !important;
  font-weight: 600 !important;
  color: #991B1B !important;
  margin-bottom: 8px !important;
}

.delete-modal-warning-text {
  font-size: 0.75rem !important;
  color: #B91C1C !important;
  line-height: 1.5 !important;
}

/* Content Section */
.delete-modal-content {
  margin-bottom: 24px !important;
}

.delete-modal-content-title {
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  color: #1F2937 !important;
  margin-bottom: 12px !important;
}

/* List Items */
.delete-modal-list {
  display: flex !important;
  flex-direction: column !important;
  gap: 8px !important;
}

.delete-modal-list-item {
  display: flex !important;
  align-items: flex-start !important;
  gap: 8px !important;
  font-size: 0.875rem !important;
  color: #4B5563 !important;
  line-height: 1.5 !important;
}

.delete-modal-list-bullet {
  color: #EF4444 !important;
  margin-top: 2px !important;
  flex-shrink: 0 !important;
}

/* Action Buttons */
.delete-modal-actions {
  display: flex !important;
  gap: 12px !important;
}

.delete-modal-button {
  flex: 1 !important;
  padding: 12px 16px !important;
  border-radius: 8px !important;
  font-weight: 500 !important;
  font-size: 0.875rem !important;
  transition: all 0.2s ease !important;
  cursor: pointer !important;
  border: none !important;
  outline: none !important;
}

.delete-modal-button:focus {
  outline: 2px solid #8B5CF6 !important;
  outline-offset: 2px !important;
}

/* Cancel Button */
.delete-modal-button-cancel {
  background: #FFFFFF !important;
  border: 1px solid #D1D5DB !important;
  color: #374151 !important;
}

.delete-modal-button-cancel:hover {
  background: #F9FAFB !important;
  border-color: #9CA3AF !important;
}

/* Delete Button */
.delete-modal-button-delete {
  background: #EF4444 !important;
  color: #FFFFFF !important;
}

.delete-modal-button-delete:hover {
  background: #DC2626 !important;
}

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Mobile Responsive */
@media (max-width: 640px) {
  .delete-modal-backdrop {
    padding: 12px !important;
  }
  
  .delete-modal-container {
    padding: 20px !important;
  }
  
  .delete-modal-title {
    font-size: 1.25rem !important;
  }
  
  .delete-modal-actions {
    flex-direction: column !important;
  }
  
  .delete-modal-button {
    width: 100% !important;
  }
}

/* ============================================
   STORY READER PAGE STYLES
   Strictly following design profile JSON
   ============================================ */

/* Page Container - Light Mode */
.story-reader-page.light {
  background: linear-gradient(180deg, hsl(270, 60%, 95%), hsl(270, 50%, 98%)) !important;
  min-height: 100vh !important;
  padding: 1rem !important;
  padding-bottom: env(safe-area-inset-bottom) !important;
}

/* Page Container - Dark Mode */
.story-reader-page.dark {
  background: linear-gradient(180deg, hsl(270, 40%, 12%), hsl(270, 40%, 15%)) !important;
  min-height: 100vh !important;
  padding: 1rem !important;
  padding-bottom: env(safe-area-inset-bottom) !important;
}

/* ============================================
   TOP BAR STYLES
   ============================================ */

/* Top Bar - Light Mode */
.story-reader-top-bar.light {
  position: relative !important;
  background: var(--story-reader-bg-light) !important;
  border-bottom: 1px solid var(--story-reader-gray-200) !important;
  padding: 16px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
}

/* Top Bar - Dark Mode */
.story-reader-top-bar.dark {
  position: relative !important;
  background: var(--story-reader-gray-900) !important;
  border-bottom: 1px solid var(--story-reader-gray-800) !important;
  padding: 16px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
}

/* Back Button - Light Mode */
.story-reader-back-button.light {
  color: var(--story-reader-gray-700) !important;
  background: none !important;
  border: none !important;
  cursor: pointer !important;
  padding: 8px !important;
  border-radius: 8px !important;
  transition: color 0.2s ease !important;
}

.story-reader-back-button.light:hover {
  color: var(--story-reader-gray-900) !important;
  background: var(--story-reader-gray-100) !important;
}

/* Back Button - Dark Mode */
.story-reader-back-button.dark {
  color: var(--story-reader-gray-300) !important;
  background: none !important;
  border: none !important;
  cursor: pointer !important;
  padding: 8px !important;
  border-radius: 8px !important;
  transition: color 0.2s ease !important;
}

.story-reader-back-button.dark:hover {
  color: var(--story-reader-text-primary-dark) !important;
  background: var(--story-reader-gray-800) !important;
}

.story-reader-back-icon {
  height: 24px !important;
  width: 24px !important;
}

/* Title Container */
.story-reader-title-container {
  flex: 1 !important;
  text-align: center !important;
  margin: 0 16px !important;
}

/* Title - Light Mode */
.story-reader-title.light {
  color: var(--story-reader-primary) !important;
  font-size: 2rem !important;
  font-weight: 700 !important;
  margin: 0 !important;
  font-family: 'Fredoka', sans-serif !important;
  text-align: center !important;
  line-height: 1.3 !important;
}

/* Title - Dark Mode */
.story-reader-title.dark {
  color: var(--story-reader-primary-light) !important;
  font-size: 2rem !important;
  font-weight: 700 !important;
  margin: 0 !important;
  font-family: 'Fredoka', sans-serif !important;
  text-align: center !important;
  line-height: 1.3 !important;
}

/* More Button - Light Mode */
.story-reader-more-button.light {
  color: var(--story-reader-gray-700) !important;
  background: none !important;
  border: none !important;
  cursor: pointer !important;
  padding: 8px !important;
  border-radius: 8px !important;
  transition: color 0.2s ease !important;
}

.story-reader-more-button.light:hover {
  color: var(--story-reader-gray-900) !important;
  background: var(--story-reader-gray-100) !important;
}

/* More Button - Dark Mode */
.story-reader-more-button.dark {
  color: var(--story-reader-gray-300) !important;
  background: none !important;
  border: none !important;
  cursor: pointer !important;
  padding: 8px !important;
  border-radius: 8px !important;
  transition: color 0.2s ease !important;
}

.story-reader-more-button.dark:hover {
  color: var(--story-reader-text-primary-dark) !important;
  background: var(--story-reader-gray-800) !important;
}

/* Active state when view controls are shown */
.story-reader-more-button.active.light {
  background: var(--story-reader-gray-200) !important;
  color: var(--story-reader-gray-900) !important;
}

.story-reader-more-button.active.dark {
  background: var(--story-reader-gray-700) !important;
  color: var(--story-reader-text-primary-dark) !important;
}

.story-reader-more-icon {
  height: 24px !important;
  width: 24px !important;
}

/* ============================================
   VIEW CONTROLS STYLES
   ============================================ */

.story-reader-view-controls {
  position: fixed !important;
  top: 64px !important;
  right: 16px !important;
  z-index: 50 !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 8px !important;
  animation: slideInFromRight 0.2s ease-out !important;
}

@keyframes slideInFromRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Toggle Button - Pink theme for both light and dark */
.story-reader-toggle-button {
  background: var(--story-reader-accent-pink) !important;
  color: white !important;
  border-radius: 8px !important;
  padding: 8px 12px !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
  border: none !important;
  cursor: pointer !important;
  transition: background-color 0.2s ease !important;
  white-space: nowrap !important;
}

.story-reader-toggle-button:hover {
  background: #db2777 !important;
}

.story-reader-toggle-button.active {
  background: var(--story-reader-accent-pink) !important;
}

.story-reader-toggle-icon {
  height: 16px !important;
  width: 16px !important;
}

.story-reader-toggle-checkmark {
  height: 16px !important;
  width: 16px !important;
}

/* Action Button - Gray theme for Edit, Share, Publish */
.story-reader-action-button {
  background: var(--story-reader-gray-600) !important;
  color: white !important;
  border-radius: 8px !important;
  padding: 8px 12px !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
  border: none !important;
  cursor: pointer !important;
  transition: background-color 0.2s ease !important;
  white-space: nowrap !important;
}

.story-reader-action-button:hover {
  background: var(--story-reader-gray-700) !important;
}

.story-reader-action-icon {
  height: 16px !important;
  width: 16px !important;
}

/* ============================================
   VERTICAL SCROLL MODE STYLES
   ============================================ */

.story-reader-vertical-container {
  padding: 0 16px 32px 16px !important;
}

/* Page Card - Light Mode */
.story-reader-page-card.light {
  background: var(--story-reader-card-light) !important;
  border-radius: 3rem !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  overflow: hidden !important;
  margin-bottom: 2rem !important;
  position: relative !important;
  border: 4px solid hsla(270, 70%, 60%, 0.2) !important;
  padding: 1.5rem !important;
  animation: float 3s ease-in-out infinite !important;
}

/* Page Card - Dark Mode */
.story-reader-page-card.dark {
  background: var(--story-reader-card-dark) !important;
  border-radius: 3rem !important;
  box-shadow: 0 25px 50px -12px rgba(139, 92, 246, 0.4) !important;
  overflow: hidden !important;
  margin-bottom: 2rem !important;
  position: relative !important;
  border: 4px solid hsla(270, 70%, 60%, 0.3) !important;
  padding: 1.5rem !important;
  animation: float 3s ease-in-out infinite !important;
}

/* Page Number Container */
.story-reader-page-number-container {
  position: absolute !important;
  top: 16px !important;
  left: 16px !important;
  z-index: 10 !important;
}

/* Page Number Badge */
.story-reader-page-number-badge {
  background: linear-gradient(135deg, var(--story-reader-primary), var(--story-reader-accent)) !important;
  color: white !important;
  border-radius: 50% !important;
  width: 3rem !important;
  height: 3rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 1.25rem !important;
  font-weight: 700 !important;
  font-family: 'Fredoka', sans-serif !important;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4) !important;
  animation: bounce-soft 2s ease-in-out infinite !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
}

/* Illustration Container */
.story-reader-illustration-container {
  position: relative !important;
  width: 100% !important;
  aspect-ratio: 1 / 1 !important;
}

/* Square Illustration */
.story-reader-illustration {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
}

/* Story Text - Light Mode */
.story-reader-text.light {
  padding: 1.5rem !important;
  color: var(--story-reader-text-primary-light) !important;
  font-size: 1.25rem !important;
  line-height: 2 !important;
  font-family: 'Comic Neue', cursive !important;
  font-weight: 400 !important;
  letter-spacing: 0.01em !important;
}

/* Story Text - Dark Mode */
.story-reader-text.dark {
  padding: 1.5rem !important;
  color: var(--story-reader-text-primary-dark) !important;
  font-size: 1.25rem !important;
  line-height: 2 !important;
  font-family: 'Comic Neue', cursive !important;
  font-weight: 400 !important;
  letter-spacing: 0.01em !important;
}

/* Larger text on desktop */
@media (min-width: 768px) {
  .story-reader-text.light,
  .story-reader-text.dark {
    font-size: 1.375rem !important;
    line-height: 2.2 !important;
  }
}

/* ============================================
   THE END CARD STYLES
   ============================================ */

/* The End Card - Light Mode */
.story-reader-end-card.light {
  background: linear-gradient(135deg, hsl(45, 100%, 85%), hsl(45, 100%, 70%), hsl(45, 100%, 60%)) !important;
  border-radius: 3rem !important;
  box-shadow: 0 25px 50px -12px rgba(251, 191, 36, 0.5) !important;
  overflow: hidden !important;
  margin-bottom: 2rem !important;
  position: relative !important;
  min-height: 300px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  border: 4px solid hsl(45, 100%, 50%) !important;
  animation: bounce-soft 2s ease-in-out infinite !important;
}

.story-reader-end-card.light::before {
  content: '' !important;
  position: absolute !important;
  top: 1.5rem !important;
  left: 1.5rem !important;
  font-size: 3rem !important;
  animation: wiggle 0.5s ease-in-out infinite !important;
}

.story-reader-end-card.light::after {
  content: '' !important;
  position: absolute !important;
  top: 1.5rem !important;
  right: 1.5rem !important;
  font-size: 3rem !important;
  animation: wiggle 0.5s ease-in-out infinite 0.25s !important;
}

/* The End Card - Dark Mode */
.story-reader-end-card.dark {
  background: linear-gradient(135deg, hsl(270, 70%, 30%), hsl(270, 80%, 40%), hsl(320, 80%, 50%)) !important;
  border-radius: 3rem !important;
  box-shadow: 0 25px 50px -12px rgba(139, 92, 246, 0.6) !important;
  overflow: hidden !important;
  margin-bottom: 2rem !important;
  position: relative !important;
  min-height: 300px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  border: 4px solid var(--story-reader-primary) !important;
  animation: bounce-soft 2s ease-in-out infinite !important;
}

.story-reader-end-card.dark::before {
  content: '' !important;
  position: absolute !important;
  top: 1.5rem !important;
  left: 1.5rem !important;
  font-size: 3rem !important;
  animation: sparkle 2s ease-in-out infinite !important;
}

.story-reader-end-card.dark::after {
  content: '' !important;
  position: absolute !important;
  top: 1.5rem !important;
  right: 1.5rem !important;
  font-size: 3rem !important;
  animation: sparkle 2s ease-in-out infinite 1s !important;
}

/* The End Content */
.story-reader-end-content {
  text-align: center !important;
  padding: 40px 24px !important;
}

/* The End Title - Light Mode */
.story-reader-end-title.light {
  font-size: 3rem !important;
  font-weight: 800 !important;
  color: hsl(270, 80%, 40%) !important;
  margin-bottom: 1rem !important;
  font-family: 'Fredoka', sans-serif !important;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1) !important;
  position: relative !important;
  z-index: 10 !important;
}

/* The End Title - Dark Mode */
.story-reader-end-title.dark {
  font-size: 3rem !important;
  font-weight: 800 !important;
  color: white !important;
  margin-bottom: 1rem !important;
  font-family: 'Fredoka', sans-serif !important;
  text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3) !important;
  position: relative !important;
  z-index: 10 !important;
}

@media (min-width: 768px) {
  .story-reader-end-title.light,
  .story-reader-end-title.dark {
    font-size: 4rem !important;
  }
}

/* The End Subtitle - Light Mode */
.story-reader-end-subtitle.light {
  font-size: 16px !important;
  color: var(--story-reader-gray-600) !important;
  line-height: 1.5 !important;
}

/* The End Subtitle - Dark Mode */
.story-reader-end-subtitle.dark {
  font-size: 16px !important;
  color: var(--story-reader-gray-400) !important;
  line-height: 1.5 !important;
}

/* ============================================
   HORIZONTAL SCROLL MODE STYLES
   ============================================ */

.story-reader-horizontal-container {
  position: relative !important;
  height: calc(100vh - 64px) !important;
  padding: 1.5rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Horizontal Page Card - Light Mode */
.story-reader-horizontal-page-card.light {
  background: var(--story-reader-card-light) !important;
  border-radius: 3rem !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  max-width: 384px !important;
  width: 100% !important;
  margin: 0 auto !important;
  border: 4px solid hsla(270, 70%, 60%, 0.2) !important;
  padding: 1.5rem !important;
  animation: float 3s ease-in-out infinite !important;
  position: relative !important;
  overflow: hidden !important;
}

/* Horizontal Page Card - Dark Mode */
.story-reader-horizontal-page-card.dark {
  background: var(--story-reader-card-dark) !important;
  border-radius: 3rem !important;
  box-shadow: 0 25px 50px -12px rgba(139, 92, 246, 0.4) !important;
  max-width: 384px !important;
  width: 100% !important;
  margin: 0 auto !important;
  border: 4px solid hsla(270, 70%, 60%, 0.3) !important;
  padding: 1.5rem !important;
  animation: float 3s ease-in-out infinite !important;
  position: relative !important;
  overflow: hidden !important;
}

/* Horizontal Illustration */
.story-reader-horizontal-illustration {
  border-radius: 1.5rem !important;
  width: 100% !important;
  aspect-ratio: 1 / 1 !important;
  object-fit: cover !important;
  margin-bottom: 1rem !important;
}

/* Horizontal Text - Light Mode */
.story-reader-horizontal-text.light {
  padding: 0 1.5rem 1.5rem 1.5rem !important;
  color: var(--story-reader-text-primary-light) !important;
  font-size: 1.25rem !important;
  line-height: 2 !important;
  text-align: center !important;
  font-family: 'Comic Neue', cursive !important;
  font-weight: 400 !important;
  letter-spacing: 0.01em !important;
}

/* Horizontal Text - Dark Mode */
.story-reader-horizontal-text.dark {
  padding: 0 1.5rem 1.5rem 1.5rem !important;
  color: var(--story-reader-text-primary-dark) !important;
  font-size: 1.25rem !important;
  line-height: 2 !important;
  text-align: center !important;
  font-family: 'Comic Neue', cursive !important;
  font-weight: 400 !important;
  letter-spacing: 0.01em !important;
}

/* Larger text on desktop */
@media (min-width: 768px) {
  .story-reader-horizontal-text.light,
  .story-reader-horizontal-text.dark {
    font-size: 1.375rem !important;
    line-height: 2.2 !important;
  }
}

/* ============================================
   NAVIGATION ARROWS
   ============================================ */

.story-reader-nav-arrow {
  position: absolute !important;
  top: 0 !important;
  bottom: 0 !important;
  display: flex !important;
  align-items: center !important;
}

.story-reader-nav-left {
  left: 16px !important;
}

.story-reader-nav-right {
  right: 16px !important;
}

/* Navigation Button - Light Mode */
.story-reader-nav-button.light {
  background: var(--story-reader-primary) !important;
  color: white !important;
  border-radius: 50% !important;
  width: 3.5rem !important;
  height: 3.5rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  border: none !important;
  cursor: pointer !important;
  transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55) !important;
  z-index: 50 !important;
}

.story-reader-nav-button.light:hover {
  background: var(--story-reader-primary-dark) !important;
  transform: scale(1.1) !important;
}

.story-reader-nav-button.light:active {
  transform: scale(0.95) !important;
}

/* Navigation Button - Dark Mode */
.story-reader-nav-button.dark {
  background: var(--story-reader-primary) !important;
  color: white !important;
  border-radius: 50% !important;
  width: 3.5rem !important;
  height: 3.5rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  box-shadow: 0 25px 50px -12px rgba(139, 92, 246, 0.5) !important;
  border: none !important;
  cursor: pointer !important;
  transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55) !important;
  z-index: 50 !important;
}

.story-reader-nav-button.dark:hover {
  background: var(--story-reader-primary-light) !important;
  transform: scale(1.1) !important;
}

.story-reader-nav-button.dark:active {
  transform: scale(0.95) !important;
}

.story-reader-nav-icon {
  height: 2rem !important;
  width: 2rem !important;
}

/* ============================================
   PAGE INDICATORS
   ============================================ */

.story-reader-page-indicators {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 8px !important;
  padding: 16px 0 !important;
  position: absolute !important;
  bottom: 16px !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
}

/* Inactive Dot - Light Mode */
.story-reader-page-dot.inactive.light {
  width: 8px !important;
  height: 8px !important;
  border-radius: 50% !important;
  background: var(--story-reader-gray-300) !important;
}

/* Inactive Dot - Dark Mode */
.story-reader-page-dot.inactive.dark {
  width: 8px !important;
  height: 8px !important;
  border-radius: 50% !important;
  background: var(--story-reader-gray-600) !important;
}

/* Active Dot - Light Mode */
.story-reader-page-dot.active.light {
  width: 32px !important;
  height: 8px !important;
  border-radius: 4px !important;
  background: var(--story-reader-accent-purple) !important;
}

/* Active Dot - Dark Mode */
.story-reader-page-dot.active.dark {
  width: 32px !important;
  height: 8px !important;
  border-radius: 4px !important;
  background: var(--story-reader-accent-purple) !important;
}

/* ============================================
   RESPONSIVE DESIGN
   ============================================ */

/* Mobile Styles */
@media (max-width: 768px) {
  .story-reader-vertical-container {
    padding: 0 16px 32px 16px !important;
  }
  
  .story-reader-horizontal-page-card.light,
  .story-reader-horizontal-page-card.dark {
    max-width: 100% !important;
    margin: 0 16px !important;
  }
  
  .story-reader-view-controls {
    right: 8px !important;
    top: 68px !important;
  }
  
  .story-reader-toggle-button {
    padding: 6px 10px !important;
    font-size: 12px !important;
  }
  
  .story-reader-nav-left {
    left: 8px !important;
  }
  
  .story-reader-nav-right {
    right: 8px !important;
  }
}

/* Tablet Styles */
@media (min-width: 768px) and (max-width: 1024px) {
  .story-reader-vertical-container {
    padding: 0 24px 32px 24px !important;
    max-width: 672px !important;
    margin: 0 auto !important;
  }
  
  .story-reader-horizontal-page-card.light,
  .story-reader-horizontal-page-card.dark {
    max-width: 448px !important;
  }
}

/* Desktop Styles */
@media (min-width: 1024px) {
  .story-reader-vertical-container {
    padding: 0 32px 32px 32px !important;
    max-width: 768px !important;
    margin: 0 auto !important;
  }
  
  .story-reader-horizontal-page-card.light,
  .story-reader-horizontal-page-card.dark {
    max-width: 512px !important;
  }
}

/* ============================================
   ACCESSIBILITY & PERFORMANCE
   ============================================ */

/* Smooth scrolling for vertical mode */
.story-reader-vertical-container {
  scroll-behavior: smooth !important;
}

/* Focus states for accessibility */
.story-reader-back-button:focus,
.story-reader-more-button:focus,
.story-reader-toggle-button:focus,
.story-reader-nav-button:focus {
  outline: 2px solid var(--story-reader-accent-purple) !important;
  outline-offset: 2px !important;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .story-reader-vertical-container {
    scroll-behavior: auto !important;
  }
  
  .story-reader-toggle-button,
  .story-reader-nav-button,
  .story-reader-back-button,
  .story-reader-more-button {
    transition: none !important;
  }
}

/* ============================================
   STORY HEADER SECTION (Cover, Title, Interactions)
   ============================================ */

/* Story Header Container */
.story-reader-header.light {
  background: transparent !important;
  padding: 1.5rem 1rem !important;
  border-bottom: none !important;
}

.story-reader-header.dark {
  background: transparent !important;
  padding: 1.5rem 1rem !important;
  border-bottom: none !important;
}

/* Cover Image Container */
.story-reader-cover-container {
  width: 100% !important;
  max-width: 400px !important;
  margin: 0 auto 20px auto !important;
  border-radius: 16px !important;
  overflow: hidden !important;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.2) !important;
}

.story-reader-cover-image {
  width: 100% !important;
  height: auto !important;
  display: block !important;
  object-fit: cover !important;
  aspect-ratio: 3/4 !important;
}

/* Story Header Title */
.story-reader-header-title.light {
  font-size: 28px !important;
  font-weight: 700 !important;
  color: var(--story-reader-gray-900) !important;
  text-align: center !important;
  margin: 0 0 16px 0 !important;
  line-height: 1.3 !important;
}

.story-reader-header-title.dark {
  font-size: 28px !important;
  font-weight: 700 !important;
  color: white !important;
  text-align: center !important;
  margin: 0 0 16px 0 !important;
  line-height: 1.3 !important;
}

/* Story Details Container (Author & Genre) */
.story-reader-details.light,
.story-reader-details.dark {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 24px !important;
  flex-wrap: wrap !important;
  margin-bottom: 16px !important;
}

.story-reader-detail-item {
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
}

.story-reader-detail-label {
  font-size: 14px !important;
  font-weight: 600 !important;
  opacity: 0.7 !important;
}

.story-reader-details.light .story-reader-detail-label {
  color: var(--story-reader-gray-600) !important;
}

.story-reader-details.dark .story-reader-detail-label {
  color: var(--story-reader-gray-400) !important;
}

.story-reader-detail-value {
  font-size: 14px !important;
  font-weight: 600 !important;
}

.story-reader-details.light .story-reader-detail-value {
  color: var(--story-reader-accent-purple) !important;
}

.story-reader-details.dark .story-reader-detail-value {
  color: var(--story-reader-accent-purple) !important;
}

/* Story Description */
.story-reader-description.light {
  font-size: 15px !important;
  line-height: 1.6 !important;
  color: var(--story-reader-gray-700) !important;
  text-align: center !important;
  margin: 0 auto 20px auto !important;
  max-width: 600px !important;
  padding: 0 16px !important;
}

.story-reader-description.dark {
  font-size: 15px !important;
  line-height: 1.6 !important;
  color: var(--story-reader-gray-300) !important;
  text-align: center !important;
  margin: 0 auto 20px auto !important;
  max-width: 600px !important;
  padding: 0 16px !important;
}

/* Interaction Buttons Container */
.story-reader-interactions.light,
.story-reader-interactions.dark {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 12px !important;
  flex-wrap: wrap !important;
}

/* Individual Interaction Button */
.story-reader-interaction-btn.light {
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
  padding: 10px 16px !important;
  background: var(--story-reader-gray-100) !important;
  border: 1px solid var(--story-reader-gray-300) !important;
  border-radius: 24px !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  font-size: 14px !important;
  font-weight: 600 !important;
  color: var(--story-reader-gray-700) !important;
}

.story-reader-interaction-btn.dark {
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
  padding: 10px 16px !important;
  background: var(--story-reader-gray-800) !important;
  border: 1px solid var(--story-reader-gray-700) !important;
  border-radius: 24px !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  font-size: 14px !important;
  font-weight: 600 !important;
  color: var(--story-reader-gray-300) !important;
}

/* Hover States */
.story-reader-interaction-btn.light:hover {
  background: var(--story-reader-gray-200) !important;
  border-color: var(--story-reader-accent-purple) !important;
  transform: translateY(-2px) !important;
}

.story-reader-interaction-btn.dark:hover {
  background: var(--story-reader-gray-700) !important;
  border-color: var(--story-reader-accent-purple) !important;
  transform: translateY(-2px) !important;
}

/* Liked State */
.story-reader-interaction-btn.liked {
  border-color: #ef4444 !important;
}

.story-reader-interaction-btn.light.liked {
  background: #fef2f2 !important;
}

.story-reader-interaction-btn.dark.liked {
  background: rgba(239, 68, 68, 0.1) !important;
}

/* Views Button (non-clickable) */
.story-reader-interaction-btn.views {
  cursor: default !important;
}

.story-reader-interaction-btn.views:hover {
  transform: none !important;
}

/* Interaction Icons */
.story-reader-interaction-icon {
  width: 20px !important;
  height: 20px !important;
  flex-shrink: 0 !important;
}

.story-reader-interaction-icon.liked {
  color: #ef4444 !important;
}

/* Interaction Count */
.story-reader-interaction-count {
  font-weight: 600 !important;
  font-size: 14px !important;
}

/* Responsive Design for Story Header */
@media (max-width: 768px) {
  .story-reader-header.light,
  .story-reader-header.dark {
    padding: 16px 12px !important;
  }

  .story-reader-cover-container {
    max-width: 300px !important;
    margin-bottom: 16px !important;
  }

  .story-reader-header-title.light,
  .story-reader-header-title.dark {
    font-size: 24px !important;
    margin-bottom: 12px !important;
  }

  .story-reader-details.light,
  .story-reader-details.dark {
    gap: 16px !important;
    margin-bottom: 12px !important;
  }

  .story-reader-detail-label,
  .story-reader-detail-value {
    font-size: 13px !important;
  }

  .story-reader-description.light,
  .story-reader-description.dark {
    font-size: 14px !important;
    margin-bottom: 16px !important;
    padding: 0 12px !important;
  }

  .story-reader-interaction-btn.light,
  .story-reader-interaction-btn.dark {
    padding: 8px 12px !important;
    font-size: 13px !important;
    gap: 6px !important;
  }

  .story-reader-interaction-icon {
    width: 18px !important;
    height: 18px !important;
  }
}

@media (min-width: 769px) {
  .story-reader-header.light,
  .story-reader-header.dark {
    padding: 32px 24px !important;
  }

  .story-reader-cover-container {
    max-width: 450px !important;
  }
}

/* =================================================================
   AI STORY MODAL STYLES - Following Design Profile JSON Specifications
   ================================================================= */

/* Modal Overlay Styles */
.ai-modal-overlay-light {
  position: fixed !important;
  inset: 0 !important;
  background: rgba(0, 0, 0, 0.5) !important;
  backdrop-filter: blur(4px) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 1rem !important;
  z-index: 9999 !important;
  animation: ai-modal-fade-in 0.3s ease-out !important;
}

.ai-modal-overlay-dark {
  position: fixed !important;
  inset: 0 !important;
  background: rgba(0, 0, 0, 0.8) !important;
  backdrop-filter: blur(4px) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 1rem !important;
  z-index: 9999 !important;
  animation: ai-modal-fade-in 0.3s ease-out !important;
}

/* Modal Container Styles */
.ai-modal-container-light {
  background: #FFFFFF !important;
  border-radius: 1rem !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  max-width: 28rem !important;
  width: 100% !important;
  max-height: 90vh !important;
  overflow-y: auto !important;
  padding: 1.5rem !important;
  position: relative !important;
  animation: ai-modal-slide-up 0.3s ease-out !important;
  transform: translateY(0) !important;
}

.ai-modal-container-dark {
  background: #1a1725 !important;
  border-radius: 1rem !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5) !important;
  max-width: 28rem !important;
  width: 100% !important;
  max-height: 90vh !important;
  overflow-y: auto !important;
  padding: 1.5rem !important;
  position: relative !important;
  animation: ai-modal-slide-up 0.3s ease-out !important;
  transform: translateY(0) !important;
}

/* Header Icon Badge */
.ai-modal-icon-badge {
  background: #8B5CF6 !important;
  color: white !important;
  border-radius: 9999px !important;
  width: 3rem !important;
  height: 3rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  margin-bottom: 1rem !important;
}

/* Close Button Styles */
.ai-modal-close-light {
  position: absolute !important;
  top: 1rem !important;
  right: 1rem !important;
  color: #6B7280 !important;
  background: #F3F4F6 !important;
  border: none !important;
  border-radius: 50% !important;
  width: 32px !important;
  height: 32px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  transform: scale(1) !important;
}

.ai-modal-close-light:hover {
  color: #374151 !important;
  background: #E5E7EB !important;
  transform: scale(1.1) !important;
}

.ai-modal-close-dark {
  position: absolute !important;
  top: 1rem !important;
  right: 1rem !important;
  color: #D1D5DB !important;
  background: #222131 !important;
  border: none !important;
  border-radius: 50% !important;
  width: 32px !important;
  height: 32px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  transform: scale(1) !important;
}

.ai-modal-close-dark:hover {
  color: #F9FAFB !important;
  background: #2a2a3a !important;
  transform: scale(1.1) !important;
}

/* Title Styles */
.ai-modal-title-light {
  font-size: 1.5rem !important;
  font-weight: 700 !important;
  text-align: center !important;
  margin-bottom: 0.5rem !important;
  color: #111827 !important;
}

.ai-modal-title-dark {
  font-size: 1.5rem !important;
  font-weight: 700 !important;
  text-align: center !important;
  margin-bottom: 0.5rem !important;
  color: #FFFFFF !important;
}

/* Subtitle Styles */
.ai-modal-subtitle-light {
  font-size: 0.875rem !important;
  text-align: center !important;
  line-height: 1.625 !important;
  margin-bottom: 1rem !important;
  color: #6B7280 !important;
}

.ai-modal-subtitle-dark {
  font-size: 0.875rem !important;
  text-align: center !important;
  line-height: 1.625 !important;
  margin-bottom: 1rem !important;
  color: #9CA3AF !important;
}

/* Input Label Styles */
.ai-modal-label-light {
  font-size: 0.875rem !important;
  font-weight: 600 !important;
  margin-bottom: 0.5rem !important;
  display: block !important;
  color: #111827 !important;
}

.ai-modal-label-dark {
  font-size: 0.875rem !important;
  font-weight: 600 !important;
  margin-bottom: 0.5rem !important;
  display: block !important;
  color: #FFFFFF !important;
}

/* Textarea Styles */
.ai-modal-textarea-light {
  background: #FFFFFF !important;
  border: 2px solid #D1D5DB !important;
  border-radius: 0.75rem !important;
  padding: 0.75rem !important;
  font-size: 0.875rem !important;
  color: #111827 !important;
  min-height: 5rem !important;
  width: 100% !important;
  resize: none !important;
  margin-bottom: 1rem !important;
  transition: border-color 0.2s ease !important;
}

.ai-modal-textarea-light::placeholder {
  color: #9CA3AF !important;
}

.ai-modal-textarea-light:focus {
  outline: none !important;
  border-color: #8B5CF6 !important;
}

.ai-modal-textarea-dark {
  background: #222131 !important;
  border: 2px solid #8B5CF6 !important;
  border-radius: 0.75rem !important;
  padding: 0.75rem !important;
  font-size: 0.875rem !important;
  color: #FFFFFF !important;
  min-height: 5rem !important;
  width: 100% !important;
  resize: none !important;
  margin-bottom: 1rem !important;
  transition: border-color 0.2s ease !important;
}

.ai-modal-textarea-dark::placeholder {
  color: #6B7280 !important;
}

.ai-modal-textarea-dark:focus {
  outline: none !important;
  border-color: #A78BFA !important;
}

/* Genre Grid */
.ai-modal-genre-grid {
  display: grid !important;
  grid-template-columns: repeat(2, 1fr) !important;
  gap: 0.75rem !important;
  margin-bottom: 1rem !important;
}

/* Genre Card Styles */
.ai-modal-genre-card-light {
  background: #F3F4F6 !important;
  border: 2px solid transparent !important;
  border-radius: 0.5rem !important;
  padding: 0.75rem !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 0.25rem !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  min-height: 70px !important;
}

.ai-modal-genre-card-light:hover {
  background: #E5E7EB !important;
}

.ai-modal-genre-card-light-selected {
  background: #F3E8FF !important;
  border: 2px solid #8B5CF6 !important;
  border-radius: 0.5rem !important;
  padding: 0.75rem !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 0.25rem !important;
  cursor: pointer !important;
  min-height: 70px !important;
}

.ai-modal-genre-card-dark {
  background: #222131 !important;
  border: 2px solid #3a3a4a !important;
  border-radius: 0.5rem !important;
  padding: 0.75rem !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 0.25rem !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  min-height: 70px !important;
}

.ai-modal-genre-card-dark:hover {
  background: #2a2a3a !important;
}

.ai-modal-genre-card-dark-selected {
  background: rgba(139, 92, 246, 0.3) !important;
  border: 2px solid #8B5CF6 !important;
  border-radius: 0.5rem !important;
  padding: 0.75rem !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 0.25rem !important;
  cursor: pointer !important;
  min-height: 70px !important;
}

/* Genre Label Styles */
.ai-modal-genre-label-light {
  font-size: 0.75rem !important;
  font-weight: 500 !important;
  color: #374151 !important;
  text-align: center !important;
  line-height: 1.2 !important;
}

.ai-modal-genre-label-dark {
  font-size: 0.75rem !important;
  font-weight: 500 !important;
  color: #D1D5DB !important;
  text-align: center !important;
  line-height: 1.2 !important;
}

/* Generate Button */
.ai-modal-generate-button {
  background: #8B5CF6 !important;
  color: white !important;
  border-radius: 0.75rem !important;
  padding: 0.75rem 1.5rem !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
  width: 100% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 0.5rem !important;
  transition: background-color 0.2s ease !important;
  border: none !important;
  cursor: pointer !important;
}

.ai-modal-generate-button:hover:not(:disabled) {
  background: #7C3AED !important;
}

.ai-modal-generate-button:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

/* Genre Icon Colors */
.ai-modal-genre-icon-fantasy {
  color: #A78BFA !important;
}

.ai-modal-genre-icon-adventure {
  color: #06B6D4 !important;
}

.ai-modal-genre-icon-mystery {
  color: #6366F1 !important;
}

.ai-modal-genre-icon-action {
  color: #EF4444 !important;
}

.ai-modal-genre-icon-friendship {
  color: #EC4899 !important;
}

.ai-modal-genre-icon-sciFi {
  color: #22D3EE !important;
}

.ai-modal-genre-icon-comedy {
  color: #F59E0B !important;
}

.ai-modal-genre-icon-educational {
  color: #10B981 !important;
}

/* ===== MESSAGING PAGE STYLES ===== */
.messaging-page {
  min-height: 100vh !important;
  background: #F9FAFB !important;
  padding-bottom: 80px !important;
}

.messaging-container {
  display: grid !important;
  grid-template-columns: 350px 1fr !important;
  height: calc(100vh - 80px) !important;
  max-width: 1400px !important;
  margin: 0 auto !important;
  background: white !important;
  border-radius: 0 !important;
  overflow: hidden !important;
}

/* Conversations Panel */
.conversations-panel {
  border-right: 1px solid #E5E7EB !important;
  display: flex !important;
  flex-direction: column !important;
  background: white !important;
}

.conversations-header {
  padding: 1.5rem !important;
  border-bottom: 1px solid #E5E7EB !important;
}

.conversations-title {
  font-size: 1.5rem !important;
  font-weight: 700 !important;
  color: #111827 !important;
  margin: 0 !important;
}

.conversations-list {
  flex: 1 !important;
  overflow-y: auto !important;
}

.conversation-item {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
  padding: 1rem 1.5rem !important;
  cursor: pointer !important;
  transition: background-color 0.2s !important;
  border-bottom: 1px solid #F3F4F6 !important;
  position: relative !important;
}

.conversation-item:hover {
  background: #F9FAFB !important;
}

.conversation-item.active {
  background: #EEF2FF !important;
  border-left: 3px solid #8B5CF6 !important;
}

.conversation-avatar {
  width: 48px !important;
  height: 48px !important;
  border-radius: 50% !important;
  background: linear-gradient(135deg, #8B5CF6, #EC4899) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 1.5rem !important;
  flex-shrink: 0 !important;
}

.conversation-info {
  flex: 1 !important;
  min-width: 0 !important;
}

.conversation-name-row {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  margin-bottom: 0.25rem !important;
}

.conversation-name {
  font-weight: 600 !important;
  color: #111827 !important;
  font-size: 0.875rem !important;
}

.conversation-time {
  font-size: 0.75rem !important;
  color: #9CA3AF !important;
}

.conversation-last-message {
  font-size: 0.875rem !important;
  color: #6B7280 !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

.unread-badge {
  background: #8B5CF6 !important;
  color: white !important;
  border-radius: 9999px !important;
  padding: 0.125rem 0.5rem !important;
  font-size: 0.75rem !important;
  font-weight: 600 !important;
  min-width: 20px !important;
  text-align: center !important;
}

.no-conversations {
  text-align: center !important;
  padding: 3rem 1.5rem !important;
  color: #6B7280 !important;
}

/* Chat Panel */
.chat-panel {
  display: flex !important;
  flex-direction: column !important;
  background: white !important;
}

.chat-header {
  padding: 1rem 1.5rem !important;
  border-bottom: 1px solid #E5E7EB !important;
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
}

.back-button-mobile {
  display: none !important;
  background: none !important;
  border: none !important;
  cursor: pointer !important;
  padding: 0.5rem !important;
  color: #6B7280 !important;
}

.chat-header-user {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
}

.chat-avatar {
  width: 40px !important;
  height: 40px !important;
  border-radius: 50% !important;
  background: linear-gradient(135deg, #8B5CF6, #EC4899) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 1.25rem !important;
}

.chat-user-name {
  font-weight: 600 !important;
  color: #111827 !important;
  font-size: 1rem !important;
}

.messages-container {
  flex: 1 !important;
  overflow-y: auto !important;
  padding: 1.5rem !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 1rem !important;
}

.message {
  display: flex !important;
  margin-bottom: 0.5rem !important;
}

.message-sent {
  justify-content: flex-end !important;
}

.message-received {
  justify-content: flex-start !important;
}

.message-bubble {
  max-width: 70% !important;
  padding: 0.75rem 1rem !important;
  border-radius: 1rem !important;
  position: relative !important;
}

.message-sent .message-bubble {
  background: #8B5CF6 !important;
  color: white !important;
  border-bottom-right-radius: 0.25rem !important;
}

.message-received .message-bubble {
  background: #F3F4F6 !important;
  color: #111827 !important;
  border-bottom-left-radius: 0.25rem !important;
}

.message-content {
  margin: 0 !important;
  font-size: 0.875rem !important;
  line-height: 1.5 !important;
  word-wrap: break-word !important;
}

.message-time {
  font-size: 0.6875rem !important;
  opacity: 0.7 !important;
  margin-top: 0.25rem !important;
  display: block !important;
}

.message-input-container {
  padding: 1rem 1.5rem !important;
  border-top: 1px solid #E5E7EB !important;
  display: flex !important;
  gap: 0.75rem !important;
  align-items: center !important;
}

.message-input {
  flex: 1 !important;
  padding: 0.75rem 1rem !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 9999px !important;
  font-size: 0.875rem !important;
  outline: none !important;
  transition: border-color 0.2s !important;
}

.message-input:focus {
  border-color: #8B5CF6 !important;
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1) !important;
}

.send-button {
  width: 40px !important;
  height: 40px !important;
  border-radius: 50% !important;
  background: #8B5CF6 !important;
  color: white !important;
  border: none !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: background-color 0.2s !important;
}

.send-button:hover:not(:disabled) {
  background: #7C3AED !important;
}

.send-button:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

.no-chat-selected {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  color: #9CA3AF !important;
  padding: 2rem !important;
  text-align: center !important;
}

.no-chat-icon {
  font-size: 4rem !important;
  margin-bottom: 1rem !important;
}

.no-chat-selected h3 {
  font-size: 1.25rem !important;
  font-weight: 600 !important;
  color: #6B7280 !important;
  margin-bottom: 0.5rem !important;
}

.no-chat-selected p {
  font-size: 0.875rem !important;
  color: #9CA3AF !important;
}

/* Mobile Responsive */
@media (max-width: 768px) {
  .messaging-container {
    grid-template-columns: 1fr !important;
  }

  .conversations-panel {
    display: flex !important;
  }

  .chat-panel {
    display: none !important;
  }

  .messaging-container.chat-open .conversations-panel {
    display: none !important;
  }

  .messaging-container.chat-open .chat-panel {
    display: flex !important;
  }

  .back-button-mobile {
    display: flex !important;
  }
}

/* Dark Mode */
.dark .messaging-page {
  background: #0F172A !important;
}

.dark .messaging-container,
.dark .conversations-panel,
.dark .chat-panel {
  background: #1E293B !important;
}

.dark .conversations-header,
.dark .chat-header {
  border-bottom-color: #334155 !important;
}

.dark .conversation-item {
  border-bottom-color: #334155 !important;
}

.dark .conversation-item:hover {
  background: #334155 !important;
}

.dark .conversation-item.active {
  background: #312E81 !important;
}

.dark .conversation-name,
.dark .chat-user-name {
  color: #F1F5F9 !important;
}

.dark .conversation-last-message {
  color: #94A3B8 !important;
}

.dark .message-received .message-bubble {
  background: #334155 !important;
  color: #F1F5F9 !important;
}

.dark .message-input-container {
  border-top-color: #334155 !important;
}

.dark .message-input {
  background: #334155 !important;
  border-color: #475569 !important;
  color: #F1F5F9 !important;
}

.dark .message-input:focus {
  border-color: #8B5CF6 !important;
}

/* ===== END OF CHAT MODAL STYLES ===== */

/* =================================================================
   PHOTO STORY MODAL STYLES - Magical Camera Theme
   ================================================================= */

/* Modal Overlay with Backdrop Blur - Mobile First (slide from bottom) */
.modal-overlay {
  position: fixed !important;
  inset: 0 !important;
  background: rgba(0, 0, 0, 0.6) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  display: flex !important;
  align-items: flex-end !important;
  justify-content: center !important;
  padding: 0 !important;
  z-index: 9999 !important;
  animation: fadeIn 0.2s ease-out !important;
}

/* Modal Content Container - Mobile First (slide from bottom) */
.modal-content {
  background: linear-gradient(135deg, #FFFFFF 0%, #F9FAFB 100%) !important;
  border-radius: 1.5rem 1.5rem 0 0 !important;
  box-shadow: 0 25px 50px -12px rgba(139, 92, 246, 0.25), 
              0 0 0 1px rgba(139, 92, 246, 0.1) !important;
  max-width: 42rem !important;
  width: 100% !important;
  max-height: 90vh !important;
  overflow: hidden !important;
  position: relative !important;
  animation: slideUpFromBottom 0.4s cubic-bezier(0.16, 1, 0.3, 1) !important;
  display: flex !important;
  flex-direction: column !important;
  margin: 0 !important;
  transform-origin: bottom center !important;
}

.modal-content.dark {
  background: linear-gradient(135deg, #1a1725 0%, #0f0d1a 100%) !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5),
              0 0 0 1px rgba(139, 92, 246, 0.2) !important;
  border-radius: 1.5rem 1.5rem 0 0 !important;
}

/* Modal Header */
.modal-header {
  padding: 2rem 2rem 1.5rem !important;
  border-bottom: 1px solid rgba(139, 92, 246, 0.1) !important;
  display: flex !important;
  align-items: flex-start !important;
  justify-content: space-between !important;
  gap: 1rem !important;
  background: linear-gradient(to bottom, rgba(139, 92, 246, 0.05), transparent) !important;
}

.modal-header-content {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
  flex: 1 !important;
}

.modal-icon {
  width: 3rem !important;
  height: 3rem !important;
  padding: 0.75rem !important;
  background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%) !important;
  border-radius: 1rem !important;
  color: white !important;
  flex-shrink: 0 !important;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3) !important;
  animation: float 3s ease-in-out infinite !important;
}

.modal-title {
  font-size: 1.5rem !important;
  font-weight: 700 !important;
  color: #111827 !important;
  margin: 0 0 0.25rem 0 !important;
  background: linear-gradient(135deg, #8B5CF6, #EC4899) !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  background-clip: text !important;
}

.modal-content.dark .modal-title {
  background: linear-gradient(135deg, #A78BFA, #F472B6) !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  background-clip: text !important;
}

.modal-subtitle {
  font-size: 0.875rem !important;
  color: #6B7280 !important;
  margin: 0 !important;
  line-height: 1.5 !important;
}

.modal-content.dark .modal-subtitle {
  color: #9CA3AF !important;
}

.modal-close-button {
  background: #F3F4F6 !important;
  border: none !important;
  border-radius: 0.75rem !important;
  width: 2.5rem !important;
  height: 2.5rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  color: #6B7280 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  flex-shrink: 0 !important;
}

.modal-close-button:hover {
  background: #E5E7EB !important;
  color: #374151 !important;
  transform: scale(1.1) rotate(90deg) !important;
}

.modal-content.dark .modal-close-button {
  background: #222131 !important;
  color: #D1D5DB !important;
}

.modal-content.dark .modal-close-button:hover {
  background: #2a2a3a !important;
  color: #F9FAFB !important;
}

/* Modal Body */
.modal-body {
  padding: 2rem !important;
  overflow-y: auto !important;
  flex: 1 !important;
}

/* Form Sections */
.form-section {
  margin-bottom: 1.5rem !important;
}

.form-label {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  font-size: 0.875rem !important;
  font-weight: 600 !important;
  color: #111827 !important;
  margin-bottom: 0.75rem !important;
}

.form-label svg {
  width: 1.25rem !important;
  height: 1.25rem !important;
  color: #8B5CF6 !important;
}

.modal-content.dark .form-label {
  color: #FFFFFF !important;
}

/* Photo Options Grid */
.photo-options {
  display: grid !important;
  grid-template-columns: repeat(2, 1fr) !important;
  gap: 1rem !important;
}

.photo-option-button {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 0.75rem !important;
  padding: 2rem 1rem !important;
  background: linear-gradient(135deg, #F9FAFB 0%, #FFFFFF 100%) !important;
  border: 2px dashed #D1D5DB !important;
  border-radius: 1rem !important;
  cursor: pointer !important;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1) !important;
  color: #6B7280 !important;
  font-weight: 500 !important;
}

.photo-option-button:hover {
  border-color: #8B5CF6 !important;
  background: linear-gradient(135deg, #F5F3FF 0%, #FFFFFF 100%) !important;
  transform: translateY(-4px) !important;
  box-shadow: 0 12px 24px rgba(139, 92, 246, 0.15) !important;
  color: #8B5CF6 !important;
}

.photo-option-button svg {
  width: 2rem !important;
  height: 2rem !important;
}

.modal-content.dark .photo-option-button {
  background: linear-gradient(135deg, #1F1B2E 0%, #151320 100%) !important;
  border-color: #374151 !important;
  color: #9CA3AF !important;
}

.modal-content.dark .photo-option-button:hover {
  border-color: #8B5CF6 !important;
  background: linear-gradient(135deg, #2D2640 0%, #1F1B2E 100%) !important;
  color: #A78BFA !important;
}

/* Photo Preview */
.photo-preview {
  position: relative !important;
  border-radius: 1rem !important;
  overflow: hidden !important;
  background: #F9FAFB !important;
  border: 2px solid #E5E7EB !important;
}

.preview-image {
  width: 100% !important;
  height: auto !important;
  max-height: 20rem !important;
  object-fit: contain !important;
  display: block !important;
}

.remove-photo-button {
  position: absolute !important;
  top: 1rem !important;
  right: 1rem !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  padding: 0.5rem 1rem !important;
  background: rgba(239, 68, 68, 0.95) !important;
  backdrop-filter: blur(8px) !important;
  color: white !important;
  border: none !important;
  border-radius: 0.5rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3) !important;
}

.remove-photo-button:hover {
  background: rgba(220, 38, 38, 0.95) !important;
  transform: scale(1.05) !important;
}

.remove-photo-button svg {
  width: 1.25rem !important;
  height: 1.25rem !important;
}

/* Camera Container */
.camera-container {
  position: relative !important;
  border-radius: 1rem !important;
  overflow: hidden !important;
  background: #000000 !important;
  aspect-ratio: 4/3 !important;
  min-height: 400px !important;
}

.camera-video {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  display: block !important;
}

/* Camera Overlay with Frame Guide */
.camera-overlay {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  pointer-events: none !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 2rem !important;
}

.camera-frame {
  width: 80% !important;
  height: 70% !important;
  border: 3px dashed rgba(139, 92, 246, 0.8) !important;
  border-radius: 1rem !important;
  box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.3) !important;
  animation: pulse 2s ease-in-out infinite !important;
}

.camera-hint {
  position: absolute !important;
  top: 1.5rem !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  background: rgba(139, 92, 246, 0.95) !important;
  backdrop-filter: blur(8px) !important;
  color: white !important;
  padding: 0.5rem 1rem !important;
  border-radius: 0.5rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4) !important;
  animation: fadeIn 0.5s ease-out !important;
}

.camera-controls {
  position: absolute !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  padding: 1.5rem !important;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent) !important;
  display: flex !important;
  gap: 1rem !important;
  justify-content: center !important;
}

.capture-button {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  padding: 0.75rem 1.5rem !important;
  background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%) !important;
  color: white !important;
  border: none !important;
  border-radius: 0.75rem !important;
  font-weight: 600 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4) !important;
}

.capture-button:hover {
  transform: scale(1.05) !important;
  box-shadow: 0 6px 16px rgba(139, 92, 246, 0.5) !important;
}

.capture-button svg {
  width: 1.5rem !important;
  height: 1.5rem !important;
}

.cancel-button {
  padding: 0.75rem 1.5rem !important;
  background: rgba(255, 255, 255, 0.2) !important;
  backdrop-filter: blur(8px) !important;
  color: white !important;
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
  border-radius: 0.75rem !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
}

.cancel-button:hover {
  background: rgba(255, 255, 255, 0.3) !important;
}

/* Form Textarea */
.form-textarea {
  width: 100% !important;
  padding: 0.75rem !important;
  background: #FFFFFF !important;
  border: 2px solid #E5E7EB !important;
  border-radius: 0.75rem !important;
  font-size: 0.875rem !important;
  color: #111827 !important;
  resize: vertical !important;
  transition: all 0.2s ease !important;
  font-family: inherit !important;
}

.form-textarea:focus {
  outline: none !important;
  border-color: #8B5CF6 !important;
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1) !important;
}

.form-textarea::placeholder {
  color: #9CA3AF !important;
}

.modal-content.dark .form-textarea {
  background: #222131 !important;
  border-color: #374151 !important;
  color: #FFFFFF !important;
}

.modal-content.dark .form-textarea:focus {
  border-color: #8B5CF6 !important;
}

/* ============================================
   OCR MODE STYLES
   ============================================ */

/* Mode Toggle Container */
.mode-toggle-container {
  display: grid !important;
  grid-template-columns: 1fr 1fr !important;
  gap: 0.75rem !important;
  margin-top: 0.5rem !important;
}

.mode-toggle-button {
  display: flex !important;
  align-items: flex-start !important;
  gap: 0.75rem !important;
  padding: 1rem !important;
  background: #FFFFFF !important;
  border: 2px solid #E5E7EB !important;
  border-radius: 0.75rem !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  text-align: left !important;
}

.mode-toggle-button svg {
  width: 1.25rem !important;
  height: 1.25rem !important;
  color: #6B7280 !important;
  flex-shrink: 0 !important;
  margin-top: 0.125rem !important;
}

.mode-toggle-button:hover {
  border-color: #8B5CF6 !important;
  background: #F5F3FF !important;
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.15) !important;
}

.mode-toggle-button.active {
  border-color: #8B5CF6 !important;
  background: linear-gradient(135deg, #F5F3FF 0%, #EDE9FE 100%) !important;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2) !important;
}

.mode-toggle-button.active svg {
  color: #8B5CF6 !important;
}

.mode-title {
  font-size: 0.875rem !important;
  font-weight: 600 !important;
  color: #111827 !important;
  margin-bottom: 0.25rem !important;
}

.mode-description {
  font-size: 0.75rem !important;
  color: #6B7280 !important;
  line-height: 1.4 !important;
}

.mode-toggle-button.active .mode-title {
  color: #8B5CF6 !important;
}

.mode-toggle-button.active .mode-description {
  color: #7C3AED !important;
}

/* Dark Mode for Mode Toggle */
.modal-content.dark .mode-toggle-button {
  background: #222131 !important;
  border-color: #374151 !important;
}

.modal-content.dark .mode-toggle-button:hover {
  background: #2D2B3E !important;
  border-color: #8B5CF6 !important;
}

.modal-content.dark .mode-toggle-button.active {
  background: linear-gradient(135deg, #2D2B3E 0%, #3A3750 100%) !important;
  border-color: #8B5CF6 !important;
}

.modal-content.dark .mode-title {
  color: #FFFFFF !important;
}

.modal-content.dark .mode-description {
  color: #9CA3AF !important;
}

.modal-content.dark .mode-toggle-button.active .mode-title {
  color: #A78BFA !important;
}

.modal-content.dark .mode-toggle-button.active .mode-description {
  color: #C4B5FD !important;
}

/* OCR Result Container */
.ocr-result-container {
  display: flex !important;
  flex-direction: column !important;
  gap: 0.75rem !important;
}

.ocr-textarea {
  min-height: 200px !important;
  font-family: 'Courier New', monospace !important;
  font-size: 0.875rem !important;
  line-height: 1.6 !important;
}

/* OCR Actions */
.ocr-actions {
  display: flex !important;
  flex-wrap: wrap !important;
  gap: 0.5rem !important;
}

.ocr-action-button {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  padding: 0.625rem 1rem !important;
  background: #FFFFFF !important;
  border: 2px solid #E5E7EB !important;
  border-radius: 0.5rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  color: #374151 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
}

.ocr-action-button:hover {
  border-color: #8B5CF6 !important;
  background: #F5F3FF !important;
  color: #8B5CF6 !important;
  transform: translateY(-1px) !important;
}

.ocr-action-button svg {
  width: 1rem !important;
  height: 1rem !important;
}

.ocr-action-button.danger {
  border-color: #FCA5A5 !important;
  color: #DC2626 !important;
}

.ocr-action-button.danger:hover {
  border-color: #DC2626 !important;
  background: #FEF2F2 !important;
}

/* Dark Mode for OCR Components */
.modal-content.dark .ocr-action-button {
  background: #222131 !important;
  border-color: #374151 !important;
  color: #E5E7EB !important;
}

.modal-content.dark .ocr-action-button:hover {
  background: #2D2B3E !important;
  border-color: #8B5CF6 !important;
  color: #A78BFA !important;
}

.modal-content.dark .ocr-action-button.danger {
  border-color: #7F1D1D !important;
  color: #FCA5A5 !important;
}

.modal-content.dark .ocr-action-button.danger:hover {
  background: #450A0A !important;
  border-color: #DC2626 !important;
}

/* Art Style Grid */
.art-style-grid {
  display: grid !important;
  grid-template-columns: repeat(3, 1fr) !important;
  gap: 0.75rem !important;
}

.art-style-button {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 0.5rem !important;
  padding: 1rem 0.5rem !important;
  background: #FFFFFF !important;
  border: 2px solid #E5E7EB !important;
  border-radius: 0.75rem !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
  color: #6B7280 !important;
}

.art-style-button:hover {
  border-color: #8B5CF6 !important;
  background: #F5F3FF !important;
  transform: translateY(-2px) !important;
}

.art-style-button.selected {
  border-color: #8B5CF6 !important;
  background: linear-gradient(135deg, #F5F3FF 0%, #EDE9FE 100%) !important;
  color: #8B5CF6 !important;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2) !important;
}

.art-style-emoji {
  font-size: 1.5rem !important;
}

.art-style-name {
  font-size: 0.75rem !important;
  text-align: center !important;
}

.modal-content.dark .art-style-button {
  background: #1F1B2E !important;
  border-color: #374151 !important;
  color: #9CA3AF !important;
}

.modal-content.dark .art-style-button:hover {
  background: #2D2640 !important;
}

.modal-content.dark .art-style-button.selected {
  background: linear-gradient(135deg, #2D2640 0%, #3D3555 100%) !important;
  color: #A78BFA !important;
}

/* Range Slider */
.form-range {
  width: 100% !important;
  height: 0.5rem !important;
  background: linear-gradient(to right, #E5E7EB 0%, #E5E7EB 100%) !important;
  border-radius: 1rem !important;
  outline: none !important;
  -webkit-appearance: none !important;
  appearance: none !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
}

.form-range::-webkit-slider-thumb {
  -webkit-appearance: none !important;
  appearance: none !important;
  width: 1.5rem !important;
  height: 1.5rem !important;
  background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%) !important;
  border-radius: 50% !important;
  cursor: pointer !important;
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4) !important;
  transition: all 0.2s ease !important;
}

.form-range::-webkit-slider-thumb:hover {
  transform: scale(1.2) !important;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.6) !important;
}

.form-range::-moz-range-thumb {
  width: 1.5rem !important;
  height: 1.5rem !important;
  background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%) !important;
  border: none !important;
  border-radius: 50% !important;
  cursor: pointer !important;
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4) !important;
  transition: all 0.2s ease !important;
}

.form-range::-moz-range-thumb:hover {
  transform: scale(1.2) !important;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.6) !important;
}

.range-labels {
  display: flex !important;
  justify-content: space-between !important;
  margin-top: 0.5rem !important;
  font-size: 0.75rem !important;
  color: #6B7280 !important;
}

.modal-content.dark .range-labels {
  color: #9CA3AF !important;
}

/* Generation Progress */
.generation-progress {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 1.5rem !important;
  padding: 3rem 1rem !important;
  text-align: center !important;
}

.progress-animation {
  animation: float 3s ease-in-out infinite, pulse 2s ease-in-out infinite !important;
}

.progress-title {
  font-size: 1.25rem !important;
  font-weight: 600 !important;
  color: #111827 !important;
  margin: 0 !important;
}

.modal-content.dark .progress-title {
  color: #FFFFFF !important;
}

.progress-bar-container {
  width: 100% !important;
  height: 0.75rem !important;
  background: #E5E7EB !important;
  border-radius: 1rem !important;
  overflow: hidden !important;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

.progress-bar-fill {
  height: 100% !important;
  background: linear-gradient(90deg, #8B5CF6 0%, #EC4899 50%, #F59E0B 100%) !important;
  border-radius: 1rem !important;
  transition: width 0.5s cubic-bezier(0.16, 1, 0.3, 1) !important;
  box-shadow: 0 0 12px rgba(139, 92, 246, 0.5) !important;
  animation: shimmer 2s infinite !important;
  background-size: 200% 100% !important;
}

.progress-percentage {
  font-size: 2rem !important;
  font-weight: 700 !important;
  background: linear-gradient(135deg, #8B5CF6, #EC4899) !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  background-clip: text !important;
  margin: 0 !important;
}

/* Modal Footer */
.modal-footer {
  padding: 1.5rem 2rem !important;
  border-top: 1px solid rgba(139, 92, 246, 0.1) !important;
  display: flex !important;
  gap: 1rem !important;
  justify-content: flex-end !important;
  background: linear-gradient(to top, rgba(139, 92, 246, 0.03), transparent) !important;
}

.modal-button-secondary {
  padding: 0.75rem 1.5rem !important;
  background: #FFFFFF !important;
  border: 2px solid #E5E7EB !important;
  border-radius: 0.75rem !important;
  color: #6B7280 !important;
  font-weight: 600 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
}

.modal-button-secondary:hover {
  border-color: #D1D5DB !important;
  background: #F9FAFB !important;
  color: #374151 !important;
}

.modal-content.dark .modal-button-secondary {
  background: #222131 !important;
  border-color: #374151 !important;
  color: #D1D5DB !important;
}

.modal-content.dark .modal-button-secondary:hover {
  background: #2a2a3a !important;
  border-color: #4B5563 !important;
  color: #F9FAFB !important;
}

.modal-button-primary {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  padding: 0.75rem 1.5rem !important;
  background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%) !important;
  border: none !important;
  border-radius: 0.75rem !important;
  color: white !important;
  font-weight: 600 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3) !important;
}

.modal-button-primary:hover:not(:disabled) {
  transform: translateY(-2px) !important;
  box-shadow: 0 6px 16px rgba(139, 92, 246, 0.4) !important;
}

.modal-button-primary:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

.modal-button-primary svg {
  width: 1.25rem !important;
  height: 1.25rem !important;
}

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes modalSlideScale {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes slideUpFromBottom {
  from {
    opacity: 0;
    transform: translateY(100%);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

@keyframes shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* Desktop: Center modal with scale animation */
@media (min-width: 769px) {
  .modal-overlay {
    align-items: center !important;
    padding: 1rem !important;
  }

  .modal-content {
    border-radius: 1.5rem !important;
    animation: scaleIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) !important;
    transform-origin: center !important;
  }

  .modal-content.dark {
    border-radius: 1.5rem !important;
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Mobile: Slide up from bottom */
@media (max-width: 768px) {
  .modal-content {
    max-width: 100% !important;
    max-height: 95vh !important;
    border-radius: 1rem 1rem 0 0 !important;
  }

  .modal-overlay {
    align-items: flex-end !important;
    padding: 0 !important;
  }

  .modal-header {
    padding: 1.5rem 1rem 1rem !important;
  }

  .modal-body {
    padding: 1rem !important;
  }

  .modal-footer {
    padding: 1rem !important;
  }

  .art-style-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  .photo-options {
    grid-template-columns: 1fr !important;
  }

  .modal-title {
    font-size: 1.25rem !important;
  }

  .modal-icon {
    width: 2.5rem !important;
    height: 2.5rem !important;
    padding: 0.625rem !important;
  }

  .camera-container {
    min-height: 300px !important;
    aspect-ratio: 3/4 !important;
  }

  .camera-frame {
    width: 90% !important;
    height: 75% !important;
  }

  .camera-hint {
    font-size: 0.75rem !important;
    padding: 0.375rem 0.75rem !important;
  }

  .camera-controls {
    padding: 1rem !important;
    flex-direction: column !important;
    gap: 0.75rem !important;
  }

  .capture-button,
  .cancel-button {
    width: 100% !important;
    justify-content: center !important;
  }
}

@media (max-width: 480px) {
  .art-style-grid {
    gap: 0.5rem !important;
  }

  .art-style-button {
    padding: 0.75rem 0.25rem !important;
  }

  .art-style-emoji {
    font-size: 1.25rem !important;
  }

  .art-style-name {
    font-size: 0.625rem !important;
  }

  .modal-footer {
    flex-direction: column !important;
  }

  .modal-button-secondary,
  .modal-button-primary {
    width: 100% !important;
    justify-content: center !important;
  }
}

/* =================================================================
   END OF PHOTO STORY MODAL STYLES
   ================================================================= */
.chat-modal-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  background: rgba(0, 0, 0, 0.5) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  z-index: 9999 !important;
  padding: 1rem !important;
}

.chat-modal-container {
  background: white !important;
  border-radius: 1rem !important;
  width: 100% !important;
  max-width: 500px !important;
  max-height: 600px !important;
  display: flex !important;
  flex-direction: column !important;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
}

.chat-modal-header {
  padding: 1rem 1.5rem !important;
  border-bottom: 1px solid #E5E7EB !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
}

.chat-modal-user-info {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
}

.chat-modal-avatar {
  width: 40px !important;
  height: 40px !important;
  border-radius: 50% !important;
  background: linear-gradient(135deg, #8B5CF6, #EC4899) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 1.25rem !important;
}

.chat-modal-user-name {
  font-weight: 600 !important;
  color: #111827 !important;
  font-size: 1rem !important;
}

.chat-modal-close-button {
  width: 32px !important;
  height: 32px !important;
  border-radius: 50% !important;
  background: none !important;
  border: none !important;
  color: #6B7280 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: background-color 0.2s !important;
}

.chat-modal-close-button:hover {
  background: #F3F4F6 !important;
}

.chat-modal-messages {
  flex: 1 !important;
  overflow-y: auto !important;
  padding: 1.5rem !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 1rem !important;
  min-height: 300px !important;
  max-height: 400px !important;
}

.chat-modal-loading,
.chat-modal-empty {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  color: #9CA3AF !important;
  text-align: center !important;
}

.chat-modal-message {
  display: flex !important;
  margin-bottom: 0.5rem !important;
}

.chat-modal-message-sent {
  justify-content: flex-end !important;
}

.chat-modal-message-received {
  justify-content: flex-start !important;
}

.chat-modal-message-bubble {
  max-width: 70% !important;
  padding: 0.75rem 1rem !important;
  border-radius: 1rem !important;
}

.chat-modal-message-sent .chat-modal-message-bubble {
  background: #8B5CF6 !important;
  color: white !important;
  border-bottom-right-radius: 0.25rem !important;
}

.chat-modal-message-received .chat-modal-message-bubble {
  background: #F3F4F6 !important;
  color: #111827 !important;
  border-bottom-left-radius: 0.25rem !important;
}

.chat-modal-message-content {
  margin: 0 !important;
  font-size: 0.875rem !important;
  line-height: 1.5 !important;
  word-wrap: break-word !important;
}

.chat-modal-message-time {
  font-size: 0.6875rem !important;
  opacity: 0.7 !important;
  margin-top: 0.25rem !important;
  display: block !important;
}

.chat-modal-input-container {
  padding: 1rem 1.5rem !important;
  border-top: 1px solid #E5E7EB !important;
  display: flex !important;
  gap: 0.75rem !important;
  align-items: center !important;
}

.chat-modal-input {
  flex: 1 !important;
  padding: 0.75rem 1rem !important;
  border: 1px solid #E5E7EB !important;
  border-radius: 9999px !important;
  font-size: 0.875rem !important;
  outline: none !important;
  transition: border-color 0.2s !important;
}

.chat-modal-input:focus {
  border-color: #8B5CF6 !important;
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1) !important;
}

.chat-modal-send-button {
  width: 40px !important;
  height: 40px !important;
  border-radius: 50% !important;
  background: #8B5CF6 !important;
  color: white !important;
  border: none !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: background-color 0.2s !important;
  flex-shrink: 0 !important;
}

.chat-modal-send-button:hover:not(:disabled) {
  background: #7C3AED !important;
}

.chat-modal-send-button:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

/* Dark Mode for Chat Modal */
.dark .chat-modal-container {
  background: #1E293B !important;
}

.dark .chat-modal-header {
  border-bottom-color: #334155 !important;
}

.dark .chat-modal-user-name {
  color: #F1F5F9 !important;
}

.dark .chat-modal-close-button {
  color: #94A3B8 !important;
}

.dark .chat-modal-close-button:hover {
  background: #334155 !important;
}

.dark .chat-modal-message-received .chat-modal-message-bubble {
  background: #2d3748 !important;
  color: #F1F5F9 !important;
}

/* Keep sent messages purple in dark mode */
.dark .chat-modal-message-sent .chat-modal-message-bubble {
  background: #8B5CF6 !important;
  color: white !important;
}

.dark .chat-modal-input-container {
  border-top-color: #334155 !important;
}

.dark .chat-modal-input {
  background: #334155 !important;
  border-color: #475569 !important;
  color: #F1F5F9 !important;
}

.dark .chat-modal-input:focus {
  border-color: #8B5CF6 !important;
}

/* Mobile Responsive for Chat Modal */
@media (max-width: 640px) {
  .chat-modal-container {
    max-width: 100% !important;
    max-height: 90vh !important;
    margin: 0 !important;
    border-radius: 1rem 1rem 0 0 !important;
  }

  .chat-modal-overlay {
    align-items: flex-end !important;
    padding: 0 !important;
  }
}

/* Modal Animations */
@keyframes ai-modal-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes ai-modal-slide-up {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes ai-modal-fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

/* ===================================
   Save Story Modal Styles
   =================================== */

.save-story-modal-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  padding: 1rem;
  animation: fadeIn 0.2s ease-out;
}

.save-story-modal-container {
  background: white;
  border-radius: 1rem;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  max-width: 600px;
  width: 100%;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  position: relative;
  margin: auto;
  animation: modalSlideScale 0.3s ease-out;
}

.save-story-modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.5rem;
  border-bottom: 1px solid #E5E7EB;
}

.save-story-modal-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1F2937;
  margin: 0;
}

.save-story-modal-close-button {
  background: none;
  border: none;
  color: #6B7280;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 0.5rem;
  transition: all 0.2s ease;
}

.save-story-modal-close-button:hover {
  background: #F3F4F6;
  color: #1F2937;
}

.save-story-modal-content {
  padding: 1.5rem;
  overflow-y: auto;
  flex: 1;
}

.save-story-modal-story-title {
  background: #F9FAFB;
  border: 1px solid #E5E7EB;
  border-radius: 0.5rem;
  padding: 1rem;
  margin-bottom: 1.5rem;
}

.save-story-modal-story-title-label {
  font-size: 0.875rem;
  color: #6B7280;
  font-weight: 500;
  margin-right: 0.5rem;
}

.save-story-modal-story-title-text {
  font-size: 1rem;
  color: #1F2937;
  font-weight: 600;
}

.save-story-modal-section {
  margin-bottom: 1.5rem;
}

.save-story-modal-label {
  display: block;
  font-size: 0.875rem;
  font-weight: 600;
  color: #374151;
  margin-bottom: 0.75rem;
}

.save-story-modal-optional {
  font-weight: 400;
  color: #6B7280;
  font-style: italic;
}

.save-story-modal-genre-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
  gap: 0.75rem;
}

.save-story-modal-genre-button {
  background: white;
  border: 2px solid #E5E7EB;
  border-radius: 0.5rem;
  padding: 0.75rem 1rem;
  font-size: 0.875rem;
  font-weight: 500;
  color: #374151;
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: center;
}

.save-story-modal-genre-button:hover {
  border-color: #8B5CF6;
  background: #F5F3FF;
  color: #8B5CF6;
}

.save-story-modal-genre-button.selected {
  background: #8B5CF6;
  border-color: #8B5CF6;
  color: white;
  box-shadow: 0 4px 6px -1px rgba(139, 92, 246, 0.3);
}

.save-story-modal-textarea {
  width: 100%;
  border: 2px solid #E5E7EB;
  border-radius: 0.5rem;
  padding: 0.75rem;
  font-size: 0.875rem;
  color: #1F2937;
  resize: vertical;
  font-family: inherit;
  transition: all 0.2s ease;
}

.save-story-modal-textarea:focus {
  outline: none;
  border-color: #8B5CF6;
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.save-story-modal-textarea::placeholder {
  color: #9CA3AF;
}

.save-story-modal-char-count {
  text-align: right;
  font-size: 0.75rem;
  color: #6B7280;
  margin-top: 0.5rem;
}

.save-story-modal-footer {
  display: flex;
  gap: 0.75rem;
  padding: 1.5rem;
  border-top: 1px solid #E5E7EB;
  justify-content: flex-end;
}

.save-story-modal-button-cancel {
  background: white;
  border: 2px solid #E5E7EB;
  border-radius: 0.5rem;
  padding: 0.75rem 1.5rem;
  font-size: 0.875rem;
  font-weight: 600;
  color: #374151;
  cursor: pointer;
  transition: all 0.2s ease;
}

.save-story-modal-button-cancel:hover {
  background: #F9FAFB;
  border-color: #D1D5DB;
}

.save-story-modal-button-save {
  background: #8B5CF6;
  border: 2px solid #8B5CF6;
  border-radius: 0.5rem;
  padding: 0.75rem 1.5rem;
  font-size: 0.875rem;
  font-weight: 600;
  color: white;
  cursor: pointer;
  transition: all 0.2s ease;
}

.save-story-modal-button-save:hover:not(:disabled) {
  background: #7C3AED;
  border-color: #7C3AED;
  box-shadow: 0 4px 6px -1px rgba(139, 92, 246, 0.4);
}

.save-story-modal-button-save:disabled {
  background: #D1D5DB;
  border-color: #D1D5DB;
  cursor: not-allowed;
  opacity: 0.6;
}

/* Dark Mode Support */
.dark .save-story-modal-backdrop {
  background: rgba(0, 0, 0, 0.7);
}

.dark .save-story-modal-container {
  background: hsl(240, 10%, 15%);
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
}

.dark .save-story-modal-header {
  border-bottom-color: hsl(240, 10%, 25%);
}

.dark .save-story-modal-title {
  color: hsl(0, 0%, 95%);
}

.dark .save-story-modal-close-button {
  color: hsl(0, 0%, 70%);
}

.dark .save-story-modal-close-button:hover {
  background: hsl(240, 10%, 20%);
  color: hsl(0, 0%, 95%);
}

.dark .save-story-modal-story-title {
  background: hsl(240, 10%, 12%);
  border-color: hsl(240, 10%, 25%);
}

.dark .save-story-modal-story-title-label {
  color: hsl(0, 0%, 70%);
}

.dark .save-story-modal-story-title-text {
  color: hsl(0, 0%, 95%);
}

.dark .save-story-modal-label {
  color: hsl(0, 0%, 85%);
}

.dark .save-story-modal-genre-button {
  background: hsl(240, 10%, 20%);
  border-color: hsl(240, 10%, 30%);
  color: hsl(0, 0%, 85%);
}

.dark .save-story-modal-genre-button:hover {
  border-color: #8B5CF6;
  background: hsl(263, 85%, 20%);
  color: #A78BFA;
}

.dark .save-story-modal-genre-button.selected {
  background: #8B5CF6;
  border-color: #8B5CF6;
  color: white;
}

.dark .save-story-modal-textarea {
  background: hsl(240, 10%, 20%);
  border-color: hsl(240, 10%, 30%);
  color: hsl(0, 0%, 95%);
}

.dark .save-story-modal-textarea:focus {
  border-color: #8B5CF6;
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}

.dark .save-story-modal-footer {
  border-top-color: hsl(240, 10%, 25%);
}

.dark .save-story-modal-button-cancel {
  background: hsl(240, 10%, 20%);
  border-color: hsl(240, 10%, 30%);
  color: hsl(0, 0%, 85%);
}

.dark .save-story-modal-button-cancel:hover {
  background: hsl(240, 10%, 25%);
  border-color: hsl(240, 10%, 35%);
}

/* Responsive Design */
@media (max-width: 640px) {
  .save-story-modal-genre-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .save-story-modal-header,
  .save-story-modal-content,
  .save-story-modal-footer {
    padding: 1rem;
  }
  
  .save-story-modal-footer {
    flex-direction: column;
  }
  
  .save-story-modal-button-cancel,
  .save-story-modal-button-save {
    width: 100%;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 0;
  }
}

@keyframes ai-modal-slide-down {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
}

/* ============================================
   UNIFIED LIBRARY SYSTEM STYLES
   ============================================ */

/* Library Navigation */
.library-navigation {
  padding: 1rem;
  border-bottom: 1px solid #e5e7eb;
  background: white;
}

/* Library Page Wrapper */
.library-page {
  display: flex;
  flex-direction: column;
  height: 100vh;
  overflow: hidden;
}

.library-navigation {
  padding: 1rem;
  background: white;
  border-bottom: 1px solid #e5e7eb;
}

.dark .library-navigation {
  background: #1a1625;
  border-bottom-color: #2a2435;
}

.library-content {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
}

/* Ensure dropdowns can overflow in library controls */
.library-controls-wrapper,
.library-search-filter-row {
  overflow: visible;
}

.library-nav-tabs {
  display: flex;
  gap: 0.5rem;
  max-width: 400px;
  margin: 0 auto;
}

.library-nav-tab {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  border: 1px solid #d1d5db;
  border-radius: 0.5rem;
  background: #f9fafb;
  color: #6b7280;
  font-weight: 500;
  transition: all 0.2s ease;
  cursor: pointer;
  flex: 1;
  justify-content: center;
}

.library-nav-tab:hover {
  background: #f3f4f6;
  border-color: #9ca3af;
}

.library-nav-tab.active {
  background: #8b5cf6;
  border-color: #8b5cf6;
  color: white;
}

/* Shared Library Styles */
.library-page-content {
  max-width: 1200px;
  margin: 0 auto;
  padding: 1rem;
}

/* Remove padding on mobile for full-width cards */
@media (max-width: 640px) {
  .library-page-content {
    padding: 0.75rem 0.5rem;
  }
}

.library-header {
  text-align: center;
  margin-bottom: 2rem;
}

.library-title {
  font-size: 2.5rem;
  font-weight: 800;
  color: #1f2937;
  margin-bottom: 0.75rem;
  background: linear-gradient(135deg, #8b5cf6, #3b82f6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  letter-spacing: -0.025em;
}

.library-subtitle {
  font-size: 1rem;
  color: #6b7280;
}

.library-controls {
  margin-bottom: 2rem;
}

.library-tabs {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1rem;
  justify-content: center;
  overflow-x: auto;
}

.library-tab {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  border: 1px solid #d1d5db;
  border-radius: 0.5rem;
  background: white;
  color: #6b7280;
  font-weight: 500;
  transition: all 0.2s ease;
  cursor: pointer;
  white-space: nowrap;
}

.library-tab:hover {
  background: #f9fafb;
  border-color: #8b5cf6;
}

.library-tab.active {
  background: #8b5cf6;
  border-color: #8b5cf6;
  color: white;
}

.library-controls-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
}

.library-search {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex: 1;
  max-width: 400px;
  position: relative;
}

.library-search-input {
  width: 100%;
  padding: 0.5rem 0.5rem 0.5rem 2.5rem;
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  font-size: 0.875rem;
}

.library-search svg {
  position: absolute;
  left: 0.75rem;
  color: #6b7280;
}

.library-view-controls {
  display: flex;
  gap: 0.25rem;
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  padding: 0.25rem;
}

.library-view-button {
  padding: 0.5rem;
  border: none;
  background: transparent;
  border-radius: 0.25rem;
  color: #6b7280;
  cursor: pointer;
  transition: all 0.2s ease;
}

.library-view-button:hover {
  background: #f3f4f6;
}

.library-view-button.active {
  background: #8b5cf6;
  color: white;
}

.library-create-story-button {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.625rem 1.25rem;
  background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
  color: white;
  border: none;
  border-radius: 0.5rem;
  font-size: 0.875rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
}

.library-create-story-button:hover {
  background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%);
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
  transform: translateY(-1px);
}

.library-create-story-button:active {
  transform: translateY(0);
}

/* Library Controls Wrapper - New Layout with Centering */
.library-controls-wrapper {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  max-width: 800px; /* Center the controls */
  margin: 0 auto; /* Center horizontally */
  padding: 0 1rem;
}

.library-search-filter-row {
  display: flex;
  gap: 0.75rem;
  align-items: center;
  justify-content: center; /* Center the search and filter */
}

.library-search-expanded {
  flex: 1;
  max-width: 600px; /* Limit max width for better centering */
}

/* Styling for library-filter-dropdown class (used by CustomDropdown) */
.library-filter-dropdown {
  min-width: 120px;
  max-width: 200px;
  flex-shrink: 0;
}

.library-controls-wrapper .library-create-story-button {
  width: 100%;
  justify-content: center;
  max-width: 100%;
}

/* ==========================================
   Custom Dropdown Component Styles
   ========================================== */

.custom-dropdown {
  position: relative;
  display: inline-block;
  width: 100%;
}

.custom-dropdown-button {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 0.625rem 1rem;
  background: white;
  border: 1px solid #d1d5db;
  border-radius: 0.5rem;
  font-size: 0.875rem;
  font-weight: 500;
  color: #374151;
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: left;
}

.custom-dropdown-button:hover {
  border-color: #8b5cf6;
  background: #faf9fb;
}

.custom-dropdown-button:focus {
  outline: none;
  border-color: #8b5cf6;
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.custom-dropdown-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.custom-dropdown.disabled {
  opacity: 0.5;
  pointer-events: none;
}

.custom-dropdown-text {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.custom-dropdown-icon {
  width: 1.25rem;
  height: 1.25rem;
  color: #6b7280;
  flex-shrink: 0;
  margin-left: 0.5rem;
  transition: transform 0.2s ease;
}

.custom-dropdown-icon.open {
  transform: rotate(180deg);
}

/* Dropdown Menu */
.custom-dropdown-menu {
  position: absolute;
  top: calc(100% + 0.25rem);
  left: 0;
  right: 0;
  max-height: 300px;
  overflow-y: auto;
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 0.5rem;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  z-index: 1000;
  animation: dropdownSlideIn 0.15s ease-out;
}

@keyframes dropdownSlideIn {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Dropdown Options */
.custom-dropdown-option {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 0.625rem 1rem;
  background: white;
  border: none;
  color: #374151;
  font-size: 0.875rem;
  font-weight: 500;
  text-align: left;
  cursor: pointer;
  transition: all 0.15s ease;
  border-bottom: 1px solid #f3f4f6;
}

.custom-dropdown-option:last-child {
  border-bottom: none;
}

.custom-dropdown-option:hover {
  background: #f9fafb;
  color: #8b5cf6;
}

.custom-dropdown-option.selected {
  background: linear-gradient(135deg, #8b5cf6, #7c3aed);
  color: white;
  font-weight: 600;
}

.custom-dropdown-option.selected:hover {
  background: linear-gradient(135deg, #7c3aed, #6d28d9);
}

.custom-dropdown-checkmark {
  font-size: 1rem;
  font-weight: bold;
  margin-left: 0.5rem;
}

/* Scrollbar styling for dropdown menu */
.custom-dropdown-menu::-webkit-scrollbar {
  width: 6px;
}

.custom-dropdown-menu::-webkit-scrollbar-track {
  background: #f3f4f6;
  border-radius: 0 0.5rem 0.5rem 0;
}

.custom-dropdown-menu::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 3px;
}

.custom-dropdown-menu::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}

/* Dark Mode for Custom Dropdown */
.dark .custom-dropdown-button {
  background: #2a2435;
  border-color: #3a3445;
  color: #f3f4f6;
}

.dark .custom-dropdown-button:hover {
  background: #322a3d;
  border-color: #8b5cf6;
}

.dark .custom-dropdown-icon {
  color: #a78bfa;
}

.dark .custom-dropdown-menu {
  background: #2a2435;
  border-color: #3a3445;
}

.dark .custom-dropdown-option {
  background: #2a2435;
  color: #f3f4f6;
  border-bottom-color: #3a3445;
}

.dark .custom-dropdown-option:hover {
  background: #3a3445;
  color: #a78bfa;
}

.dark .custom-dropdown-option.selected {
  background: linear-gradient(135deg, #8b5cf6, #7c3aed);
  color: white;
}

.dark .custom-dropdown-option.selected:hover {
  background: linear-gradient(135deg, #7c3aed, #6d28d9);
}

.dark .custom-dropdown-menu::-webkit-scrollbar-track {
  background: #1a1625;
}

.dark .custom-dropdown-menu::-webkit-scrollbar-thumb {
  background: #3a3445;
}

.dark .custom-dropdown-menu::-webkit-scrollbar-thumb:hover {
  background: #4a4455;
}

/* Mobile Responsive for Custom Dropdown */
@media (max-width: 640px) {
  .custom-dropdown-button {
    padding: 0.75rem 1rem;
    font-size: 1rem; /* 16px - prevents iOS zoom */
    min-height: 44px;
  }

  .custom-dropdown-option {
    padding: 0.75rem 1rem;
    font-size: 1rem; /* 16px - prevents iOS zoom */
    min-height: 44px;
  }

  .custom-dropdown-menu {
    max-height: 250px;
  }
}

/* Tablet Responsive for Private Library Controls */
@media (min-width: 641px) and (max-width: 1024px) {
  .library-controls-wrapper {
    max-width: 700px;
  }

  .library-search-expanded {
    max-width: 500px;
  }
}

/* Mobile Responsive for Private Library Controls */
@media (max-width: 640px) {
  .library-controls-wrapper {
    max-width: 100%;
    padding: 0 0.5rem;
  }

  .library-search-filter-row {
    flex-direction: column;
    gap: 0.75rem;
  }

  .library-search-expanded {
    max-width: 100%;
    width: 100%;
  }

  .library-filter-dropdown {
    width: 100%;
    max-width: 100%; /* Full width on mobile */
  }

  .library-controls-wrapper .library-create-story-button {
    padding: 0.75rem 1.5rem;
  }
}

/* Shared Story Cards - Force 2x2 Grid for Mobile */
.library-stories.list-view {
  display: grid !important;
  grid-template-columns: repeat(2, 1fr) !important;
  gap: 0.75rem 0.625rem !important;
  padding: 0 !important;
  max-width: 100% !important;
}

.library-stories.grid-view {
  display: grid !important;
  grid-template-columns: repeat(2, 1fr) !important;
  gap: 0.75rem 0.625rem !important;
  padding: 0 !important;
  max-width: 100% !important;
}

/* Mobile phones - Force 2 columns with comfortable spacing */
@media (max-width: 640px) {
  .library-stories.list-view,
  .library-stories.grid-view {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 0.875rem 0.625rem !important;
    padding: 0 !important;
  }
}

/* Large phones and small tablets (481px - 639px) - 3 columns */
@media (min-width: 481px) and (max-width: 639px) {
  .library-stories.list-view,
  .library-stories.grid-view {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.875rem;
    padding: 0 1rem;
  }
}

/* Tablets (640px+) */
@media (min-width: 640px) {
  .library-stories.list-view {
    grid-template-columns: repeat(3, 1fr);
    gap: 1.25rem;
    padding: 0 1rem;
  }
  
  .library-stories.grid-view {
    grid-template-columns: repeat(3, 1fr);
    gap: 1.25rem;
    padding: 0 1rem;
  }
}

@media (min-width: 768px) {
  .library-stories.list-view {
    grid-template-columns: repeat(4, 1fr);
    gap: 1.5rem;
  }
  
  .library-stories.grid-view {
    grid-template-columns: repeat(4, 1fr);
    gap: 1.5rem;
  }
}

@media (min-width: 1024px) {
  .library-stories.list-view {
    grid-template-columns: repeat(5, 1fr);
    gap: 1.5rem;
  }
  
  .library-stories.grid-view {
    grid-template-columns: repeat(5, 1fr);
    gap: 1.5rem;
  }
}

@media (min-width: 1280px) {
  .library-stories.list-view {
    grid-template-columns: repeat(6, 1fr);
    gap: 1.75rem;
  }
  
  .library-stories.grid-view {
    grid-template-columns: repeat(6, 1fr);
    gap: 1.75rem;
  }
}

.library-story-card {
  display: flex;
  flex-direction: column;
  background: white;
  border-radius: 0.75rem;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  border: 1px solid #e5e7eb;
  cursor: pointer;
  transition: all 0.2s;
  min-height: 240px;
}

.library-story-card:hover {
  box-shadow: 0 8px 16px -4px rgba(0, 0, 0, 0.2);
  border-color: #8b5cf6;
  transform: translateY(-2px);
}

/* Mobile optimizations for story cards - Compact 2x2 Grid */
@media (max-width: 640px) {
  .library-story-card {
    min-height: 240px;
    width: 100%;
    border-radius: 0.5rem;
  }
  
  .library-story-card .library-story-cover {
    height: 160px;
    min-height: 160px;
    width: 100%;
  }
  
  .library-story-card .library-story-cover-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .library-story-card .library-story-placeholder {
    width: 100%;
    height: 100%;
  }
  
  .library-story-card .library-story-content {
    padding: 0.375rem 0.5rem;
    min-height: auto;
  }
  
  .library-story-card .library-story-title {
    font-size: 0.8125rem;
    line-height: 1.3;
    margin-bottom: 0.375rem;
    font-weight: 600;
  }
  
  .library-story-card .library-story-author {
    display: none;
  }
  
  .library-story-card .library-story-actions {
    padding: 0.375rem 0.5rem;
    gap: 0.25rem;
    flex-wrap: wrap;
  }
  
  .library-story-card .library-action-button {
    padding: 0.25rem 0.5rem;
    font-size: 0.625rem;
    min-width: auto;
  }
  
  .library-story-card .library-action-button svg {
    width: 0.875rem;
    height: 0.875rem;
  }
}

.library-story-cover {
  width: 100%;
  height: 200px;
  flex-shrink: 0;
  background: #f3f4f6;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  position: relative;
}

.library-story-cover-image,
.library-story-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.library-story-placeholder {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}

.library-story-placeholder-icon {
  width: 2rem;
  height: 2rem;
  color: #9ca3af;
}

.library-story-content {
  padding: 0.375rem 0.5rem;
  display: flex;
  flex-direction: column;
  text-align: center;
  justify-content: center;
  min-height: 0;
  flex-shrink: 0;
  overflow: hidden;
}

.library-story-title {
  font-size: 0.75rem;
  font-weight: 600;
  color: #1f2937;
  margin-bottom: 0.0625rem;
  line-height: 1.1;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  position: relative;
  width: 100%;
}

.library-story-title-inner {
  display: inline-block;
  min-width: 100%;
  animation: autoMarquee 6s linear infinite;
  animation-delay: 1s;
}

@keyframes autoMarquee {
  0% {
    transform: translateX(0);
  }
  15% {
    transform: translateX(0);
  }
  85% {
    transform: translateX(calc(-100% + 7rem));
  }
  100% {
    transform: translateX(0);
  }
}

.library-story-author {
  font-size: 0.625rem;
  color: #6b7280;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  margin-bottom: 0.125rem;
}

/* Hide unused elements */
.library-story-description,
.library-story-tags,
.library-story-stats,
.library-story-meta {
  display: none;
}

.library-story-actions {
  display: flex;
  gap: 0.25rem;
  padding: 0.5rem;
  border-top: 1px solid #e5e7eb;
  background: #f9fafb;
  flex-wrap: wrap;
  justify-content: center;
}

.library-action-button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.25rem;
  padding: 0.4rem 0.6rem;
  border: none;
  border-radius: 0.375rem;
  font-size: 0.7rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  flex: 1;
  min-width: fit-content;
  white-space: nowrap;
}

.library-action-button svg {
  width: 0.875rem;
  height: 0.875rem;
  flex-shrink: 0;
}

.library-action-button:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.library-action-button.read {
  background: #8b5cf6;
  color: white;
}

.library-action-button.read:hover {
  background: #7c3aed;
}

.library-action-button.download {
  background: #10b981;
  color: white;
}

.library-action-button.download:hover {
  background: #059669;
}

.library-action-button.edit {
  background: #8b5cf6;
  color: white;
}

.library-action-button.edit:hover {
  background: #7c3aed;
}

.library-action-button.view {
  background: #3b82f6;
  color: white;
}

.library-action-button.view:hover {
  background: #2563eb;
}

.library-action-button.save {
  background: #3b82f6;
  color: white;
}

.library-action-button.save:hover {
  background: #2563eb;
}

.library-action-button.publish {
  background: #10b981;
  color: white;
}

.library-action-button.publish:hover {
  background: #059669;
}

.library-action-button.unpublish {
  background: #f59e0b;
  color: white;
}

.library-action-button.unpublish:hover {
  background: #d97706;
}

.library-action-button.delete {
  background: #ef4444;
  color: white;
}

.library-action-button.delete:hover {
  background: #dc2626;
}

/* Responsive button text - hide text on small screens, show only icons */
@media (max-width: 640px) {
  .library-action-button span {
    display: none;
  }
  
  .library-action-button {
    padding: 0.5rem;
    min-width: 2rem;
  }
  
  .library-action-button svg {
    width: 1rem;
    height: 1rem;
  }
  
  .library-story-actions {
    gap: 0.25rem;
    padding: 0.4rem;
  }
}

/* Duplicate removed - using mobile-optimized grid above */

/* Library Section Spacing */
.library-section {
  margin-bottom: 3rem;
}

.library-section:last-child {
  margin-bottom: 1rem;
}

/* Shared Section Headers */
.library-section-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.library-section-title {
  font-size: 1.5rem;
  font-weight: 600;
  color: #1f2937;
}

/* Shared Empty States */
.library-empty-state {
  text-align: center;
  padding: 3rem 1rem;
}

.library-empty-icon {
  width: 4rem;
  height: 4rem;
  color: #d1d5db;
  margin: 0 auto 1rem;
}

.library-empty-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #374151;
  margin-bottom: 0.5rem;
}

.library-empty-description {
  color: #6b7280;
  margin-bottom: 1.5rem;
}

/* Carousel Styles */
.library-search-section {
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
}

.library-search-section > * {
  max-width: 600px;
  width: 100%;
}

.library-search-section .library-search {
  display: flex;
  gap: 0.75rem;
  align-items: stretch;
}

.library-search-section .library-search > div:first-child {
  flex: 1;
  position: relative;
  display: flex;
  align-items: center;
  min-width: 0; /* Allow flex item to shrink below content size */
}

.library-search-section .library-search svg {
  position: absolute;
  left: 0.75rem;
  width: 1.25rem;
  height: 1.25rem;
  color: #6b7280;
  pointer-events: none;
}

.library-search-section .library-search-input {
  width: 100%;
  padding: 0.625rem 0.75rem 0.625rem 2.75rem;
  border: 1px solid #e5e7eb;
  border-radius: 0.5rem;
  font-size: 0.875rem;
  color: #374151;
  background: white;
  transition: all 0.2s;
}

.library-search-section .library-search-input:focus {
  outline: none;
  border-color: #8B5CF6;
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.library-search-section .library-search-input::placeholder {
  color: #9ca3af;
}

/* Filter Button */
.library-filter-btn {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.625rem 1.25rem;
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 0.5rem;
  color: #374151;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
  flex-shrink: 0; /* Prevent button from shrinking */
}

.library-filter-btn:hover {
  background: #f9fafb;
  border-color: #8B5CF6;
  color: #8B5CF6;
}

.library-filter-btn svg {
  width: 1rem;
  height: 1rem;
}

/* Filter Panel */
.library-filters {
  display: flex;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 0.75rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  overflow: visible; /* Allow dropdowns to overflow */
  max-width: 800px; /* Center the filters panel */
  margin: 1rem auto; /* Center horizontally */
  width: calc(100% - 2rem); /* Ensure proper width with padding */
}

.library-filter-group {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  overflow: visible; /* Allow dropdowns to overflow */
  min-width: 0; /* Allow flex items to shrink */
}

.library-filter-label {
  font-size: 0.875rem;
  font-weight: 600;
  color: #374151;
}

/* Styling for library-filter-select class (used by CustomDropdown) */
.library-filter-select {
  width: 100%; /* Full width within the filter group */
  min-width: 180px;
}

.library-clear-filters-btn {
  padding: 0.625rem 1.25rem;
  background: #f3f4f6;
  border: 1px solid #e5e7eb;
  border-radius: 0.5rem;
  color: #6b7280;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
  align-self: flex-end;
}

.library-clear-filters-btn:hover {
  background: #fee2e2;
  border-color: #fca5a5;
  color: #dc2626;
}

/* Active Filters */
.library-active-filters {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  align-items: center;
  padding: 0.75rem;
  background: #f9fafb;
  border-radius: 0.5rem;
}

.library-active-filters-label {
  font-size: 0.875rem;
  font-weight: 600;
  color: #6b7280;
}

.library-filter-tag {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.375rem 0.75rem;
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 9999px;
  font-size: 0.875rem;
  color: #374151;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.library-filter-tag button {
  background: none;
  border: none;
  color: #9ca3af;
  font-size: 1.25rem;
  line-height: 1;
  cursor: pointer;
  padding: 0;
  margin-left: 0.25rem;
  transition: color 0.2s;
}

.library-filter-tag button:hover {
  color: #dc2626;
}

/* Tablet Responsive for Library Filters */
@media (min-width: 641px) and (max-width: 1024px) {
  .library-filters {
    max-width: 700px;
  }

  .library-filter-select {
    min-width: 150px;
  }
}

/* Mobile Responsive for Library Filters */
@media (max-width: 640px) {
  .library-filters {
    flex-direction: column;
    max-width: 100%;
    padding: 1rem;
  }

  .library-filter-group {
    width: 100%;
  }

  .library-filter-select {
    width: 100%;
    min-width: auto;
  }

  .library-clear-filters-btn {
    align-self: stretch;
  }

  .library-search-section .library-search {
    flex-direction: column;
  }

  .library-filter-btn {
    width: 100%;
    justify-content: center;
  }
}

/* Dark Mode */
.dark .library-search-section .library-search-input {
  background: #0f172a;
  border-color: #334155;
  color: #f1f5f9;
}

.dark .library-search-section .library-search-input::placeholder {
  color: #64748b;
}

.dark .library-search-section .library-search svg {
  color: #94a3b8;
}

.dark .library-filter-btn {
  background: #1e293b;
  border-color: #334155;
  color: #f1f5f9;
}

.dark .library-filter-btn:hover {
  background: #334155;
  border-color: #8B5CF6;
  color: #a78bfa;
}

.dark .library-filters {
  background: #1e293b;
  border-color: #334155;
}

.dark .library-filter-label {
  color: #f1f5f9;
}


.dark .library-clear-filters-btn {
  background: #334155;
  border-color: #475569;
  color: #cbd5e1;
}

.dark .library-clear-filters-btn:hover {
  background: #450a0a;
  border-color: #991b1b;
  color: #fca5a5;
}

.dark .library-active-filters {
  background: #0f172a;
}

.dark .library-active-filters-label {
  color: #94a3b8;
}

.dark .library-filter-tag {
  background: #1e293b;
  border-color: #334155;
  color: #f1f5f9;
}

.dark .library-filter-tag button {
  color: #64748b;
}

.dark .library-filter-tag button:hover {
  color: #f87171;
}

/* Filtered Results Section */
.library-filtered-results {
  margin-bottom: 3rem;
}

.library-section-title {
  font-size: 1.5rem;
  font-weight: 600;
  color: #1f2937;
  margin-bottom: 1.5rem;
}

.library-stories-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
  max-width: 800px;
  margin: 0 auto;
  padding: 0 1rem;
}

.library-story-card {
  background: white;
  border-radius: 0.75rem;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  flex-direction: column;
}

.library-story-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2);
}

.library-story-card .library-story-cover {
  width: 100%;
  aspect-ratio: 3/4;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.library-story-card .library-story-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.library-story-card .library-story-placeholder {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.library-story-card .library-story-placeholder-icon {
  width: 4rem;
  height: 4rem;
  color: rgba(255, 255, 255, 0.5);
}

.library-story-card .library-story-content {
  padding: 0.625rem;
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.library-story-card .library-story-title {
  font-size: 0.9375rem;
  font-weight: 600;
  color: #1f2937;
  line-height: 1.3;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.library-story-card .library-story-title-inner {
  display: block;
}

.library-story-card .library-story-author {
  font-size: 0.8125rem;
  color: #8b5cf6;
  font-weight: 500;
  line-height: 1.2;
}

.library-story-card .library-story-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.375rem;
  margin-top: 0.25rem;
}

.library-story-card .library-story-tag {
  font-size: 0.6875rem;
  padding: 0.1875rem 0.5rem;
  background: #f3f4f6;
  color: #6b7280;
  border-radius: 9999px;
  font-weight: 500;
  line-height: 1.2;
}

.library-story-card .library-story-language-tag {
  background: #ede9fe;
  color: #7c3aed;
  font-weight: 600;
}

.library-story-card .library-story-description {
  font-size: 0.8125rem;
  color: #6b7280;
  line-height: 1.4;
  margin-top: 0.25rem;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.library-story-card .library-story-stats {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.library-story-card .library-story-stat {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  color: #9ca3af;
  font-size: 0.75rem;
}

.library-story-card .library-story-stat-icon {
  width: 1rem;
  height: 1rem;
}

.library-story-card .library-story-more-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.25rem;
  width: 100%;
  padding: 0.5rem;
  margin-top: 0.5rem;
  background: transparent;
  border: 1px solid #e5e7eb;
  border-radius: 0.375rem;
  color: #6b7280;
  font-size: 0.75rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
}

.library-story-card .library-story-more-btn:hover {
  background: #f9fafb;
  border-color: #8b5cf6;
  color: #8b5cf6;
}

.library-story-card .library-story-more-icon {
  width: 0.875rem;
  height: 0.875rem;
}

/* Responsive - compact 2-column layout on mobile */
@media (max-width: 640px) {
  .library-stories-grid {
    gap: 0.75rem;
    padding: 0 0.5rem;
  }
  
  .library-story-card .library-story-content {
    padding: 0.75rem;
  }
  
  .library-story-card .library-story-title {
    font-size: 0.875rem;
    -webkit-line-clamp: 2;
  }
  
  .library-story-card .library-story-author {
    font-size: 0.75rem;
  }
  
  .library-story-card .library-story-tag {
    font-size: 0.625rem;
    padding: 0.125rem 0.5rem;
  }
  
  .library-story-card .library-story-description {
    font-size: 0.75rem;
    -webkit-line-clamp: 2;
  }
  
  .library-story-card .library-story-stat {
    font-size: 0.75rem;
  }
  
  .library-story-card .library-story-stat-icon {
    width: 0.875rem;
    height: 0.875rem;
  }
  
  .library-section-title {
    font-size: 1.125rem;
    padding: 0 0.5rem;
  }
}

.library-carousel-section {
  margin-bottom: 3rem;
}

/* Dark Mode for Filtered Results */
.dark .library-section-title {
  color: #f1f5f9;
}

.dark .library-story-card {
  background: #1e293b;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.dark .library-story-card:hover {
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.dark .library-story-card .library-story-title {
  color: #f1f5f9;
}

.dark .library-story-card .library-story-author {
  color: #a78bfa;
}

.dark .library-story-card .library-story-tag {
  background: #334155;
  color: #cbd5e1;
}

.dark .library-story-card .library-story-language-tag {
  background: #5b21b6;
  color: #e9d5ff;
}

.dark .library-story-card .library-story-description {
  color: #94a3b8;
}

.dark .library-story-card .library-story-stat {
  color: #64748b;
}

.dark .library-story-card .library-story-more-btn {
  border-color: #334155;
  color: #94a3b8;
}

.dark .library-story-card .library-story-more-btn:hover {
  background: #1e293b;
  border-color: #a78bfa;
  color: #a78bfa;
}

.library-carousel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.library-carousel-title {
  font-size: 1.5rem;
  font-weight: 600;
  color: #1f2937;
}

.library-carousel-more-button {
  background: none;
  border: none;
  color: #8b5cf6;
  font-weight: 500;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 0.375rem;
  transition: all 0.2s ease;
}

.library-carousel-more-button:hover {
  background: #f3f4f6;
  color: #7c3aed;
}

.library-carousel {
  overflow: hidden;
  position: relative;
}

.library-carousel-track {
  display: flex;
  gap: 1rem;
  overflow-x: auto;
  scroll-behavior: smooth;
  padding: 0.5rem 0 1rem 0;
  scrollbar-width: thin;
  scrollbar-color: #d1d5db #f9fafb;
}

.library-carousel-track::-webkit-scrollbar {
  height: 6px;
}

.library-carousel-track::-webkit-scrollbar-track {
  background: #f9fafb;
  border-radius: 3px;
}

.library-carousel-track::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 3px;
}

.library-carousel-track::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}

.library-carousel-card {
  flex: 0 0 180px;
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 0.75rem;
  overflow: hidden;
  transition: all 0.2s ease;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  min-height: 300px;
  max-width: 180px;
}

.library-carousel-card:hover {
  box-shadow: 0 8px 16px -4px rgba(0, 0, 0, 0.2);
  border-color: #8b5cf6;
  transform: translateY(-2px);
}

.library-carousel-card .library-story-cover {
  height: 200px;
  flex-shrink: 0;
}

.library-carousel-card .library-story-content {
  padding: 0.375rem 0.5rem;
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  text-align: center;
  overflow: hidden;
}

.library-story-rating {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  margin-top: 0.125rem;
  font-size: 0.625rem;
  color: #f59e0b;
  font-weight: 500;
  justify-content: center;
}

.library-story-rating svg {
  width: 0.625rem !important;
  height: 0.625rem !important;
}

.library-all-stories-section {
  margin-top: 3rem;
}

/* Statistics Section */
.library-stats-section {
  margin: 2rem 0;
}

.library-stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 1rem;
  max-width: 800px;
  margin: 0 auto;
}

/* Mobile responsive: 2x2 grid on phones */
@media (max-width: 768px) {
  .library-stats-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    max-width: 100%;
  }
}

.library-stat-card {
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 1rem;
  padding: 1.75rem 1.5rem;
  text-align: center;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(10px);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.library-stat-card:hover {
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  border-color: #8b5cf6;
}

.library-stat-number {
  display: block;
  font-size: 2.25rem;
  font-weight: 800;
  background: linear-gradient(135deg, #8b5cf6, #6366f1);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 0.5rem;
  transition: all 0.3s ease;
}

.library-stat-label {
  font-size: 0.875rem;
  color: #6b7280;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  transition: all 0.3s ease;
}

/* Dark mode enhancements */
.dark .library-title {
  background: linear-gradient(135deg, #a78bfa, #60a5fa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.dark .library-stat-card {
  background: #2a2435;
  border-color: #3a3445;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
}

.dark .library-stat-card:hover {
  background: linear-gradient(135deg, #2a2435 0%, #2d2740 100%);
  border-color: #a78bfa;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
}

.dark .library-stat-number {
  background: linear-gradient(135deg, #a78bfa, #8b5cf6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.dark .library-stat-label {
  color: #a0a0b0;
}

/* Private Library Styles */
.private-library-page {
  max-width: 1200px;
  margin: 0 auto;
  padding: 1rem;
}

.private-library-header {
  margin-bottom: 2rem;
}

.private-library-header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.private-library-title {
  font-size: 2rem;
  font-weight: 700;
  color: #1f2937;
  margin-bottom: 0.25rem;
}

.private-library-subtitle {
  font-size: 1rem;
  color: #6b7280;
}

.private-library-stats {
  display: flex;
  gap: 2rem;
  margin-top: 1rem;
}

.private-library-stat-item {
  text-align: center;
}

.private-library-stat-number {
  display: block;
  font-size: 1.5rem;
  font-weight: 700;
  color: #8b5cf6;
}

.private-library-stat-label {
  font-size: 0.875rem;
  color: #6b7280;
}

.private-library-tabs {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1rem;
  overflow-x: auto;
}

.private-library-tab {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  border: 1px solid #d1d5db;
  border-radius: 0.5rem;
  background: white;
  color: #6b7280;
  font-weight: 500;
  transition: all 0.2s ease;
  cursor: pointer;
  white-space: nowrap;
}

.private-library-tab.active {
  background: #8b5cf6;
  border-color: #8b5cf6;
  color: white;
}

/* Dark Mode Styles */
.dark .library-navigation {
  background: #1a1625;
  border-color: #3a3445;
}

.dark .library-nav-tab {
  background: #2a2435;
  border-color: #3a3445;
  color: #a0a0b0;
}

.dark .library-nav-tab.active {
  background: #8b5cf6;
  color: white;
}

.dark .library-page-content {
  background: #1a1625;
  color: #ffffff;
}

.dark .library-title {
  color: #ffffff;
}

.dark .library-subtitle {
  color: #a0a0b0;
}

.dark .library-story-card {
  background: #2a2435;
  border-color: #3a3445;
}

.dark .library-story-card:hover {
  border-color: #8b5cf6;
  box-shadow: 0 8px 16px -4px rgba(139, 92, 246, 0.3);
}

.dark .library-story-actions {
  background: #1f1b29;
  border-top-color: #3a3445;
}

.dark .library-story-cover {
  background: #3a3445;
}

.dark .library-story-placeholder-icon {
  color: #6b7280;
}

.dark .library-story-title {
  color: #ffffff;
}

.dark .library-story-author {
  color: #a0a0b0;
}

.dark .library-search-input {
  background: #2a2435;
  border-color: #3a3445;
  color: #ffffff;
}

.dark .library-search svg {
  color: #a0a0b0;
}

.dark .library-view-controls {
  border-color: #3a3445;
}

.dark .library-view-button {
  color: #a0a0b0;
}

.dark .library-view-button:hover {
  background: #3a3445;
}

.dark .library-tab {
  background: #2a2435;
  border-color: #3a3445;
  color: #a0a0b0;
}

.dark .library-tab.active {
  background: #8b5cf6;
  color: white;
}

.dark .library-section-title {
  color: #ffffff;
}

.dark .library-empty-icon {
  color: #6b7280;
}

.dark .library-empty-title {
  color: #ffffff;
}

.dark .library-empty-description {
  color: #a0a0b0;
}

/* Dark mode carousel styles */
.dark .library-carousel-title {
  color: #ffffff;
}

.dark .library-carousel-more-button {
  color: #a78bfa;
}

.dark .library-carousel-more-button:hover {
  background: #3a3445;
  color: #c4b5fd;
}

.dark .library-carousel-card {
  background: #2a2435;
  border-color: #3a3445;
}

.dark .library-carousel-card:hover {
  border-color: #8b5cf6;
  box-shadow: 0 8px 16px -4px rgba(139, 92, 246, 0.3);
}

.dark .library-carousel-track::-webkit-scrollbar-track {
  background: #3a3445;
}

.dark .library-carousel-track::-webkit-scrollbar-thumb {
  background: #6b7280;
}

.dark .library-carousel-track::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}

/* Dark mode statistics */
.dark .library-stat-card {
  background: #2a2435;
  border-color: #3a3445;
}

.dark .library-stat-card:hover {
  border-color: #8b5cf6;
  box-shadow: 0 4px 8px rgba(139, 92, 246, 0.2);
}

.dark .library-stat-number {
  color: #a78bfa;
}

.dark .library-stat-label {
  color: #a0a0b0;
}

/* Additional Private Library Classes */
.private-library-controls-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
}

.private-library-search {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex: 1;
  max-width: 400px;
  position: relative;
}

.private-library-search-input {
  width: 100%;
  padding: 0.5rem 0.5rem 0.5rem 2.5rem;
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  font-size: 0.875rem;
}

.private-library-search svg {
  position: absolute;
  left: 0.75rem;
  color: #6b7280;
}

.private-library-view-controls {
  display: flex;
  gap: 0.25rem;
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  padding: 0.25rem;
}

.private-library-view-button {
  padding: 0.5rem;
  border: none;
  background: transparent;
  border-radius: 0.25rem;
  color: #6b7280;
  cursor: pointer;
  transition: all 0.2s ease;
}

.private-library-view-button:hover {
  background: #f3f4f6;
}

.private-library-view-button.active {
  background: #8b5cf6;
  color: white;
}

.private-library-content {
  margin-bottom: 2rem;
}

.private-library-section-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.private-library-section-title {
  font-size: 1.5rem;
  font-weight: 600;
  color: #1f2937;
}

.private-library-stories.list-view {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.private-library-stories.grid-view {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1.5rem;
}

.private-library-story-card {
  display: flex;
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 0.75rem;
  overflow: hidden;
  transition: all 0.2s ease;
  cursor: pointer;
}

.private-library-story-card:hover {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  border-color: #8b5cf6;
}

.grid-view .private-library-story-card {
  flex-direction: column;
}

.private-library-story-cover {
  width: 80px;
  height: 120px;
  flex-shrink: 0;
  background: #f3f4f6;
  display: flex;
  align-items: center;
  justify-content: center;
}

.grid-view .private-library-story-cover {
  width: 100%;
  height: 180px;
}

.private-library-story-placeholder {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}

.private-library-story-placeholder-icon {
  width: 2rem;
  height: 2rem;
  color: #9ca3af;
}

.private-library-story-content {
  flex: 1;
  padding: 1rem;
}

.private-library-story-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: #1f2937;
  margin-bottom: 0.25rem;
}

.private-library-story-author {
  font-size: 0.875rem;
  color: #6b7280;
  margin-bottom: 0.5rem;
}

.private-library-story-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  font-size: 0.75rem;
  color: #9ca3af;
}

.private-library-story-pages,
.private-library-story-words,
.private-library-story-date,
.private-library-story-info,
.private-library-story-size {
  color: inherit;
}

.private-library-story-tag {
  padding: 0.25rem 0.5rem;
  background: #f3f4f6;
  border-radius: 0.25rem;
  font-size: 0.75rem;
  color: #6b7280;
}

.private-library-draft-badge {
  padding: 0.25rem 0.5rem;
  background: #fbbf24;
  color: #1f2937;
  border-radius: 0.25rem;
  font-size: 0.75rem;
  font-weight: 500;
}

.private-library-status-badge.published {
  padding: 0.25rem 0.5rem;
  background: #10b981;
  color: white;
  border-radius: 0.25rem;
  font-size: 0.75rem;
  font-weight: 500;
}

.private-library-status-badge.saved {
  padding: 0.25rem 0.5rem;
  background: #6b7280;
  color: white;
  border-radius: 0.25rem;
  font-size: 0.75rem;
  font-weight: 500;
}

.private-library-story-stats {
  display: flex;
  gap: 1rem;
  margin-top: 0.5rem;
}

.private-library-story-stat {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.875rem;
  color: #6b7280;
}

.private-library-story-actions {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  padding: 1rem;
  border-left: 1px solid #e5e7eb;
}

.grid-view .private-library-story-actions {
  flex-direction: row;
  border-left: none;
  border-top: 1px solid #e5e7eb;
}

.private-library-action-button {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  background: white;
  font-size: 0.875rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.private-library-action-button.edit {
  background: #8b5cf6;
  border-color: #8b5cf6;
  color: white;
}

.private-library-action-button.view {
  background: #3b82f6;
  border-color: #3b82f6;
  color: white;
}

.private-library-action-button.publish {
  background: #10b981;
  border-color: #10b981;
  color: white;
}

.private-library-action-button.delete {
  background: #ef4444;
  border-color: #ef4444;
  color: white;
}

.private-library-empty-state {
  text-align: center;
  padding: 3rem 1rem;
}

.private-library-empty-icon {
  width: 4rem;
  height: 4rem;
  color: #d1d5db;
  margin: 0 auto 1rem;
}

.private-library-empty-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #374151;
  margin-bottom: 0.5rem;
}

.private-library-empty-description {
  color: #6b7280;
  margin-bottom: 1.5rem;
}

.private-library-create-button,
.private-library-create-button-secondary {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: #8b5cf6;
  border: 1px solid #8b5cf6;
  border-radius: 0.5rem;
  color: white;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.private-library-create-button:hover,
.private-library-create-button-secondary:hover {
  background: #7c3aed;
  border-color: #7c3aed;
}

.private-library-create-section {
  text-align: center;
  margin: 2rem 0;
}

.private-library-characters-section {
  margin-top: 3rem;
}

.private-library-character-card {
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 0.75rem;
  padding: 2rem;
  text-align: center;
}

.private-library-character-illustration {
  font-size: 3rem;
  margin-bottom: 1rem;
}

.private-library-character-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1f2937;
  margin-bottom: 0.5rem;
}

.private-library-character-description {
  color: #6b7280;
  margin-bottom: 1.5rem;
}

.private-library-character-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: #8b5cf6;
  border: 1px solid #8b5cf6;
  border-radius: 0.5rem;
  color: white;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.private-library-character-button:hover {
  background: #7c3aed;
  border-color: #7c3aed;
}

.private-library-settings-button {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  background: white;
  color: #6b7280;
  font-size: 0.875rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.private-library-settings-button:hover {
  background: #f9fafb;
  border-color: #8b5cf6;
}

/* Dark mode styles for private library components */
.dark .private-library-search svg {
  color: #a0a0b0;
}

.dark .private-library-view-controls {
  border-color: #3a3445;
}

.dark .private-library-view-button {
  color: #a0a0b0;
}

.dark .private-library-view-button:hover {
  background: #3a3445;
}

.dark .private-library-section-title {
  color: #ffffff;
}

.dark .private-library-story-cover,
.dark .private-library-story-placeholder {
  background: #3a3445;
}

.dark .private-library-story-placeholder-icon {
  color: #6b7280;
}

.dark .private-library-story-meta,
.dark .private-library-story-pages,
.dark .private-library-story-words,
.dark .private-library-story-date,
.dark .private-library-story-info,
.dark .private-library-story-size {
  color: #a0a0b0;
}

.dark .private-library-story-tag {
  background: #3a3445;
  color: #a0a0b0;
}

.dark .private-library-empty-icon {
  color: #6b7280;
}

.dark .private-library-empty-title {
  color: #ffffff;
}

.dark .private-library-empty-description {
  color: #a0a0b0;
}

.dark .private-library-character-card {
  background: #2a2435;
  border-color: #3a3445;
}

.dark .private-library-character-title {
  color: #ffffff;
}

.dark .private-library-character-description {
  color: #a0a0b0;
}

.dark .private-library-settings-button {
  background: #2a2435;
  border-color: #3a3445;
  color: #a0a0b0;
}

.dark .private-library-settings-button:hover {
  background: #3a3445;
}

/* Success Notification Popup */
.success-notification-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  animation: fadeIn 0.2s ease-in-out;
}

.success-notification-popup {
  background: white;
  border-radius: 1rem;
  padding: 2rem;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  max-width: 400px;
  animation: scaleIn 0.3s ease-out;
}

.success-notification-icon {
  width: 4rem;
  height: 4rem;
  border-radius: 50%;
  background: rgba(16, 185, 129, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
}

.success-notification-message {
  font-size: 1.125rem;
  font-weight: 600;
  color: #1f2937;
  text-align: center;
}

/* Dark mode */
.dark .success-notification-popup {
  background: #2a2435;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.3);
}

.dark .success-notification-message {
  color: #f3f4f6;
}

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes scaleIn {
  from {
    transform: scale(0.9);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* ============================================
   PROFANITY FILTER COMPONENTS
   Filtered Input and Textarea with Warning Indicators
   ============================================ */

/* FilteredInput Wrapper */
.filtered-input-wrapper {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.filtered-input-container {
  position: relative;
  width: 100%;
}

.filtered-input {
  width: 100%;
  padding: 0.75rem 2.5rem 0.75rem 1rem;
  border: 1px solid #d1d5db;
  border-radius: 0.5rem;
  font-size: 1rem;
  transition: all 0.2s ease;
  background: white;
}

.filtered-input:focus {
  outline: none;
  border-color: #8b5cf6;
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.filtered-input-warning {
  border-color: #ef4444 !important;
  background: #fef2f2 !important;
}

.filtered-input-warning:focus {
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1) !important;
}

/* Warning Indicator Icon */
.filtered-input-indicator {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  pointer-events: none;
}

.filtered-input-icon {
  width: 1.25rem;
  height: 1.25rem;
  color: #ef4444;
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Warning Message */
.filtered-input-message {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.75rem;
  background: #fef2f2;
  border: 1px solid #fecaca;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  color: #dc2626;
  animation: slideDown 0.3s ease-out;
}

.filtered-input-message-icon {
  width: 1rem;
  height: 1rem;
  flex-shrink: 0;
}

/* FilteredTextarea Wrapper */
.filtered-textarea-wrapper {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.filtered-textarea-container {
  position: relative;
  width: 100%;
}

.filtered-textarea {
  width: 100%;
  min-height: 120px;
  padding: 0.75rem 2.5rem 0.75rem 1rem;
  border: 1px solid #d1d5db;
  border-radius: 0.5rem;
  font-size: 1rem;
  font-family: inherit;
  resize: vertical;
  transition: all 0.2s ease;
  background: white;
}

.filtered-textarea:focus {
  outline: none;
  border-color: #8b5cf6;
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.filtered-textarea-warning {
  border-color: #ef4444 !important;
  background: #fef2f2 !important;
}

.filtered-textarea-warning:focus {
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1) !important;
}

/* Warning Indicator Icon for Textarea */
.filtered-textarea-indicator {
  position: absolute;
  right: 0.75rem;
  top: 0.75rem;
  pointer-events: none;
}

.filtered-textarea-icon {
  width: 1.25rem;
  height: 1.25rem;
  color: #ef4444;
}

/* Warning Message for Textarea */
.filtered-textarea-message {
  position: absolute !important;
  bottom: -2.5rem !important;
  left: 0 !important;
  right: 0 !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  padding: 0.5rem 0.75rem !important;
  background: #fef2f2 !important;
  border: 1px solid #fca5a5 !important;
  border-radius: 0.5rem !important;
  color: #dc2626 !important;
  font-size: 0.875rem !important;
  animation: slideDown 0.3s ease-out !important;
  z-index: 5 !important;
}

.filtered-textarea-message-icon {
  width: 1rem;
  height: 1rem;
  flex-shrink: 0;
}

/* Dark Mode Support */
.dark .filtered-input,
.dark .filtered-textarea {
  background: #1f2937;
  border-color: #374151;
  color: #f3f4f6;
}

.dark .filtered-input:focus,
.dark .filtered-textarea:focus {
  border-color: #a78bfa;
  box-shadow: 0 0 0 3px rgba(167, 139, 250, 0.1);
}

.dark .filtered-input-warning,
.dark .filtered-textarea-warning {
  background: #450a0a !important;
  border-color: #991b1b !important;
}

.dark .filtered-input-message,
.dark .filtered-textarea-message {
  background: #450a0a;
  border-color: #991b1b;
  color: #fca5a5;
}

/* Animations */
@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-0.5rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* ============================================
   VOICE INPUT STYLES
   Speech-to-text components with animations
   ============================================ */

/* Voice Input Button */
.voice-input-button {
  position: relative !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  width: 2rem !important;
  height: 2rem !important;
  border-radius: 9999px !important;
  background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%) !important;
  color: white !important;
  border: none !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  box-shadow: 0 2px 6px rgba(139, 92, 246, 0.25) !important;
}

.voice-input-button svg {
  width: 1rem !important;
  height: 1rem !important;
}

.voice-input-button:hover {
  transform: scale(1.08) !important;
  box-shadow: 0 3px 10px rgba(139, 92, 246, 0.35) !important;
}

.voice-input-button:active {
  transform: scale(0.92) !important;
}

.voice-input-button.listening {
  background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%) !important;
  animation: voicePulse 1.5s ease-in-out infinite !important;
}

/* Voice Input Pulse Animation */
.voice-input-pulse {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  border-radius: 9999px;
  background: rgba(239, 68, 68, 0.4);
  animation: voiceRipple 1.5s ease-out infinite;
  pointer-events: none;
}

@keyframes voicePulse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
  }
  50% {
    box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);
  }
}

@keyframes voiceRipple {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.6;
  }
  100% {
    transform: translate(-50%, -50%) scale(2);
    opacity: 0;
  }
}

/* Voice Input Transcript Display */
.voice-input-transcript {
  margin-top: 0.5rem;
  padding: 0.75rem;
  background: rgba(139, 92, 246, 0.05);
  border: 1px solid rgba(139, 92, 246, 0.2);
  border-radius: 0.5rem;
  font-size: 0.875rem;
  line-height: 1.5;
}

.voice-input-transcript-final {
  color: #1F2937;
  font-weight: 500;
}

.voice-input-transcript-interim {
  color: #6B7280;
  font-style: italic;
}

.voice-input-error {
  margin-top: 0.5rem;
  padding: 0.5rem 0.75rem;
  background: #FEF2F2;
  border: 1px solid #FCA5A5;
  border-radius: 0.5rem;
  color: #DC2626;
  font-size: 0.875rem;
  animation: slideDown 0.3s ease-out;
}

/* Voice Filtered Input Wrapper */
.voice-filtered-input-outer-wrapper {
  position: relative;
  width: 100%;
}

.voice-filtered-input-container {
  position: relative;
  display: block;
  width: 100%;
}

/* Target the FilteredInput's wrapper inside our container */
.voice-filtered-input-container .filtered-input-wrapper {
  position: relative;
  width: 100%;
}

/* Target the actual input element */
.voice-filtered-input-container .filtered-input {
  width: 100%;
  padding-right: 3.5rem !important;
  box-sizing: border-box;
}

/* Voice button positioning */
.voice-filtered-input-button {
  position: absolute;
  right: 0.5rem;
  top: 50%;
  transform: translateY(-50%);
  z-index: 10;
  pointer-events: auto;
}

/* Move profanity warning indicator to the left when voice button is present */
.voice-filtered-input-container .filtered-input-indicator {
  right: 3.5rem !important;
}

/* Voice error message */
.voice-filtered-input-error {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  margin-top: 0.5rem;
  padding: 0.5rem 0.75rem;
  background: #FEF2F2;
  border: 1px solid #FCA5A5;
  border-radius: 0.5rem;
  color: #DC2626;
  font-size: 0.875rem;
  animation: slideDown 0.3s ease-out;
  z-index: 20;
}

/* Voice Filtered Textarea Wrapper */
.voice-filtered-textarea-wrapper {
  position: relative;
  width: 100%;
}

.voice-filtered-textarea-container {
  position: relative;
  display: block;
}

.voice-filtered-textarea-container .filtered-textarea,
.voice-filtered-textarea-container .form-textarea {
  width: 100%;
  padding-right: 3.5rem !important;
  padding-left: 1rem !important;
  padding-top: 1rem !important;
  padding-bottom: 3.5rem !important;
}

.voice-filtered-textarea-button {
  position: absolute !important;
  right: 0.5rem !important;
  bottom: 0.5rem !important;
  top: auto !important;
  z-index: 10 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Move profanity warning indicator to top-left when voice button is present in textarea */
.voice-filtered-textarea-container .filtered-textarea-indicator {
  right: auto !important;
  left: 0.75rem !important;
  top: 0.75rem !important;
}

/* Adjust warning message positioning for textarea to avoid overlap */
.voice-filtered-textarea-wrapper .filtered-textarea-message {
  bottom: -3rem !important;
  margin-bottom: 0.5rem !important;
}

.voice-filtered-textarea-error {
  margin-top: 0.5rem;
  padding: 0.5rem 0.75rem;
  background: #FEF2F2;
  border: 1px solid #FCA5A5;
  border-radius: 0.5rem;
  color: #DC2626;
  font-size: 0.875rem;
  animation: slideDown 0.3s ease-out;
  z-index: 20;
}

/* Dark Mode Voice Input Styles */
.dark .voice-input-transcript {
  background: rgba(139, 92, 246, 0.1);
  border-color: rgba(139, 92, 246, 0.3);
}

.dark .voice-input-transcript-final {
  color: #F9FAFB;
}

.dark .voice-input-transcript-interim {
  color: #9CA3AF;
}

.dark .voice-input-error,
.dark .voice-filtered-input-error,
.dark .voice-filtered-textarea-error {
  background: #450a0a;
  border-color: #991b1b;
  color: #fca5a5;
}

/* Responsive Voice Input */
@media (max-width: 640px) {
  .voice-input-button {
    width: 1.875rem;
    height: 1.875rem;
  }
  
  .voice-input-button svg {
    width: 0.875rem !important;
    height: 0.875rem !important;
  }
  
  .voice-filtered-input-button,
  .voice-filtered-textarea-button {
    right: 0.5rem;
  }
}

/* ============================================
   CONFIRMATION MODAL STYLES
   Modern, accessible modal for CRUD operations
   ============================================ */

/* Backdrop */
.confirmation-modal-backdrop {
  position: fixed !important;
  inset: 0 !important;
  background: rgba(0, 0, 0, 0.5) !important;
  backdrop-filter: blur(4px) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  z-index: 9999 !important;
  padding: 1rem !important;
  animation: fadeIn 0.2s ease-out !important;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Modal Container */
.confirmation-modal-container {
  position: relative !important;
  background: #2d3748 !important;
  border-radius: 1rem !important;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2) !important;
  max-width: 22rem !important;
  width: 100% !important;
  padding: 2rem !important;
  animation: scaleIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) !important;
  transform-origin: center !important;
}

/* Close Button */
.confirmation-modal-close {
  position: absolute;
  top: 1rem;
  right: 1rem;
  padding: 0.5rem;
  background: transparent;
  border: none;
  border-radius: 0.5rem;
  color: #9ca3af;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.confirmation-modal-close:hover {
  background: rgba(255, 255, 255, 0.1);
  color: #ffffff;
}

.confirmation-modal-close:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Icon Container */
.confirmation-modal-icon-container {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 1rem;
}

.confirmation-modal-icon {
  width: 4rem;
  height: 4rem;
  stroke-width: 1.5;
}

.confirmation-modal-icon-danger {
  color: #EF4444;
  animation: iconPulse 2s ease-in-out infinite;
}

.confirmation-modal-icon-warning {
  color: #F59E0B;
  animation: iconPulse 2s ease-in-out infinite;
}

.confirmation-modal-icon-success {
  color: #10B981;
}

.confirmation-modal-icon-info {
  color: #8B5CF6;
}

@keyframes iconPulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

/* Spinner animation for image loading */
@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* Content */
.confirmation-modal-content {
  text-align: center;
  margin-bottom: 1.5rem;
}

.confirmation-modal-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #ffffff;
  margin-bottom: 0.5rem;
  line-height: 1.4;
}

.confirmation-modal-message {
  font-size: 0.875rem;
  color: #cbd5e1;
  line-height: 1.5;
  margin: 0;
}

/* Actions */
.confirmation-modal-actions {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  width: 100%;
}

.confirmation-modal-button {
  padding: 0.875rem 1.25rem;
  border-radius: 0.5rem;
  font-size: 0.9375rem;
  font-weight: 600;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  width: 100%;
}

.confirmation-modal-button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Cancel Button */
.confirmation-modal-button-cancel {
  background: #4a5568;
  color: #ffffff;
  border: none;
}

.confirmation-modal-button-cancel:hover:not(:disabled) {
  background: #5a6678;
}

/* Confirm Button Variants */
.confirmation-modal-button-danger {
  background: #f56565;
  color: white;
  box-shadow: none;
  border-radius: 0.5rem;
}

.confirmation-modal-button-danger:hover:not(:disabled) {
  background: #fc8181;
  box-shadow: none;
}

.confirmation-modal-button-warning {
  background: #F59E0B;
  color: white;
  box-shadow: 0 1px 2px 0 rgba(245, 158, 11, 0.3);
}

.confirmation-modal-button-warning:hover:not(:disabled) {
  background: #D97706;
  box-shadow: 0 4px 6px -1px rgba(245, 158, 11, 0.3);
  transform: translateY(-1px);
}

.confirmation-modal-button-success {
  background: #10B981;
  color: white;
  box-shadow: 0 1px 2px 0 rgba(16, 185, 129, 0.3);
}

.confirmation-modal-button-success:hover:not(:disabled) {
  background: #059669;
  box-shadow: 0 4px 6px -1px rgba(16, 185, 129, 0.3);
  transform: translateY(-1px);
}

.confirmation-modal-button-info {
  background: #8B5CF6;
  color: white;
  box-shadow: 0 1px 2px 0 rgba(139, 92, 246, 0.3);
}

.confirmation-modal-button-info:hover:not(:disabled) {
  background: #7C3AED;
  box-shadow: 0 4px 6px -1px rgba(139, 92, 246, 0.3);
  transform: translateY(-1px);
}

/* Loading Spinner */
.confirmation-modal-spinner {
  width: 1rem;
  height: 1rem;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Dark Mode Confirmation Modal - Keep consistent styling */
.dark .confirmation-modal-container {
  background: #2d3748;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
}

.dark .confirmation-modal-close {
  color: #9ca3af;
}

.dark .confirmation-modal-close:hover {
  background: rgba(255, 255, 255, 0.1);
  color: #ffffff;
}

.dark .confirmation-modal-title {
  color: #ffffff;
}

.dark .confirmation-modal-message {
  color: #cbd5e1;
}

.dark .confirmation-modal-button-cancel {
  background: #4a5568;
  color: #ffffff;
  border: none;
}

.dark .confirmation-modal-button-cancel:hover:not(:disabled) {
  background: #5a6678;
}

/* Responsive Modal */
@media (max-width: 640px) {
  .confirmation-modal-container {
    padding: 1.5rem;
    margin: 1rem;
  }

  .confirmation-modal-icon {
    width: 3rem;
    height: 3rem;
  }

  .confirmation-modal-title {
    font-size: 1.125rem;
  }
}

/* ========================================
   TEXT-TO-SPEECH CONTROLS
   ======================================== */

/* TTS Controls Container */
.tts-controls {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  padding: 1rem;
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.05) 0%, rgba(236, 72, 153, 0.05) 100%);
  border: 1px solid rgba(139, 92, 246, 0.2);
  border-radius: 0.75rem;
  backdrop-filter: blur(10px);
}

/* Main Controls Row */
.tts-controls-main {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}

/* Primary Button (Listen/Play/Pause) */
.tts-button-primary {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%);
  color: white;
  border: none;
  border-radius: 0.5rem;
  font-weight: 600;
  font-size: 0.875rem;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
}

.tts-button-primary:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
}

.tts-button-primary:active:not(:disabled) {
  transform: translateY(0);
}

.tts-button-primary:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Secondary Button (Stop) */
.tts-button-secondary {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.25rem;
  background: white;
  color: #6B7280;
  border: 1px solid #E5E7EB;
  border-radius: 0.5rem;
  font-weight: 600;
  font-size: 0.875rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.tts-button-secondary:hover {
  background: #F9FAFB;
  border-color: #D1D5DB;
  color: #374151;
}

/* Icon Button (Settings) */
.tts-button-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.75rem;
  background: white;
  color: #6B7280;
  border: 1px solid #E5E7EB;
  border-radius: 0.5rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.tts-button-icon:hover {
  background: #F9FAFB;
  border-color: #8B5CF6;
  color: #8B5CF6;
}

/* Progress Bar Container */
.tts-progress-container {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.tts-progress-bar {
  flex: 1;
  height: 0.5rem;
  background: rgba(139, 92, 246, 0.1);
  border-radius: 9999px;
  overflow: hidden;
  position: relative;
  transition: all 0.2s ease;
}

.tts-progress-bar:hover {
  height: 0.75rem;
  background: rgba(139, 92, 246, 0.15);
}

.tts-progress-bar:active {
  height: 0.875rem;
}

.tts-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #8B5CF6 0%, #EC4899 100%);
  border-radius: 9999px;
  transition: width 0.3s ease;
  pointer-events: none;
}

.tts-progress-bar::after {
  content: '';
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 1rem;
  height: 1rem;
  background: white;
  border: 2px solid #8B5CF6;
  border-radius: 50%;
  box-shadow: 0 2px 4px rgba(139, 92, 246, 0.3);
  opacity: 0;
  transition: opacity 0.2s ease;
  pointer-events: none;
}

.tts-progress-bar:hover::after {
  opacity: 1;
}

.tts-progress-text {
  font-size: 0.75rem;
  font-weight: 600;
  color: #8B5CF6;
  min-width: 3rem;
  text-align: right;
}

/* Settings Panel */
.tts-settings-panel {
  margin-top: 0.5rem;
  padding: 1rem;
  background: white;
  border: 1px solid #E5E7EB;
  border-radius: 0.75rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  overflow: visible;
}

.tts-settings-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  padding-bottom: 0.75rem;
  border-bottom: 1px solid #E5E7EB;
}

.tts-settings-header h3 {
  font-size: 1rem;
  font-weight: 600;
  color: #1F2937;
}

.tts-button-close {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.25rem;
  background: none;
  border: none;
  color: #6B7280;
  cursor: pointer;
  border-radius: 0.25rem;
  transition: all 0.2s ease;
}

.tts-button-close:hover {
  background: #F3F4F6;
  color: #374151;
}

.tts-settings-content {
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
  overflow: visible;
}

/* Setting Item */
.tts-setting-item {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  position: relative;
  overflow: visible;
}

.tts-setting-item label {
  font-size: 0.875rem;
  font-weight: 600;
  color: #374151;
}

/* Select Dropdown */
.tts-select {
  width: 100%;
  padding: 0.625rem 0.75rem;
  background: white;
  border: 1px solid #D1D5DB;
  border-radius: 0.5rem;
  font-size: 0.875rem;
  color: #1F2937;
  cursor: pointer;
  transition: all 0.2s ease;
}

.tts-select:hover {
  border-color: #8B5CF6;
}

.tts-select:focus {
  outline: none;
  border-color: #8B5CF6;
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

/* Range Slider */
.tts-slider {
  width: 100%;
  height: 0.5rem;
  background: linear-gradient(90deg, #E5E7EB 0%, #E5E7EB 100%);
  border-radius: 9999px;
  outline: none;
  -webkit-appearance: none;
  appearance: none;
  cursor: pointer;
}

.tts-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 1.25rem;
  height: 1.25rem;
  background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%);
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(139, 92, 246, 0.3);
  transition: all 0.2s ease;
}

.tts-slider::-webkit-slider-thumb:hover {
  transform: scale(1.1);
  box-shadow: 0 4px 8px rgba(139, 92, 246, 0.4);
}

.tts-slider::-moz-range-thumb {
  width: 1.25rem;
  height: 1.25rem;
  background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%);
  border: none;
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(139, 92, 246, 0.3);
  transition: all 0.2s ease;
}

.tts-slider::-moz-range-thumb:hover {
  transform: scale(1.1);
  box-shadow: 0 4px 8px rgba(139, 92, 246, 0.4);
}

/* Slider Labels */
.tts-slider-labels {
  display: flex;
  justify-content: space-between;
  margin-top: 0.25rem;
  position: relative;
}

.tts-slider-labels span {
  font-size: 0.75rem;
  color: #6B7280;
  position: absolute;
  transform: translateX(-50%);
}

.tts-slider-labels span:nth-child(1) {
  left: 0%;
  transform: translateX(0);
}

.tts-slider-labels span:nth-child(2) {
  left: 50%;
  transform: translateX(-50%);
}

.tts-slider-labels span:nth-child(3) {
  left: 100%;
  transform: translateX(-100%);
}

/* Compact Mode */
.tts-controls-compact {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.tts-button-compact {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%);
  color: white;
  border: none;
  border-radius: 0.5rem;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgba(139, 92, 246, 0.3);
}

.tts-button-compact:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(139, 92, 246, 0.4);
}

/* Dark Mode Support */
.dark .tts-controls {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(236, 72, 153, 0.1) 100%);
  border-color: rgba(139, 92, 246, 0.3);
}

.dark .tts-button-secondary {
  background: #374151;
  color: #D1D5DB;
  border-color: #4B5563;
}

.dark .tts-button-secondary:hover {
  background: #4B5563;
  border-color: #6B7280;
}

.dark .tts-button-icon {
  background: #374151;
  color: #D1D5DB;
  border-color: #4B5563;
}

.dark .tts-button-icon:hover {
  background: #4B5563;
  border-color: #8B5CF6;
  color: #A78BFA;
}

.dark .tts-progress-bar {
  background: rgba(139, 92, 246, 0.2);
}

.dark .tts-progress-bar:hover {
  background: rgba(139, 92, 246, 0.25);
}

.dark .tts-progress-bar::after {
  background: #1F2937;
  border-color: #A78BFA;
}

.dark .tts-progress-text {
  color: #A78BFA;
}

.dark .tts-settings-panel {
  background: #1a1625;
  border-color: rgba(139, 92, 246, 0.3);
}

.dark .tts-settings-header {
  border-bottom-color: rgba(139, 92, 246, 0.2);
}

.dark .tts-settings-header h3 {
  color: #F9FAFB;
}

.dark .tts-button-close {
  color: #9CA3AF;
}

.dark .tts-button-close:hover {
  background: #374151;
  color: #D1D5DB;
}

.dark .tts-setting-item label {
  color: #D1D5DB;
}

.dark .tts-select {
  background: #374151;
  border-color: #4B5563;
  color: #F9FAFB;
}

.dark .tts-select:hover {
  border-color: #8B5CF6;
}

.dark .tts-select:focus {
  border-color: #8B5CF6;
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}

.dark .tts-slider {
  background: linear-gradient(90deg, #4B5563 0%, #4B5563 100%);
}

.dark .tts-slider-labels span {
  color: #9CA3AF;
}

/* Responsive Design */
@media (max-width: 640px) {
  .tts-controls-main {
    flex-direction: column;
    width: 100%;
  }

  .tts-button-primary,
  .tts-button-secondary {
    width: 100%;
    justify-content: center;
  }

  .tts-button-icon {
    width: 100%;
  }

  .tts-settings-panel {
    padding: 0.75rem;
  }
}


/* ============================================
   PUBLIC LIBRARY PAGE STYLES
   ============================================ */

/* Page Container */
.public-library-page {
  min-height: 100%;
  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
  padding: 1rem 0 80px 0;
}

/* Search Section */
.public-library-search-section {
  max-width: 800px; /* Reduced from 1400px for better centering */
  margin: 2rem auto;
  padding: 0 1rem;
  overflow: visible; /* Allow dropdowns to overflow */
}

.public-library-search-form {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  justify-content: center; /* Center the search form */
  align-items: stretch;
}

.public-library-search-input-wrapper {
  flex: 1;
  max-width: 600px; /* Limit max width for better centering */
  position: relative;
}

.public-library-search-icon {
  position: absolute;
  left: 1rem;
  top: 50%;
  transform: translateY(-50%);
  width: 1.25rem;
  height: 1.25rem;
  color: #9ca3af;
  pointer-events: none;
}

.public-library-search-input {
  width: 100%;
  padding: 0.75rem 1rem 0.75rem 3rem;
  border: 1px solid #d1d5db;
  border-radius: 0.5rem;
  font-size: 1rem;
  transition: all 0.2s;
}

.public-library-search-input:focus {
  outline: none;
  border-color: #8B5CF6;
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.public-library-filter-btn {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: white;
  border: 1px solid #d1d5db;
  border-radius: 0.5rem;
  font-weight: 500;
  color: #374151;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
}

.public-library-filter-btn:hover {
  background: #f9fafb;
  border-color: #8B5CF6;
  color: #8B5CF6;
}

/* Filters Panel */
.public-library-filters {
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 0.75rem;
  padding: 1.5rem;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
  max-width: 100%; /* Ensure it doesn't overflow */
  overflow: visible; /* Allow dropdowns to overflow */
}

.public-library-filter-group {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  overflow: visible; /* Allow dropdowns to overflow */
}

.public-library-filter-label {
  font-size: 0.875rem;
  font-weight: 600;
  color: #374151;
}

/* Styling for public-library-filter-select class (used by CustomDropdown) */
.public-library-filter-select {
  min-width: 150px;
  max-width: 250px;
}

.public-library-clear-filters-btn {
  padding: 0.5rem 1rem;
  background: #f3f4f6;
  border: 1px solid #d1d5db;
  border-radius: 0.5rem;
  font-size: 0.875rem;
  font-weight: 500;
  color: #6b7280;
  cursor: pointer;
  transition: all 0.2s;
  align-self: flex-end;
}

.public-library-clear-filters-btn:hover {
  background: #e5e7eb;
  color: #374151;
}

/* Active Filters */
.public-library-active-filters {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  align-items: center;
  justify-content: center; /* Center active filters */
  margin-top: 1rem;
}

.public-library-active-filters-label {
  font-size: 0.875rem;
  font-weight: 600;
  color: #6b7280;
}

.public-library-filter-tag {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.375rem 0.75rem;
  background: #ede9fe;
  color: #7c3aed;
  border-radius: 9999px;
  font-size: 0.875rem;
  font-weight: 500;
}

.public-library-filter-tag button {
  background: none;
  border: none;
  color: #7c3aed;
  font-size: 1.25rem;
  line-height: 1;
  cursor: pointer;
  padding: 0;
  margin-left: 0.25rem;
}

.public-library-filter-tag button:hover {
  color: #6d28d9;
}

/* Content Area */
.public-library-content {
  max-width: 1400px;
  margin: 2rem auto;
  padding: 0 1rem;
}

/* Loading State */
.public-library-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4rem 1rem;
  gap: 1rem;
}

.public-library-spinner {
  width: 3rem;
  height: 3rem;
  border: 4px solid #e5e7eb;
  border-top-color: #8B5CF6;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* Empty State */
.public-library-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4rem 1rem;
  text-align: center;
}

.public-library-empty-icon {
  width: 4rem;
  height: 4rem;
  color: #d1d5db;
  margin-bottom: 1rem;
}

.public-library-empty h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #374151;
  margin: 0 0 0.5rem 0;
}

.public-library-empty p {
  color: #6b7280;
  margin: 0;
}

/* Stories Grid - Responsive 2x2 on mobile */
.public-library-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
}

/* Tablet and up */
@media (min-width: 768px) {
  .public-library-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
  }
}

/* Desktop */
@media (min-width: 1024px) {
  .public-library-grid {
    grid-template-columns: repeat(4, 1fr);
    gap: 1.5rem;
  }
}

/* Widescreen */
@media (min-width: 1400px) {
  .public-library-grid {
    grid-template-columns: repeat(5, 1fr);
  }
}

/* Story Card */
.public-library-card {
  background: white;
  border-radius: 0.75rem;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  transition: all 0.3s;
  cursor: pointer;
  display: flex;
  flex-direction: column;
}

.public-library-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 10px 20px rgba(139, 92, 246, 0.15);
}

/* Cover Image */
.public-library-card-cover {
  width: 100%;
  aspect-ratio: 3/4;
  overflow: hidden;
  background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
}

.public-library-card-cover img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.public-library-card-cover-placeholder {
  width: 100%;
  aspect-ratio: 3/4;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%);
}

/* Card Content */
.public-library-card-content {
  padding: 0.625rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  flex: 1;
}

.public-library-card-title {
  font-size: 0.9375rem;
  font-weight: 600;
  color: #1e293b;
  margin: 0;
  line-height: 1.3;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.public-library-card-author {
  font-size: 0.875rem;
  color: #8B5CF6;
  font-weight: 500;
  margin: 0;
}

/* Genres */
.public-library-card-genres {
  display: flex;
  flex-wrap: wrap;
  gap: 0.375rem;
  margin: 0.25rem 0;
}

.public-library-genre-tag {
  padding: 0.25rem 0.5rem;
  background: #f3f4f6;
  color: #374151;
  border-radius: 0.375rem;
  font-size: 0.75rem;
  font-weight: 500;
}

.public-library-language-tag {
  padding: 0.25rem 0.5rem;
  background: #ede9fe;
  color: #7c3aed;
  border-radius: 0.375rem;
  font-size: 0.75rem;
  font-weight: 500;
}

/* Description */
.public-library-card-description {
  font-size: 0.875rem;
  color: #64748b;
  line-height: 1.5;
  margin: 0;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Stats */
.public-library-card-stats {
  display: flex;
  gap: 0.75rem;
}

.public-library-stat {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.75rem;
  color: #9ca3af;
}

.public-library-stat svg {
  width: 1rem;
  height: 1rem;
}

/* Results Count */
.public-library-results-count {
  max-width: 1400px;
  margin: 2rem auto 0;
  padding: 0 1rem;
  text-align: center;
  font-size: 0.875rem;
  color: #6b7280;
}

/* Tablet Responsive Adjustments */
@media (min-width: 641px) and (max-width: 1024px) {
  .public-library-search-section {
    max-width: 700px;
  }

  .public-library-search-input-wrapper {
    max-width: 500px;
  }

  .public-library-filters {
    grid-template-columns: repeat(2, 1fr);
  }

  .public-library-clear-filters-btn {
    grid-column: span 2;
    justify-self: center;
    max-width: 300px;
  }
}

/* Mobile Responsive Adjustments */
@media (max-width: 640px) {
  .public-library-page {
    padding: 0.5rem 0 80px 0;
  }

  .public-library-search-section {
    max-width: 100%;
    margin: 1rem auto;
  }

  .public-library-search-form {
    flex-direction: column;
    gap: 0.75rem;
  }

  .public-library-search-input-wrapper {
    max-width: 100%; /* Full width on mobile */
  }

  .public-library-filter-btn {
    width: 100%;
    justify-content: center;
    padding: 0.875rem 1.5rem;
  }

  .public-library-filters {
    grid-template-columns: 1fr;
    padding: 1rem;
  }
  
  .public-library-filter-select {
    max-width: 100%; /* Full width on mobile */
    width: 100%;
  }

  .public-library-clear-filters-btn {
    align-self: stretch;
    text-align: center;
  }

  .public-library-card-title {
    font-size: 0.875rem;
  }

  .public-library-card-content {
    padding: 0.75rem;
  }

  .public-library-active-filters {
    justify-content: flex-start; /* Left align on mobile for better readability */
  }
}

/* Dark Mode Support */
.dark .public-library-page {
  background: #1a1625;
}

.dark .public-library-header {
  background: #1a1625;
  border-bottom-color: #2a2435;
}

.dark .public-library-title {
  color: #f1f5f9;
}

.dark .public-library-subtitle {
  color: #a0a0b0;
}

.dark .public-library-back-btn {
  background: #2a2435;
  border-color: #8B5CF6;
  color: #a78bfa;
}

.dark .public-library-back-btn:hover {
  background: #3a3445;
  border-color: #a78bfa;
}

.dark .public-library-search-input {
  background: #2a2435;
  border-color: #3a3445;
  color: #f1f5f9;
}

.dark .public-library-search-input::placeholder {
  color: #6b7280;
}

.dark .public-library-filter-btn {
  background: #2a2435;
  border-color: #3a3445;
  color: #f1f5f9;
}

.dark .public-library-filter-btn:hover {
  background: #3a3445;
  border-color: #8b5cf6;
}

.dark .public-library-filters {
  background: #2a2435;
  border-color: #3a3445;
}


.dark .public-library-card {
  background: #2a2435;
  border-color: #3a3445;
}

.dark .public-library-card:hover {
  border-color: #8b5cf6;
  box-shadow: 0 8px 16px -4px rgba(139, 92, 246, 0.3);
}

.dark .public-library-card-title {
  color: #f1f5f9;
}

.dark .public-library-card-description {
  color: #94a3b8;
}

.dark .public-library-genre-tag {
  background: #3a3445;
  color: #cbd5e1;
}

.dark .public-library-stat {
  color: #64748b;
}

/* ============================================
   STORY CREATION MODAL STYLES
   ============================================ */

/* Modal Overlay */
.story-creation-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  padding: 1rem;
  animation: fadeIn 0.2s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Modal Content */
.story-creation-modal-content {
  background: white;
  border-radius: 1.5rem;
  padding: 2rem;
  max-width: 600px;
  width: 100%;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.dark .story-creation-modal-content {
  background: #2a2435;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.3);
}

/* Modal Header */
.story-creation-modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 0.5rem;
}

.story-creation-modal-title {
  font-size: 1.75rem;
  font-weight: 700;
  color: #1a1625;
  margin: 0;
}

.dark .story-creation-modal-title {
  color: #ffffff;
}

.story-creation-modal-close {
  background: none;
  border: none;
  color: #6b7280;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 0.5rem;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.story-creation-modal-close:hover {
  background: #f3f4f6;
  color: #1f2937;
}

.dark .story-creation-modal-close {
  color: #9ca3af;
}

.dark .story-creation-modal-close:hover {
  background: #3a3445;
  color: #ffffff;
}

/* Modal Subtitle */
.story-creation-modal-subtitle {
  color: #6b7280;
  font-size: 1rem;
  margin: 0 0 2rem 0;
}

.dark .story-creation-modal-subtitle {
  color: #9ca3af;
}

/* Options Grid */
.story-creation-modal-options {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
}

/* Option Card */
.story-creation-option-card {
  background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%);
  border: 2px solid #e5e7eb;
  border-radius: 1.25rem;
  padding: 2rem;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  overflow: hidden;
}

.story-creation-option-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, #8b5cf6, #ec4899, #f59e0b);
  opacity: 0;
  transition: opacity 0.3s;
}

.story-creation-option-card::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, rgba(139, 92, 246, 0.1) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.3s;
}

.story-creation-option-card:hover {
  transform: translateY(-6px) scale(1.02);
  border-color: #8b5cf6;
  box-shadow: 0 20px 25px -5px rgba(139, 92, 246, 0.25), 0 10px 10px -5px rgba(139, 92, 246, 0.15);
  background: linear-gradient(135deg, #ffffff 0%, #faf5ff 100%);
}

.story-creation-option-card:hover::before {
  opacity: 1;
}

.story-creation-option-card:hover::after {
  opacity: 1;
}

.story-creation-option-card:active {
  transform: translateY(-3px) scale(1.01);
}

.dark .story-creation-option-card {
  background: linear-gradient(135deg, #2a2435 0%, #1a1625 100%);
  border-color: #3a3445;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
}

.dark .story-creation-option-card:hover {
  border-color: #8b5cf6;
  box-shadow: 0 20px 25px -5px rgba(139, 92, 246, 0.4), 0 10px 10px -5px rgba(139, 92, 246, 0.3);
  background: linear-gradient(135deg, #3a2f4a 0%, #2a2435 100%);
}

/* Icon Wrapper */
.story-creation-option-icon-wrapper {
  width: 4.5rem;
  height: 4.5rem;
  border-radius: 1.25rem;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 8px 16px -4px rgba(0, 0, 0, 0.2), 0 4px 8px -2px rgba(0, 0, 0, 0.1);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  margin: 0 auto 1.25rem;
}

.story-creation-option-card:hover .story-creation-option-icon-wrapper {
  transform: scale(1.15) rotate(8deg);
  box-shadow: 0 12px 24px -6px rgba(0, 0, 0, 0.3), 0 6px 12px -3px rgba(0, 0, 0, 0.15);
}

/* Option Title */
.story-creation-option-title {
  font-size: 1.375rem;
  font-weight: 700;
  color: #1f2937;
  margin: 0 0 0.5rem 0;
  position: relative;
  z-index: 1;
  letter-spacing: -0.025em;
}

.dark .story-creation-option-title {
  color: #ffffff;
}

/* Option Description */
.story-creation-option-description {
  font-size: 0.9375rem;
  color: #6b7280;
  margin: 0;
  position: relative;
  z-index: 1;
  line-height: 1.5;
}

.dark .story-creation-option-description {
  color: #9ca3af;
}

/* Responsive Design */
@media (min-width: 640px) {
  .story-creation-modal-options {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 480px) {
  .story-creation-modal-content {
    padding: 1.5rem;
  }

  .story-creation-modal-title {
    font-size: 1.5rem;
  }

  .story-creation-option-icon-wrapper {
    width: 3rem;
    height: 3rem;
  }

  .story-creation-option-title {
    font-size: 1.125rem;
  }
}