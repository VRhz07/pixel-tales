{
    "designSystem": {
      "name": "Imaginary Worlds AI Story Creation Modal",
      "type": "ai_generation_dialog",
      "framework": "react_typescript_tailwind",
      "layout": "modal_form_interface",
      "themes": ["light", "dark"]
    },
    "colorPalette": {
      "light": {
        "background": "#FFFFFF",
        "surface": "#F9FAFB",
        "text": {
          "primary": "#111827",
          "secondary": "#6B7280",
          "tertiary": "#9CA3AF"
        },
        "accent": {
          "purple": "#8B5CF6",
          "purpleDark": "#7C3AED"
        },
        "genreIcons": {
          "fantasy": "#A78BFA",
          "adventure": "#06B6D4",
          "mystery": "#6366F1",
          "action": "#EF4444",
          "friendship": "#EC4899",
          "sciFi": "#06B6D4",
          "comedy": "#F59E0B",
          "educational": "#10B981"
        }
      },
      "dark": {
        "background": "#1F2937",
        "surface": "#111827",
        "overlay": "#0F172A",
        "text": {
          "primary": "#FFFFFF",
          "secondary": "#D1D5DB",
          "tertiary": "#9CA3AF"
        },
        "accent": {
          "purple": "#A78BFA",
          "purpleLight": "#C4B5FD"
        },
        "genreIcons": {
          "fantasy": "#A78BFA",
          "adventure": "#06B6D4",
          "mystery": "#818CF8",
          "action": "#F87171",
          "friendship": "#F9A8D4",
          "sciFi": "#22D3EE",
          "comedy": "#FBBF24",
          "educational": "#34D399"
        }
      },
      "neutral": {
        "white": "#FFFFFF",
        "black": "#000000",
        "gray900": "#111827",
        "gray800": "#1F2937",
        "gray700": "#374151",
        "gray600": "#4B5563",
        "gray500": "#6B7280",
        "gray400": "#9CA3AF",
        "gray300": "#D1D5DB",
        "gray200": "#E5E7EB",
        "gray100": "#F3F4F6",
        "gray50": "#F9FAFB"
      }
    },
    "elementStyling": {
      "modalOverlay": {
        "light": {
          "background": "bg-black/50",
          "backdrop": "backdrop-blur-sm",
          "position": "fixed inset-0",
          "display": "flex items-center justify-center",
          "padding": "p-4",
          "zIndex": "z-50",
          "context": "Modal backdrop - light mode"
        },
        "dark": {
          "background": "bg-black/80",
          "backdrop": "backdrop-blur-sm",
          "position": "fixed inset-0",
          "display": "flex items-center justify-center",
          "padding": "p-4",
          "zIndex": "z-50",
          "context": "Modal backdrop - dark mode (darker overlay)"
        }
      },
      "modalContainer": {
        "light": {
          "background": "bg-white",
          "borderRadius": "rounded-2xl",
          "shadow": "shadow-2xl",
          "maxWidth": "max-w-md",
          "width": "w-full",
          "maxHeight": "max-h-[90vh]",
          "overflow": "overflow-y-auto",
          "padding": "p-6",
          "position": "relative",
          "context": "Modal container - light mode with scroll"
        },
        "dark": {
          "background": "bg-gray-800",
          "borderRadius": "rounded-2xl",
          "shadow": "shadow-2xl shadow-black/50",
          "maxWidth": "max-w-md",
          "width": "w-full",
          "maxHeight": "max-h-[90vh]",
          "overflow": "overflow-y-auto",
          "padding": "p-6",
          "position": "relative",
          "context": "Modal container - dark mode with scroll"
        }
      },
      "modalHeader": {
        "iconBadge": {
          "light": {
            "background": "bg-purple-500",
            "color": "text-white",
            "borderRadius": "rounded-full",
            "size": "w-12 h-12",
            "display": "flex items-center justify-center",
            "spacing": "mb-4",
            "context": "AI sparkle icon badge - light mode"
          },
          "dark": {
            "background": "bg-purple-500",
            "color": "text-white",
            "borderRadius": "rounded-full",
            "size": "w-12 h-12",
            "display": "flex items-center justify-center",
            "spacing": "mb-4",
            "context": "AI sparkle icon badge - dark mode"
          },
          "icon": {
            "size": "h-6 w-6",
            "context": "Sparkle/AI icon"
          }
        },
        "closeButton": {
          "light": {
            "position": "absolute top-4 right-4",
            "color": "text-gray-400",
            "hover": "hover:text-gray-600",
            "padding": "p-1",
            "context": "Close X button - light mode"
          },
          "dark": {
            "position": "absolute top-4 right-4",
            "color": "text-gray-500",
            "hover": "hover:text-gray-300",
            "padding": "p-1",
            "context": "Close X button - dark mode"
          },
          "icon": {
            "size": "h-5 w-5",
            "context": "X icon"
          }
        },
        "title": {
          "light": {
            "color": "text-gray-900",
            "fontSize": "text-2xl",
            "fontWeight": "font-bold",
            "alignment": "text-center",
            "spacing": "mb-2",
            "context": "Modal title - light mode"
          },
          "dark": {
            "color": "text-white",
            "fontSize": "text-2xl",
            "fontWeight": "font-bold",
            "alignment": "text-center",
            "spacing": "mb-2",
            "context": "Modal title - dark mode"
          }
        },
        "subtitle": {
          "light": {
            "color": "text-gray-500",
            "fontSize": "text-sm",
            "alignment": "text-center",
            "lineHeight": "leading-relaxed",
            "spacing": "mb-6",
            "context": "Modal description - light mode"
          },
          "dark": {
            "color": "text-gray-400",
            "fontSize": "text-sm",
            "alignment": "text-center",
            "lineHeight": "leading-relaxed",
            "spacing": "mb-6",
            "context": "Modal description - dark mode"
          }
        }
      },
      "storyInput": {
        "label": {
          "light": {
            "color": "text-gray-900",
            "fontSize": "text-sm",
            "fontWeight": "font-semibold",
            "spacing": "mb-2 block",
            "context": "Input label - light mode"
          },
          "dark": {
            "color": "text-white",
            "fontSize": "text-sm",
            "fontWeight": "font-semibold",
            "spacing": "mb-2 block",
            "context": "Input label - dark mode"
          }
        },
        "textArea": {
          "light": {
            "background": "bg-white",
            "border": "border-2 border-gray-300",
            "borderRadius": "rounded-xl",
            "padding": "p-4",
            "fontSize": "text-sm",
            "color": "text-gray-900",
            "placeholder": "placeholder-gray-400",
            "minHeight": "min-h-32",
            "width": "w-full",
            "resize": "resize-none",
            "focus": {
              "outline": "focus:outline-none",
              "ring": "focus:ring-0",
              "borderColor": "focus:border-purple-500",
              "context": "Focus state - purple border"
            },
            "spacing": "mb-6",
            "context": "Story input textarea - light mode"
          },
          "dark": {
            "background": "bg-gray-900",
            "border": "border-2 border-purple-500",
            "borderRadius": "rounded-xl",
            "padding": "p-4",
            "fontSize": "text-sm",
            "color": "text-white",
            "placeholder": "placeholder-gray-500",
            "minHeight": "min-h-32",
            "width": "w-full",
            "resize": "resize-none",
            "focus": {
              "outline": "focus:outline-none",
              "ring": "focus:ring-0",
              "borderColor": "focus:border-purple-400",
              "context": "Focus state - lighter purple border"
            },
            "spacing": "mb-6",
            "context": "Story input textarea - dark mode with purple border"
          }
        }
      },
      "genreSection": {
        "label": {
          "light": {
            "color": "text-gray-900",
            "fontSize": "text-sm",
            "fontWeight": "font-semibold",
            "spacing": "mb-3 block",
            "context": "Genre section label - light mode"
          },
          "dark": {
            "color": "text-white",
            "fontSize": "text-sm",
            "fontWeight": "font-semibold",
            "spacing": "mb-3 block",
            "context": "Genre section label - dark mode"
          }
        },
        "grid": {
          "display": "grid grid-cols-2",
          "spacing": "gap-3 mb-6",
          "context": "2-column genre grid"
        },
        "genreCard": {
          "default": {
            "light": {
              "background": "bg-gray-50",
              "border": "border-2 border-transparent",
              "borderRadius": "rounded-xl",
              "padding": "p-4",
              "display": "flex flex-col items-center",
              "spacing": "space-y-2",
              "cursor": "cursor-pointer",
              "transition": "transition-all",
              "hover": "hover:bg-gray-100",
              "context": "Genre card default - light mode"
            },
            "dark": {
              "background": "bg-gray-900/50",
              "border": "border-2 border-gray-700",
              "borderRadius": "rounded-xl",
              "padding": "p-4",
              "display": "flex flex-col items-center",
              "spacing": "space-y-2",
              "cursor": "cursor-pointer",
              "transition": "transition-all",
              "hover": "hover:bg-gray-900",
              "context": "Genre card default - dark mode"
            }
          },
          "selected": {
            "light": {
              "background": "bg-purple-50",
              "border": "border-2 border-purple-500",
              "borderRadius": "rounded-xl",
              "padding": "p-4",
              "display": "flex flex-col items-center",
              "spacing": "space-y-2",
              "cursor": "cursor-pointer",
              "context": "Genre card selected - light mode"
            },
            "dark": {
              "background": "bg-purple-900/30",
              "border": "border-2 border-purple-500",
              "borderRadius": "rounded-xl",
              "padding": "p-4",
              "display": "flex flex-col items-center",
              "spacing": "space-y-2",
              "cursor": "cursor-pointer",
              "context": "Genre card selected - dark mode"
            }
          },
          "icon": {
            "size": "h-6 w-6",
            "context": "Genre icons - color varies by genre"
          },
          "label": {
            "light": {
              "color": "text-gray-700",
              "fontSize": "text-sm",
              "fontWeight": "font-medium",
              "context": "Genre label - light mode"
            },
            "dark": {
              "color": "text-gray-300",
              "fontSize": "text-sm",
              "fontWeight": "font-medium",
              "context": "Genre label - dark mode"
            }
          }
        }
      },
      "generateButton": {
        "light": {
          "background": "bg-purple-500",
          "color": "text-white",
          "borderRadius": "rounded-xl",
          "padding": "px-6 py-3",
          "fontSize": "text-base",
          "fontWeight": "font-semibold",
          "width": "w-full",
          "display": "flex items-center justify-center",
          "spacing": "space-x-2",
          "hover": "hover:bg-purple-600",
          "transition": "transition-colors",
          "context": "Generate button - light mode"
        },
        "dark": {
          "background": "bg-purple-500",
          "color": "text-white",
          "borderRadius": "rounded-xl",
          "padding": "px-6 py-3",
          "fontSize": "text-base",
          "fontWeight": "font-semibold",
          "width": "w-full",
          "display": "flex items-center justify-center",
          "spacing": "space-x-2",
          "hover": "hover:bg-purple-600",
          "transition": "transition-colors",
          "context": "Generate button - dark mode"
        },
        "icon": {
          "size": "h-5 w-5",
          "context": "Sparkle icon in button"
        }
      }
    },
    "genreOptions": {
      "fantasy": {
        "icon": "castle/magic wand icon",
        "color": {
          "light": "#A78BFA",
          "dark": "#A78BFA"
        },
        "label": "Fantasy"
      },
      "adventure": {
        "icon": "compass/rocket icon",
        "color": {
          "light": "#06B6D4",
          "dark": "#06B6D4"
        },
        "label": "Adventure"
      },
      "mystery": {
        "icon": "magnifying glass/detective icon",
        "color": {
          "light": "#6366F1",
          "dark": "#818CF8"
        },
        "label": "Mystery"
      },
      "action": {
        "icon": "sword/lightning bolt icon",
        "color": {
          "light": "#EF4444",
          "dark": "#F87171"
        },
        "label": "Action"
      },
      "friendship": {
        "icon": "heart icon",
        "color": {
          "light": "#EC4899",
          "dark": "#F9A8D4"
        },
        "label": "Friendship"
      },
      "sciFi": {
        "icon": "lightning/energy icon",
        "color": {
          "light": "#06B6D4",
          "dark": "#22D3EE"
        },
        "label": "Sci-Fi"
      },
      "comedy": {
        "icon": "smiley/laughing face icon",
        "color": {
          "light": "#F59E0B",
          "dark": "#FBBF24"
        },
        "label": "Comedy"
      },
      "educational": {
        "icon": "graduation cap/book icon",
        "color": {
          "light": "#10B981",
          "dark": "#34D399"
        },
        "label": "Educational"
      }
    },
    "doNotRules": {
      "themes": [
        "DO NOT use same background colors for light and dark - dark mode needs darker surfaces",
        "DO NOT forget purple border on textarea in dark mode - it's a key visual difference",
        "DO NOT use same text colors - ensure proper contrast for each theme",
        "DO NOT make overlay same opacity - dark mode needs darker backdrop (bg-black/80 vs bg-black/50)"
      ],
      "layout": [
        "DO NOT change modal size between themes - keep consistent dimensions",
        "DO NOT alter spacing or padding between themes - maintain same structure",
        "DO NOT reposition elements - only colors change, not layout",
        "DO NOT forget max-height and overflow - modal needs to scroll with 8 genres"
      ],
      "genreCards": [
        "DO NOT use solid backgrounds for unselected cards in dark mode - use semi-transparent",
        "DO NOT remove borders from genre cards in dark mode - they need gray-700 borders",
        "DO NOT make selected state same as default - purple border and background are essential",
        "DO NOT change genre icon colors between themes except for slight brightness adjustments",
        "DO NOT make genre grid more than 2 columns - keep grid-cols-2"
      ],
      "textarea": [
        "DO NOT use gray border in dark mode - must be purple border-2 border-purple-500",
        "DO NOT make dark mode textarea same as light - bg-gray-900 is essential",
        "DO NOT remove border focus states - they're important feedback"
      ],
      "button": [
        "DO NOT change button color between themes - purple-500 is consistent",
        "DO NOT use outline style - solid purple background only",
        "DO NOT remove sparkle icon from button"
      ],
      "scrolling": [
        "DO NOT make modal fixed height without scroll - needs max-h-[90vh] overflow-y-auto",
        "DO NOT hide scrollbar - natural scrolling behavior needed",
        "DO NOT remove padding at bottom - ensure last genre card has space"
      ]
    },
    "componentMapping": {
      "AIStoryModal": {
        "overlay": {
          "light": "fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",
          "dark": "fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50"
        },
        "container": {
          "light": "bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto p-6 relative",
          "dark": "bg-gray-800 rounded-2xl shadow-2xl shadow-black/50 max-w-md w-full max-h-[90vh] overflow-y-auto p-6 relative"
        }
      },
      "ModalHeader": {
        "iconBadge": "bg-purple-500 text-white rounded-full w-12 h-12 flex items-center justify-center mb-4",
        "closeButton": {
          "light": "absolute top-4 right-4 text-gray-400 hover:text-gray-600 p-1",
          "dark": "absolute top-4 right-4 text-gray-500 hover:text-gray-300 p-1"
        },
        "title": {
          "light": "text-2xl font-bold text-center mb-2 text-gray-900",
          "dark": "text-2xl font-bold text-center mb-2 text-white"
        },
        "subtitle": {
          "light": "text-sm text-center leading-relaxed mb-6 text-gray-500",
          "dark": "text-sm text-center leading-relaxed mb-6 text-gray-400"
        }
      },
      "StoryInput": {
        "label": {
          "light": "text-sm font-semibold mb-2 block text-gray-900",
          "dark": "text-sm font-semibold mb-2 block text-white"
        },
        "textarea": {
          "light": "bg-white border-2 border-gray-300 rounded-xl p-4 text-sm text-gray-900 placeholder-gray-400 min-h-32 w-full resize-none focus:outline-none focus:ring-0 focus:border-purple-500 mb-6",
          "dark": "bg-gray-900 border-2 border-purple-500 rounded-xl p-4 text-sm text-white placeholder-gray-500 min-h-32 w-full resize-none focus:outline-none focus:ring-0 focus:border-purple-400 mb-6"
        }
      },
      "GenreSection": {
        "label": {
          "light": "text-sm font-semibold mb-3 block text-gray-900",
          "dark": "text-sm font-semibold mb-3 block text-white"
        },
        "grid": "grid grid-cols-2 gap-3 mb-6"
      },
      "GenreCard": {
        "default": {
          "light": "bg-gray-50 border-2 border-transparent rounded-xl p-4 flex flex-col items-center space-y-2 cursor-pointer transition-all hover:bg-gray-100",
          "dark": "bg-gray-900/50 border-2 border-gray-700 rounded-xl p-4 flex flex-col items-center space-y-2 cursor-pointer transition-all hover:bg-gray-900"
        },
        "selected": {
          "light": "bg-purple-50 border-2 border-purple-500 rounded-xl p-4 flex flex-col items-center space-y-2 cursor-pointer",
          "dark": "bg-purple-900/30 border-2 border-purple-500 rounded-xl p-4 flex flex-col items-center space-y-2 cursor-pointer"
        },
        "label": {
          "light": "text-sm font-medium text-gray-700",
          "dark": "text-sm font-medium text-gray-300"
        }
      },
      "GenerateButton": {
        "base": "bg-purple-500 text-white rounded-xl px-6 py-3 text-base font-semibold w-full flex items-center justify-center space-x-2 hover:bg-purple-600 transition-colors"
      }
    },
    "interactionPatterns": {
      "textInput": {
        "behavior": "User types story idea",
        "placeholder": "E.g., A brave dragon who's afraid of flying...",
        "maxLength": "Optional character limit",
        "context": "Story concept input"
      },
      "genreSelection": {
        "behavior": "Single selection - click to select genre",
        "feedback": "Visual change - purple border and background when selected",
        "requirement": "Optional or required before generation",
        "context": "Genre category selection from 8 options"
      },
      "scrolling": {
        "behavior": "Modal scrolls when content exceeds viewport height",
        "trigger": "Automatically when 8 genres don't fit in viewport",
        "context": "Natural scroll behavior"
      },
      "generation": {
        "trigger": "Click 'Generate My Story' button",
        "validation": "Check if story input has content",
        "loading": "Show loading state on button during generation",
        "success": "Close modal and navigate to generated story",
        "context": "AI story generation flow"
      },
      "modalDismiss": {
        "methods": ["Click X button", "Click outside modal", "ESC key"],
        "behavior": "Close modal without generating",
        "context": "Modal exit options"
      }
    },
    "stateManagement": {
      "formData": {
        "storyIdea": "String - user's story concept",
        "selectedGenre": "String - chosen genre or null",
        "context": "Form input data"
      },
      "uiStates": {
        "isGenerating": "Boolean - loading state during AI generation",
        "theme": "light | dark - current theme mode",
        "context": "UI feedback states"
      },
      "validation": {
        "storyIdeaRequired": "Boolean - whether input is required",
        "minLength": "Number - minimum character count if applicable",
        "context": "Form validation rules"
      }
    },
    "accessibility": {
      "modalTrap": "Focus trapped within modal when open",
      "escapeKey": "ESC key closes modal",
      "ariaLabels": "Proper labels for close button, genre cards, and form inputs",
      "contrast": "WCAG AA compliant contrast in both themes",
      "tabOrder": "Logical tab navigation through form elements",
      "scrollAnnouncement": "Screen reader announces scrollable region"
    },
    "responsiveConsiderations": {
      "mobile": {
        "maxWidth": "max-w-md",
        "padding": "p-4 on overlay",
        "genreGrid": "grid-cols-2 maintained",
        "scrolling": "max-h-[90vh] ensures modal doesn't exceed viewport",
        "context": "Mobile optimized with scroll support"
      },
      "tablet": {
        "maxWidth": "max-w-md (same as mobile)",
        "context": "Same layout as mobile"
      }
    }
  }